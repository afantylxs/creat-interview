(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{135:function(e,a,t){},238:function(e,a,t){e.exports=t.p+"static/media/login.8f9a2c7f.jpg"},281:function(e,a,t){e.exports=t(679)},291:function(e,a,t){},355:function(e,a,t){},381:function(e,a,t){},490:function(e,a,t){},491:function(e,a,t){},493:function(e,a,t){},496:function(e,a,t){},497:function(e,a,t){},501:function(e,a,t){},558:function(e,a,t){},559:function(e,a,t){},560:function(e,a,t){e.exports=t.p+"static/media/404.ec0e15f6.png"},570:function(e,a,t){},603:function(e,a,t){},650:function(e,a,t){},651:function(e,a,t){},652:function(e,a,t){},653:function(e,a,t){},654:function(e,a,t){},655:function(e,a,t){},656:function(e,a,t){},658:function(e,a,t){},659:function(e,a,t){},664:function(e,a,t){},674:function(e,a,t){},675:function(e,a,t){},676:function(e,a,t){},677:function(e,a,t){},678:function(e,a,t){},679:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"changeBirthdayList",(function(){return U})),t.d(n,"changeRejularList",(function(){return W})),t.d(n,"changeFieldList",(function(){return K})),t.d(n,"changeReminderList",(function(){return J})),t.d(n,"changeMyToDoProjectList",(function(){return z})),t.d(n,"changeMyToDoEducationList",(function(){return Q})),t.d(n,"changeInterviewResumeData",(function(){return $})),t.d(n,"changeDistributionResumeData",(function(){return X})),t.d(n,"changeInterviewRejularData",(function(){return Z})),t.d(n,"getBirthdayList",(function(){return ee})),t.d(n,"getRejularList",(function(){return ae})),t.d(n,"getFieldList",(function(){return te})),t.d(n,"getReminderList",(function(){return ne})),t.d(n,"queryMyToDoProject",(function(){return re})),t.d(n,"queryMyToDoEducation",(function(){return le})),t.d(n,"queryMyToDoAssignationInterview",(function(){return ie})),t.d(n,"queryMyToDoInterview",(function(){return oe})),t.d(n,"queryResumeWillRelease",(function(){return se}));var r={};t.r(r),t.d(r,"changeBasicVisible",(function(){return ue})),t.d(r,"changeBasicList",(function(){return de})),t.d(r,"changeRsRoleData",(function(){return pe})),t.d(r,"changeDmRoleData",(function(){return me})),t.d(r,"changeBuList",(function(){return he})),t.d(r,"changeDepList",(function(){return fe})),t.d(r,"changeDepModalList",(function(){return ge})),t.d(r,"changeDicList",(function(){return ye})),t.d(r,"changemanageRoleData",(function(){return be})),t.d(r,"changeGradeData",(function(){return Ee})),t.d(r,"changeCurrentPageData",(function(){return ve})),t.d(r,"queryEmployeeBaseInfoList",(function(){return Ie})),t.d(r,"saveEmployeeBaseInfo",(function(){return Ce})),t.d(r,"updateEmployeeBaseInfo",(function(){return we})),t.d(r,"deptInfoBu",(function(){return je})),t.d(r,"queryUserListInfoByRolePermission",(function(){return ke})),t.d(r,"searchEmployeeBaseInfoList",(function(){return De})),t.d(r,"deptInfo",(function(){return Se})),t.d(r,"dictInfo",(function(){return Oe}));var l={};t.r(l),t.d(l,"changeProjectVisible",(function(){return xe})),t.d(l,"changeLeaveProjVisible",(function(){return Le})),t.d(l,"changeBuList",(function(){return Ne})),t.d(l,"changeDepList",(function(){return Fe})),t.d(l,"changeProjectDataList",(function(){return Ae})),t.d(l,"changeFocusFirstCategoryId",(function(){return Pe})),t.d(l,"changeFocusSecondCategoryId",(function(){return Re})),t.d(l,"changeFocusThirdCategoryId",(function(){return Ve})),t.d(l,"changeFocusAliGradeCategoryId",(function(){return Ge})),t.d(l,"changeFocusWorkCity",(function(){return Me})),t.d(l,"changeCurrentPageData",(function(){return _e})),t.d(l,"changeFocusProjectList",(function(){return Be})),t.d(l,"changeFocusIframe",(function(){return Ye})),t.d(l,"changeCareerGroupId",(function(){return qe})),t.d(l,"changeGroupDeptId",(function(){return He})),t.d(l,"changeCareerDeptId",(function(){return Ue})),t.d(l,"changeDeptId",(function(){return We})),t.d(l,"changeSaveSearchSubmit",(function(){return Ke})),t.d(l,"changeFocusLeaveProjList",(function(){return Je})),t.d(l,"changeFocusProductLineList",(function(){return ze})),t.d(l,"handleSaveSearchThis",(function(){return Qe})),t.d(l,"deptInfoBu",(function(){return $e})),t.d(l,"deptInfo",(function(){return Xe})),t.d(l,"deptInfoName",(function(){return Ze})),t.d(l,"queryProjectRecordInfoList",(function(){return ea})),t.d(l,"deptInfoIframe",(function(){return aa})),t.d(l,"dictInfo",(function(){return ta})),t.d(l,"updateProjectRecordInfoById",(function(){return na}));var i={};t.r(i),t.d(i,"changeEducationVisible",(function(){return la})),t.d(i,"changeBuList",(function(){return ia})),t.d(i,"changeDepList",(function(){return oa})),t.d(i,"changeEducList",(function(){return sa})),t.d(i,"changeDircInfoList",(function(){return ca})),t.d(i,"changeCurrentPageData",(function(){return ua})),t.d(i,"changeSchoolTypeList",(function(){return da})),t.d(i,"deptInfoBu",(function(){return pa})),t.d(i,"deptInfo",(function(){return ma})),t.d(i,"queryEducationRecordInfoList",(function(){return ha})),t.d(i,"dictInfo",(function(){return fa})),t.d(i,"updateEducationRecordInfoById",(function(){return ga}));var o={};t.r(o),t.d(o,"changeKpiWeekLeaveDataAnalysis",(function(){return ba})),t.d(o,"changeWeekEmployeeDataAnalysis",(function(){return Ea})),t.d(o,"changeKpiWeekJobTypeDataAnalysis",(function(){return va})),t.d(o,"changeKpiWeekKpiWholeDataAnalysis",(function(){return Ia})),t.d(o,"changeQueryEmployeeCountByDept",(function(){return Ca})),t.d(o,"changeQueryEmployeeCountByWorkCity",(function(){return wa})),t.d(o,"changeQueryEmployeeCountByJobClass",(function(){return ja})),t.d(o,"changeWeeklyYear",(function(){return ka})),t.d(o,"changeWeeklyCity",(function(){return Da})),t.d(o,"changeWeeklyJobClass",(function(){return Sa})),t.d(o,"queryKpiWeekLeaveDataAnalysis",(function(){return Oa})),t.d(o,"queryKpiWeekEmployeeDataAnalysis",(function(){return Ta})),t.d(o,"queryKpiWeekJobTypeDataAnalysis",(function(){return xa})),t.d(o,"queryKpiWeekKpiWholeDataAnalysis",(function(){return La})),t.d(o,"queryEmployeeCountByDept",(function(){return Na})),t.d(o,"queryEmployeeCountByWorkCity",(function(){return Fa})),t.d(o,"queryEmployeeCountByJobClass",(function(){return Aa}));var s={};t.r(s),t.d(s,"changeAssignModalVisible",(function(){return Ra})),t.d(s,"changeAddModalVisible",(function(){return Va})),t.d(s,"changeEditModalVisible",(function(){return Ga})),t.d(s,"changeDetailsModalVisible",(function(){return Ma})),t.d(s,"changeinterviewerList",(function(){return _a})),t.d(s,"changeResourceMangerList",(function(){return Ba})),t.d(s,"changeAssignInterviewList",(function(){return Ya})),t.d(s,"changeOwnerRangeList",(function(){return qa})),t.d(s,"changePositionLevelList",(function(){return Ha})),t.d(s,"changePositionTypeList",(function(){return Ua})),t.d(s,"changeFocusProjectList",(function(){return Wa})),t.d(s,"changeQueryInterviewList",(function(){return Ka})),t.d(s,"changeSelectedRowKeys",(function(){return Ja})),t.d(s,"changeDatailsList",(function(){return za})),t.d(s,"changeCurrentPage",(function(){return Qa})),t.d(s,"queryUserListInfoByRolePermission",(function(){return $a})),t.d(s,"queryAssignInterviewList",(function(){return Xa})),t.d(s,"queryInterviewList",(function(){return Za})),t.d(s,"addInterview",(function(){return et})),t.d(s,"dictInfo",(function(){return at})),t.d(s,"queryInterviewInfoById",(function(){return tt})),t.d(s,"assignInterview",(function(){return nt}));var c={};t.r(c),t.d(c,"changeLeaveVisible",(function(){return lt})),t.d(c,"changeLeaveDataList",(function(){return it})),t.d(c,"changeHrOneMonthClass",(function(){return ot})),t.d(c,"changeHrOneMonthType",(function(){return st})),t.d(c,"changebusOnlineFeedbackType",(function(){return ct})),t.d(c,"changeBusinessLeaveType",(function(){return ut})),t.d(c,"changeIpsaLeaveReason",(function(){return dt})),t.d(c,"changeBuList",(function(){return pt})),t.d(c,"changeDepList",(function(){return mt})),t.d(c,"changeFocusLeaveProjList",(function(){return ht})),t.d(c,"changeCurrentPageData",(function(){return ft})),t.d(c,"handleSaveSearchThis",(function(){return gt})),t.d(c,"queryEmployeeLeaveInfoList",(function(){return yt})),t.d(c,"dictInfo",(function(){return bt})),t.d(c,"dictInfoSon",(function(){return Et})),t.d(c,"saveEmployeeLeaveInfo",(function(){return vt})),t.d(c,"updateEmployeeLeaveInfoById",(function(){return It})),t.d(c,"deptInfoBu",(function(){return Ct})),t.d(c,"deptInfo",(function(){return wt}));var u=t(0),d=t.n(u),p=t(19),m=t.n(p),h=t(8),f=t.n(h),g=t(21),y=(t(290),t(291),t(83)),b=t(278),E=t(7),v={rejularList:[],birthdayList:[],fieldList:[],reminderList:{},myTodoList:[],interviewRejularList:[],distributionResume:0,interviewResume:0,myTodoeducationData:"",regularTotal:1,fieldTotal:1,interviewRejularTotal:0},I=(t(39),t(3)),C=t.n(I),w=t(51),j=t.n(w),k=j.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"."}).BASE_URL,timeout:6e3});k.interceptors.request.use((function(e){var a=localStorage.getItem("token");return"post"===e.method?e.data=Object(E.a)({},e.data):e.params=Object(E.a)({},e.params),e.headers.Authorization="Bearer "+a,e}),(function(e){Promise.reject(e)})),k.interceptors.response.use((function(e){return e.data.code,e.data}),(function(e){if(e&&e.response&&401===e.response.status){return localStorage.setItem("token",null),localStorage.setItem("flag",!1),Promise.reject({data:{message:"\u8bf7\u91cd\u65b0\u767b\u5f55"}})}return Promise.reject(e.response)}));var D,S,O,T,x,L,N,F,A,P,R,V,G,M,_,B,Y,q,H=k,U=function(e){return{type:"home/BIRTHDAY_DETAIL",payload:e}},W=function(e){return{type:"home/REGULAR_DETAIL",payload:e}},K=function(e){return{type:"home/FIELD_DETAIL",payload:e}},J=function(e){return{type:"home/REMINDER_DETAIL",payload:e}},z=function(e){return{type:"home/MYTOPROJECT_DETAIL",payload:e}},Q=function(e){return{type:"home/MYTOEDUCATION_DETAIL",payload:e}},$=function(e){return{type:"home/CHANGE_INTERVIEWRESUME",payload:e}},X=function(e){return{type:"home/CHANGE_DISTRIBUTIONRESUME",payload:e}},Z=function(e){return{type:"home/CHANGE_INTERVIEWREJULARLIST",payload:e}},ee=function(){return function(e){H.get("/api/home/queryEmployeeBirthdayCountByMonth.json",{params:{pageSize:3,currentPage:1}}).then((function(a){if(a&&a.success){var t=a.data;e(U(t))}else C.a.error("\u83b7\u53d6\u5217\u8868\u5931\u8d25")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},ae=function(e){return function(a){H.get("api/home/queryWillRegularEmployee.json",{params:e}).then((function(e){if(e&&e.success){var t=e.data,n={data:t.data,regularTotal:t.total};a(W(n))}else C.a.error("\u83b7\u53d6\u5217\u8868\u5931\u8d25")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},te=function(e){return function(a){H.get("/api/home/queryAreaEmployeeCount.json",{params:Object(E.a)({},e)}).then((function(e){if(e&&e.success){var t=e.data,n={data:t.data,fieldTotal:t.total};a(K(n))}else C.a.error("\u83b7\u53d6\u5217\u8868\u5931\u8d25")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},ne=function(){return function(e){H.get("/api/home/queryEmployeeCountByMonthAndStatus.json").then((function(a){if(a&&a.success){var t=a.data;e(J(t))}else C.a.error("\u83b7\u53d6\u5217\u8868\u5931\u8d25")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},re=function(){return function(e){H.get("/api/home/queryMyToDoProject.json").then((function(a){if(a&&a.success){var t=a.data;e(z(t))}else C.a.error("\u83b7\u53d6\u5217\u8868\u5931\u8d25")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},le=function(){return function(e){H.get("/api/home/queryMyToDoEducation.json").then((function(a){if(a&&a.success){var t=a.data;e(Q(t))}else C.a.error("\u83b7\u53d6\u5217\u8868\u5931\u8d25")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},ie=function(){return function(e){H.get("/api/audition/home/queryMyToDoAssignationInterview.json").then((function(a){a&&a.success?e(X(a.data)):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},oe=function(){return function(e){H.get("/api/audition/home/queryMyToDoInterview.json").then((function(a){a&&a.success?e($(a.data)):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},se=function(e){return function(a){H.get("/api/audition/home/queryResumeWillRelease.json",{params:e}).then((function(e){if(e&&e.success){var t=e.data;console.log("data",t);var n={data:t.data?t.data:[],total:t.total};a(Z(n))}else C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},ce={basicVisible:!1,currentPageData:{currentPage:1,pageSize:10,keyword:"",ipsaBuDeptId:"",ipsaDeptId:"",gender:"",joiningDay:"",empProperty:"",joiningDayStartTime:"",joiningDayEndTime:"",directSuperiorId:""},basicRecord:{},basicList:[],rsData:[],dmData:[],buList:[],depList:[],dicList:[],dicModalList:[],manageList:[],gradeList:[],total:1},ue=function(e){return{type:"basic/CHANGE_BASICVISIBLE",payload:e}},de=function(e){return{type:"basic/CHANGE_BASICLIST",payload:e}},pe=function(e){return{type:"basic/RS_ROLE",payload:e}},me=function(e){return{type:"basic/DM_ROLE",payload:e}},he=function(e){return{type:"basic/CHANGE_BULIST",payload:e}},fe=function(e){return{type:"basic/CHANGE_DEPLIST",payload:e}},ge=function(e){return{type:"basic/CHANGE_DEPMODALLIST",payload:e}},ye=function(e){return{type:"basic/CHANGE_DICLIST",payload:e}},be=function(e){return{type:"basic/CHANGE_MANAGELIST",payload:e}},Ee=function(e){return{type:"basic/CHANGE_GRADELIST",payload:e}},ve=function(e){return{type:"basic/CURRENTPAGEDATA",payload:e}},Ie=function(e){return function(a){H.post("/api/base/queryEmployeeBaseInfoList.json",e).then((function(e){if(e&&e.success){var t=e.data.data,n=e.data.total;t.forEach((function(e){e.birthday=f()(e.birthday).format("YYYY-MM-DD"),e.joiningDay=f()(e.joiningDay).format("YYYY-MM-DD"),e.correctionTime=e.correctionTime?f()(e.correctionTime).format("YYYY-MM-DD"):""})),a(de({basiclist:t,total:n}))}})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},Ce=function(e){return function(a,t){var n={currentPage:t().basic.currentPageData.currentPage,pageSize:10};H.post("/api/base/saveEmployeeBaseInfo.json",e).then((function(e){e&&e.success?(a(ue({basicVisible:!1,record:{}})),C.a.success("\u65b0\u5458\u5de5\u65b0\u589e\u6210\u529f"),a(Ie(n))):C.a.error("\u65b0\u5458\u5de5\u65b0\u589e\u5931\u8d25"+e.message)})).catch((function(e){e.data&&e.data.message?C.a.error("\u65b0\u5458\u5de5\u65b0\u589e\u5931\u8d25\uff1a"+e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},we=function(e){return function(a,t){var n={currentPage:t().basic.currentPageData.currentPage,pageSize:10};H.post("/api/base/updateEmployeeBaseInfo.json",e).then((function(e){e&&e.success?(a(ue({basicVisible:!1,record:{}})),C.a.success("\u4fee\u6539\u6210\u529f"),a(Ie(n))):C.a.error("\u4fee\u6539\u5931\u8d25\uff1a"+e.message)})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},je=function(e){return function(e){H.get("/api/deptInfo/bu").then((function(a){if(a&&a.success){var t=a.data;e(he(t))}})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},ke=function(e){return function(a){H.get("/api/user/queryUserListInfoByRolePermission.json",{params:{permission:e}}).then((function(t){if(t&&t.success){var n=t.data;switch(e){case"recruitmentConsultant":a(pe(n));break;case"deliveryManager":a(me(n));break;case"projectManage":a(be(n))}}})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},De=function(e){return function(a){H.get("/api/base/searchEmployeeBaseInfoList.json",{params:{currentPage:1,pageSize:10,keyword:e}}).then((function(e){if(e&&e.success){var t=e.data.data;a(de(t))}})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},Se=function(e){return function(a){H.get("/api/deptInfo/pid",{params:{pid:e.id?e.id:e}}).then((function(t){if(t&&t.success){var n=t.data;e.id?a(ge(n)):a(fe(n))}})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},Oe=function(e){return function(a){H.get("/api/dictInfo/name",{params:{dictName:e}}).then((function(t){if(t&&t.success){var n=t.data;switch(e){case"general_position":a(ye(n));break;case"position_grade_code":a(Ee(n))}}})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},Te={projectVisible:!1,leaveProjVisible:!1,projectRecord:{},leaveProjRecord:{},buList:[],depList:[],projectDataList:[],total:1,firstCategoryidList:[],secondCategoryidList:[],thirdCategoryidList:[],aliGradeCodeList:[],workCityList:[],newProjectList:[],iframeList:[],careerGroupList:[],groupdeptList:[],careerdepList:[],deptIdList:[],saveSearchData:{},leaveProjList:[],thats:null,productLineList:[],currentPageData:{currentPage:1,pageSize:10,aliNo:"",ipsaBuDeptId:"",ipsaDeptId:"",projectId:"",joiningProjTimeFormat:"",firstCategoryId:"",secondCategoryId:"",thirdJobId:"",aliGradeCode:"",techDirection:"",aliFrameId:"",careerGroupId:"",groupDeptId:"",careerDeptId:"",deptId:"",projetDurationType:"",projetType:"",iduFlag:"",tlFlag:"",workCity:"",workAddress:"",resourceStatus:"",backboneFlag:"",chargeFlag:"",keyword:"",businessLine:"",productLine:""}},xe=function(e){return{type:"project/CHANGE_PROJECTVISIBLE",payload:e}},Le=function(e){return{type:"project/CHANGE_LEAVEPROJVISIBLE",payload:e}},Ne=function(e){return{type:"project/CHANGE_BULIST",payload:e}},Fe=function(e){return{type:"project/CHANGE_DEPLIST",payload:e}},Ae=function(e){return{type:"project/CHANGE_PROJECTDATALIST",payload:e}},Pe=function(e){return{type:"project/CHANGE_FIRSTCATEGORYID",payload:e}},Re=function(e){return{type:"project/CHANGE_SECONDCATEGORYID",payload:e}},Ve=function(e){return{type:"project/CHANGE_THIRDCATEGORYID",payload:e}},Ge=function(e){return{type:"project/CHANGE_ALIGRADECODE",payload:e}},Me=function(e){return{type:"project/CHANGE_WORKCITY",payload:e}},_e=function(e){return{type:"project/CHANGE_PROJECTPAGE",payload:e}},Be=function(e){return{type:"project/CHANGE_NEWPROJECTDATALIST",payload:e}},Ye=function(e){return{type:"project/CHANGE_IFRAME",payload:e}},qe=function(e){return{type:"project/CHANGE_CAREERGROUP",payload:e}},He=function(e){return{type:"project/CHANGE_GROUPDEPT",payload:e}},Ue=function(e){return{type:"project/CHANGE_CAREERDEPT",payload:e}},We=function(e){return{type:"project/CHANGE_DEPTID",payload:e}},Ke=function(e){return{type:"project/CHANGE_SAVESEARCHSUBMIT",payload:e}},Je=function(e){return{type:"project/CHANGE_LEAVEPROJ",payload:e}},ze=function(e){return{type:"project/CHANGE_PRODUCTLINE",payload:e}},Qe=function(e){return{type:"project/CHANGE_SAVESEARCHTHIS",payload:e}},$e=function(e){return function(e){H.get("/api/deptInfo/bu").then((function(a){if(a&&a.success){var t=a.data;e(Ne(t))}else C.a.error("\u51fa\u9519\u4e86")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86")}))}},Xe=function(e){return function(a){H.get("/api/deptInfo/pid",{params:{pid:e.value?e.value:""}}).then((function(t){if(t&&t.success){var n=t.data;switch(e.flag){case"aliFrameId":a(qe(n));break;case"zero":a(Ye(n));break;case"careerGroupId":a(He(n));break;case"groupDeptId":a(Ue(n));break;case"careerDeptId":a(We(n));break;case"bu":a(Fe(n))}}else C.a.error("\u51fa\u9519\u4e86")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86")}))}},Ze=function(e){return function(a){H.get("/api/dictInfo/name/pid",{params:{dictName:e.activeKey,pid:e.pid?e.pid:""}}).then((function(t){if(t&&t.success&&t.data){var n=t.data;switch(e.activeKey){case"job_class_2":a(Re(n));break;case"job_class_3":a(Ve(n))}}else C.a.error("\u51fa\u9519\u4e86"),a(Re([])),a(Ve([]))})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86")}))}},ea=function(e){return function(a){H.post("/api/project/queryProjectRecordInfoList.json",e).then((function(e){if(e&&e.success&&e.data){var t=e.data,n=t.data,r=t.total;a(Ae({data:n,total:r}))}else C.a.error("\u51fa\u9519\u4e86")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},aa=function(e){return function(a){H.get("/api/deptInfo/frame",{params:{pid:e.value}}).then((function(t){if(t&&t.success&&t.data){var n=t.data;switch(e.flag){case"aliFrameId":a(qe(n));break;case"zero":a(Ye(n));break;case"careerGroupId":a(He(n));break;case"groupDeptId":a(Ue(n));break;case"careerDeptId":a(We(n))}}else C.a.error("\u51fa\u9519\u4e86")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},ta=function(e){return function(a){H.get("/api/dictInfo/name",{params:{dictName:e}}).then((function(t){if(t&&t.success){var n=t.data;switch(e){case"job_class_1":a(Pe(n));break;case"job_class_level":a(Ge(n));break;case"work_city":a(Me(n));break;case"project_list":a(Be(n));break;case"leave_proj_reason":a(Je(n));break;case"product_line":a(ze(n))}}else C.a.error("\u83b7\u53d6\u4e00\u7c7b\u5c97\u4f4d\u5931\u8d25")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},na=function(e){return function(a){H.post("/api/project/updateProjectRecordInfoById.json",e).then((function(e){e&&e.success?(C.a.success("\u7f16\u8f91\u6210\u529f"),a(xe({projectVisible:!1,record:{}})),a(Le({leaveProjVisible:!1,record:{}})),a(ea({currentPage:1,pageSize:10}))):C.a.error("\u63d0\u4ea4\u5931\u8d25\uff1a"+e.message)})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},ra={educVisible:!1,buList:[],depList:[],educList:[],total:1,majorList:[],educRecord:{},imageUrl:[],fileId:"",schoolTypeList:[],currentPageData:{currentPage:1,pageSize:10,keyword:"",ipsaDeptId:"",ipsaBuDeptId:"",uniformFlag:"",educationCode:""}},la=function(e){return{type:"educ/CHANGE_EDUCATIONVISIBLE",payload:e}},ia=function(e){return{type:"educ/CHANGE_BULIST",payload:e}},oa=function(e){return{type:"educ/CHANGE_DEPLIST",payload:e}},sa=function(e){return{type:"educ/CHANGE_EDUCLIST",payload:e}},ca=function(e){return{type:"educ/CHANGE_MAGORLIST",payload:e}},ua=function(e){return{type:"educ/CHANGE_CURRENTPAGE",payload:e}},da=function(e){return{type:"educ/CHANGE_SCHOOLTYPE",payload:e}},pa=function(e){return function(e){H.get("/api/deptInfo/bu").then((function(a){if(a&&a.success){var t=a.data;e(ia(t))}else C.a.error("\u51fa\u9519\u4e86")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},ma=function(e){return function(a){H.get("/api/deptInfo/pid",{params:{pid:e.id?e.id:e}}).then((function(e){if(e&&e.success){var t=e.data;a(oa(t))}})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},ha=function(e){return function(a){H.post("/api/education/queryEducationRecordInfoList.json",e).then((function(e){if(e&&e.success){var t=e.data.data,n=e.data.total;a(sa({educList:t,total:n}))}else C.a.error("\u51fa\u9519\u4e86")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},fa=function(e){return function(a){H.get("/api/dictInfo/name",{params:{dictName:e}}).then((function(t){if(t&&t.success&&t.data){var n=t.data;switch(e){case"major_code":a(ca(n));break;case"school_type":a(da(n))}}else C.a.error(t.message&&t.message)})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},ga=function(e){return function(a){H.post("/api/education/updateEducationRecordInfoById.json",e).then((function(e){e&&e.success?(C.a.success("\u5b66\u5386\u7f16\u8f91\u6210\u529f"),a(la({educVisible:!1,record:{},imageUrl:[]})),a(ha({currentPage:1,pageSize:10}))):C.a.error(e.message)})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},ya={educVisible:!1,buList:[],turnoverRateList:[],manpowerStructureList:[],tableTitleInfoList:[],workTypeList:[],wohleKpiList:[],wohleKpitableTitleInfoList:[],weeklyTotal:1,weeklyDataList:[],weeklyYear:{year:f()().weekYear(),week:f()().week()},weeklyCityTotal:1,weeklyCityDataList:[],weeklyCityYear:{year:f()().weekYear(),week:f()().week()},weeklyJobClassTotal:1,weeklyJobClassList:[],weeklyJobClassYear:{year:f()().weekYear(),week:f()().week()}},ba=function(e){return{type:"analysis/CHANGE_KPIWEEKLEAVEDATAANALYSIS",payload:e}},Ea=function(e){return{type:"analysis/CHANGE_WEEKEMPLOYEEDATAANALYSIS",payload:e}},va=function(e){return{type:"analysis/CHANGE_KPIWEEKJOBTYPEDATAANALYSIS",payload:e}},Ia=function(e){return{type:"analysis/CHANGE_KPIWEEKKPIWHOLEDATAANALYSIS",payload:e}},Ca=function(e){return{type:"analysis/CHANGE_QUERYEMPLOYEECOUNTBYDEPT",payload:e}},wa=function(e){return{type:"analysis/CHANGE_QUERYEMPLOYEECOUNTBYWORKCITY",payload:e}},ja=function(e){return{type:"analysis/CHANGE_QUERYEMPLOYEECOUNTBYJOBCLASS",payload:e}},ka=function(e){return{type:"analysis/CHANGE_WEEKLYYEAR",payload:e}},Da=function(e){return{type:"analysis/CHANGE_WEEKLYCITY",payload:e}},Sa=function(e){return{type:"analysis/CHANGE_WEEKLYJOBCLASS",payload:e}},Oa=function(e){return function(a){H.get("/api/analysis/queryKpiWeekLeaveDataAnalysis.json",{params:{endTimeFormat:e||""}}).then((function(e){if(e&&e.success&&e.data){var t=e.data.kpiDataAnalysisInfo;a(ba(t))}else C.a.error("\u51fa\u9519\u4e86")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},Ta=function(e){return function(a){H.get("/api/analysis/queryKpiWeekEmployeeDataAnalysis.json",{params:{endTimeFormat:e||""}}).then((function(e){if(e&&e.success&&e.data){var t=e.data.kpiDataAnalysisInfo;a(Ea(t))}else C.a.error("\u51fa\u9519\u4e86")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},xa=function(e){return function(a){H.get("/api/analysis/queryKpiWeekJobTypeDataAnalysis.json",{params:{endTimeFormat:e||""}}).then((function(e){if(e&&e.success&&e.data){var t=e.data.kpiDataAnalysisInfo,n=e.data.tableTitleInfo,r=[];n&&n.length&&n.forEach((function(e){r.push(Object.assign({},e,{width:"120px"}))})),a(va({newTableTitleInfo:r,kpiDataAnalysisInfo:t}))}else C.a.error("\u51fa\u9519\u4e86")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},La=function(e){return function(a){H.get("/api/analysis/queryKpiWeekKpiWholeDataAnalysis.json",{params:{endTimeFormat:e||""}}).then((function(e){if(e&&e.success&&e.data){var t=e.data.kpiDataAnalysisInfo,n=e.data.tableTitleInfo,r=[],l=[{title:"\u4e13\u9879",dataIndex:"special",width:"120px",render:function(e,a,t){var n={children:e,props:{}};return 0===t&&(n.props.rowSpan=r&&r.length),0!==t&&(n.props.rowSpan=0),n}}];n&&n.length&&n.forEach((function(e){l.push(Object.assign({},e,{width:"120px"}))})),t&&t.length&&t.forEach((function(e){r.push(Object.assign({},e,{special:"\u8d44\u6e90\u4fdd\u969c"}))})),a(Ia({newTableTitleInfo:l,newKpiDataAnalysisInfo:r}))}else C.a.error("\u51fa\u9519\u4e86")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},Na=function(e){return function(a){H.get("/api/weekly/queryEmployeeCountByDept.json",{params:Object(E.a)({},e)}).then((function(e){if(e&&e.success&&e.data){var t=e.data,n=t.data,r=t.total,l=[];n&&(n.length&&n.forEach((function(e,a){l.push({subtotal:e.subtotal,ipsaDeptName:e.ipsaDeptName,serial:a+1})})),a(ka({year:n[0].currentYears,week:n[0].currentWeeks})),a(Ca({weeklyDataList:l,total:r})))}else C.a.error("\u51fa\u9519\u4e86")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},Fa=function(e){return function(a){H.get("/api/weekly/queryEmployeeCountByWorkCity.json",{params:Object(E.a)({},e)}).then((function(e){if(e&&e.success&&e.data){var t=e.data,n=t.data,r=t.total,l=[];n&&(n.length&&n.forEach((function(e,a){l.push({subtotal:e.subtotal,workCityName:e.workCityName,businessLine:e.businessLine,serial:a+1})})),a(Da({year:n[0].currentYears,week:n[0].currentWeeks})),a(wa({weeklyCityDataList:l,total:r})))}else C.a.error("\u51fa\u9519\u4e86")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},Aa=function(e){return function(a){H.get("/api/weekly/queryEmployeeCountByJobClass.json",{params:Object(E.a)({},e)}).then((function(e){if(e&&e.success&&e.data){var t=e.data,n=t.data,r=t.total,l=[];n&&(n.length&&n.forEach((function(e,a){l.push({subtotal:e.subtotal,thirdJobName:e.thirdJobName,serial:a+1})})),a(Sa({year:n[0].currentYears,week:n[0].currentWeeks})),a(ja({weeklyJobClassList:l,total:r})))}else C.a.error("\u51fa\u9519\u4e86")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},Pa={assignModalVisible:!1,addModalvisible:!1,editModalVisible:!1,editRecord:{},detailsVisible:!1,interviewerList:[],resourceMangeList:[],ownerList:[],leveList:[],typeList:[],projectList:[],assignList:[],assignTotal:0,interviewList:[],interviewotal:0,selectedRowKeys:[],detailsList:{},dispCurrentPage:1,interCurrentPage:1},Ra=function(e){return{type:"personnel/CHANGE_ASSIGNMODALVISIBLE",payload:e}},Va=function(e){return{type:"personnel/CHANGE_ADDMODALVISIBLE",payload:e}},Ga=function(e){return{type:"personnel/CHANGE_EDITMODALVISIBLE",payload:e}},Ma=function(e){return{type:"personnel/CHANGE_DETAilSVISIBLE",payload:e}},_a=function(e){return{type:"personnel/CHANGE_INTERVIEWERDATA",payload:e}},Ba=function(e){return{type:"personnel/CHANGE_RESOURCEMANGEDATA",payload:e}},Ya=function(e){return{type:"personnel/CHANGE_ASSIGNINTERVIEWLIST",payload:e}},qa=function(e){return{type:"personnel/CHANGE_OWNERRANGELIST",payload:e}},Ha=function(e){return{type:"personnel/CHANGE_POSITIONLEVELIST",payload:e}},Ua=function(e){return{type:"personnel/CHANGE_POSITIONTYPELIST",payload:e}},Wa=function(e){return{type:"personnel/CHANGE_NEWPROJECTDATALIST",payload:e}},Ka=function(e){return{type:"personnel/CHANGE_QUERYINTERVIEWLIST",payload:e}},Ja=function(e){return{type:"personnel/CHANGE_SELECTEDROWKEYS",payload:e}},za=function(e){return{type:"personnel/CHANGE_DATAILSLIST",payload:e}},Qa=function(e){return{type:"personnel/CHANGE_CURRENTPAGE",payload:e}},$a=function(e){return function(a){H.get("/api/user/queryInterviewUserListInfo.json",{params:{permission:e.value,source:e.source?e.source:""}}).then((function(t){if(t&&t.success&&t.data){var n=t.data,r=void 0===n?[]:n;switch(e.key){case"assign":a(_a({data:r}));break;case"add":a(Ba({data:r}))}}else C.a.error("\u83b7\u53d6\u9762\u8bd5\u5b98\u5931\u8d25")})).catch((function(e){e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86")}))}},Xa=function(e){return function(a){H.post("/api/interview/queryAssignInterviewList.json",Object(E.a)({},e)).then((function(e){if(e&&e.success&&e.data){var t=e.data,n=t.data,r=void 0===n?[]:n,l=t.total;a(Ya({data:r,total:l}))}else C.a.error("\u5217\u8868\u83b7\u53d6\u5931\u8d25"+e.message)})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86")}))}},Za=function(e){return function(a){H.post("/api/interview/queryInterviewList.json",Object(E.a)({},e)).then((function(e){if(e&&e.success&&e.data){var t=e.data,n=t.data,r=void 0===n?[]:n,l=t.total;a(Ka({data:r,total:l}))}else C.a.error("\u5217\u8868\u83b7\u53d6\u5931\u8d25"+e.message)})).catch((function(e){e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86")}))}},et=function(e){return function(a){H.post("/api/interview/addInterview.json",Object(E.a)({},e)).then((function(e){e&&e.success&&e.data?(C.a.success("\u63d0\u4ea4\u6210\u529f"),a(Va({addModalvisible:!1})),a(Xa({currentPage:1,pageSize:10})),a(Za({currentPage:1,pageSize:10}))):C.a.error("\u63d0\u4ea4\u5931\u8d25\u5931\u8d25"+e.message)})).catch((function(e){e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86")}))}},at=function(e){return function(a){H.get("/api/dictInfo/name",{params:{dictName:e}}).then((function(t){if(t&&t.success&&t.data){var n=t.data,r=void 0===n?[]:n;switch(e){case"owner_range":a(qa({data:r}));break;case"wutong_position_level":a(Ha({data:r}));break;case"wutong_position_type":a(Ua({data:r}));break;case"project_list":a(Wa({data:r}))}}else C.a.error("\u83b7\u53d6\u4fe1\u606f\u5931\u8d25")})).catch((function(e){e&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86")}))}},tt=function(e){return function(a){H.get("/api/interview/queryInterviewInfoById.json",{params:{id:e}}).then((function(e){if(e&&e.success&&e.data){var t=e.data;a(za(void 0===t?{}:t))}else C.a.error("\u83b7\u53d6\u8be6\u60c5\u5931\u8d25")})).catch((function(e){e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86")}))}},nt=function(e){return function(a){H.post("/api/interview/assignInterview.json",e).then((function(e){e&&e.success?(C.a.success("\u5206\u914d\u7b80\u5386\u6210\u529f"),a(Ra({assignModalVisible:!1})),a(Xa({currentPage:1,pageSize:10})),a(Za({currentPage:1,pageSize:10})),a(Ja([]))):e&&e.message?C.a.error("\u5206\u914d\u7b80\u5386\u5931\u8d25: "+e.message):C.a.error("\u5206\u914d\u7b80\u5386\u5931\u8d25")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86")}))}},rt={leaveVisible:!1,leaveDataList:[],hrOneClassList:[],hrOneTypeList:[],busonlineTypeList:[],businessLeaveTypeList:[],ipsaLeaveReasonList:[],leaveTotal:0,record:{},buList:[],depList:[],thats:null,leaveProjList:[],currentPageData:{currentPage:1,pageSize:10,keyword:"",busOnlineFeedbackId:"",busOnlineFeedbackType:"",leaveOfficeStatus:"",leaveReasonId:"",hrOneMonthClass:"",hrOneMonthType:"",ipsaBuDeptId:"",ipsaDeptId:"",leaveProjReasonId:"",effectiveStartTimeFormat:"",effectiveEndTimeFormat:"",leaveProjStartTimeFormat:"",leaveProjEndTimeFormat:""}},lt=function(e){return{type:"leave/CHANGE_LEAVEVISIBLE",payload:e}},it=function(e){return{type:"leave/CHANGE_LEAVEDATALIST",payload:e}},ot=function(e){return{type:"leave/CHANGE_HRONEMONTHCLASS",payload:e}},st=function(e){return{type:"leave/CHANGE_HRONEMONTHTYPE",payload:e}},ct=function(e){return{type:"leave/CHANGE_BUSONLINEFEEDBACKTYPE",payload:e}},ut=function(e){return{type:"leave/CHANGE_BUSINESSLEAVETYPE",payload:e}},dt=function(e){return{type:"leave/CHANGE_IPSALEAVEREASON",payload:e}},pt=function(e){return{type:"leave/CHANGE_BULIST",payload:e}},mt=function(e){return{type:"leave/CHANGE_DEPLIST",payload:e}},ht=function(e){return{type:"leave/CHANGE_LEAVEPROJ",payload:e}},ft=function(e){return{type:"leave/CHANGE_PROJECTPAGE",payload:e}},gt=function(e){return{type:"leave/CHANGE_SAVESEARCHTHIS",payload:e}},yt=function(e){return function(a){H.post("/api/leave/queryEmployeeLeaveInfoList.json",e).then((function(e){if(e&&e.success){var t=e.data,n=t.data,r=t.total;a(it({data:n,total:r}))}else e.message?C.a.error(e.message):C.a.error("\u51fa\u9519\u4e86,\u8bf7\u7a0d\u540e\u91cd\u8bd5")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},bt=function(e){return function(a){H.get("/api/dictInfo/name",{params:{dictName:e}}).then((function(t){if(t&&t.success){var n=t.data?t.data:[];switch(e){case"hr_leave_category":a(ot(n));break;case"business_leave_category":a(ct(n));break;case"ipsa_leave_reason":a(dt(n));break;case"leave_proj_reason":a(ht(n))}}else t.message?C.a.error(t.message):C.a.error("\u51fa\u9519\u4e86,\u8bf7\u7a0d\u540e\u91cd\u8bd5")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},Et=function(e){return function(a){H.get("/api/dictInfo/name/pid",{params:{dictName:e.name,pid:e.pid}}).then((function(t){if(t&&t.success){var n=t.data?t.data:[];switch(e.name){case"hr_leave_type":a(st(n));break;case"business_leave_type":a(ut(n))}}else t.message?C.a.error(t.message):C.a.error("\u51fa\u9519\u4e86,\u8bf7\u7a0d\u540e\u91cd\u8bd5")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},vt=function(e){return function(a){H.post("/api/leave/saveEmployeeLeaveInfo.json",e).then((function(e){if(e&&e.success){C.a.success("\u65b0\u589e\u6210\u529f");var t=localStorage.getItem("leavemonth");a(lt({leaveVisible:!1,record:{}})),a(yt({employeeStatus:t}))}else e.message?C.a.error(e.message):C.a.error("\u51fa\u9519\u4e86,\u8bf7\u7a0d\u540e\u91cd\u8bd5")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},It=function(e){return function(a){H.post("/api/leave/updateEmployeeLeaveInfoById.json",e).then((function(e){if(e&&e.success){C.a.success("\u7f16\u8f91\u6210\u529f");var t=localStorage.getItem("leavemonth");a(lt({leaveVisible:!1,record:{}})),a(yt({employeeStatus:t}))}else e.message?C.a.error(e.message):C.a.error("\u51fa\u9519\u4e86,\u8bf7\u7a0d\u540e\u91cd\u8bd5")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},Ct=function(e){return function(e){H.get("/api/deptInfo/bu").then((function(a){if(a&&a.success){var t=a.data;e(pt(t))}else C.a.error("\u51fa\u9519\u4e86")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},wt=function(e){return function(a){H.get("/api/deptInfo/pid",{params:{pid:e.id?e.id:e}}).then((function(e){if(e&&e.success){var t=e.data;a(mt(t))}})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}},jt=Object(y.c)({home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"home/REGULAR_DETAIL":return Object(E.a)({},e,{rejularList:n.data,regularTotal:n.regularTotal});case"home/BIRTHDAY_DETAIL":return Object(E.a)({},e,{birthdayList:n});case"home/FIELD_DETAIL":return Object(E.a)({},e,{fieldList:n.data,fieldTotal:n.fieldTotal});case"home/CHANGE_INTERVIEWREJULARLIST":return Object(E.a)({},e,{interviewRejularList:n.data,interviewRejularTotal:n.total});case"home/REMINDER_DETAIL":return Object(E.a)({},e,{reminderList:n});case"home/MYTOPROJECT_DETAIL":return Object(E.a)({},e,{myTodoList:n});case"home/MYTOEDUCATION_DETAIL":return Object(E.a)({},e,{myTodoeducationData:n});case"home/CHANGE_INTERVIEWRESUME":return Object(E.a)({},e,{interviewResume:n});case"home/CHANGE_DISTRIBUTIONRESUME":return Object(E.a)({},e,{distributionResume:n});default:return e}},basic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"basic/CHANGE_BASICVISIBLE":return Object(E.a)({},e,{basicVisible:n.basicVisible,basicRecord:n.record});case"basic/CHANGE_BASICLIST":return Object(E.a)({},e,{basicList:n.basiclist,total:n.total});case"basic/RS_ROLE":return Object(E.a)({},e,{rsData:n});case"basic/DM_ROLE":return Object(E.a)({},e,{dmData:n});case"basic/CHANGE_BULIST":return Object(E.a)({},e,{buList:n});case"basic/CHANGE_DEPLIST":return Object(E.a)({},e,{depList:n});case"basic/CHANGE_DICLIST":return Object(E.a)({},e,{dicList:n});case"basic/CHANGE_DEPMODALLIST":return Object(E.a)({},e,{dicModalList:n});case"basic/CHANGE_MANAGELIST":return Object(E.a)({},e,{manageList:n});case"basic/CHANGE_GRADELIST":return Object(E.a)({},e,{gradeList:n});case"basic/CURRENTPAGEDATA":return Object(E.a)({},e,{currentPageData:n});default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"project/CHANGE_PROJECTVISIBLE":return Object(E.a)({},e,{projectVisible:n.projectVisible,projectRecord:n.record});case"project/CHANGE_LEAVEPROJVISIBLE":return Object(E.a)({},e,{leaveProjVisible:n.leaveProjVisible,leaveProjRecord:n.record});case"project/CHANGE_BULIST":return Object(E.a)({},e,{buList:n});case"project/CHANGE_DEPLIST":return Object(E.a)({},e,{depList:n});case"project/CHANGE_PROJECTDATALIST":return Object(E.a)({},e,{projectDataList:n.data,total:n.total});case"project/CHANGE_FIRSTCATEGORYID":return Object(E.a)({},e,{firstCategoryidList:n});case"project/CHANGE_SECONDCATEGORYID":return Object(E.a)({},e,{secondCategoryidList:n});case"project/CHANGE_THIRDCATEGORYID":return Object(E.a)({},e,{thirdCategoryidList:n});case"project/CHANGE_ALIGRADECODE":return Object(E.a)({},e,{aliGradeCodeList:n});case"project/CHANGE_WORKCITY":return Object(E.a)({},e,{workCityList:n});case"project/CHANGE_PROJECTPAGE":return Object(E.a)({},e,{currentPageData:n});case"project/CHANGE_NEWPROJECTDATALIST":return Object(E.a)({},e,{newProjectList:n});case"project/CHANGE_IFRAME":return Object(E.a)({},e,{iframeList:n});case"project/CHANGE_CAREERGROUP":return Object(E.a)({},e,{careerGroupList:n});case"project/CHANGE_GROUPDEPT":return Object(E.a)({},e,{groupdeptList:n});case"project/CHANGE_CAREERDEPT":return Object(E.a)({},e,{careerdepList:n});case"project/CHANGE_DEPTID":return Object(E.a)({},e,{deptIdList:n});case"project/CHANGE_SAVESEARCHSUBMIT":return Object(E.a)({},e,{saveSearchData:n});case"project/CHANGE_SAVESEARCHTHIS":return Object(E.a)({},e,{thats:n});case"project/CHANGE_LEAVEPROJ":return Object(E.a)({},e,{leaveProjList:n});case"project/CHANGE_PRODUCTLINE":return Object(E.a)({},e,{productLineList:n});default:return e}},educ:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"educ/CHANGE_EDUCATIONVISIBLE":return Object(E.a)({},e,{educVisible:n.educVisible,educRecord:n.record,imageUrl:n.imageUrl,fileId:n.fileId});case"educ/CHANGE_BULIST":return Object(E.a)({},e,{buList:n});case"educ/CHANGE_DEPLIST":return Object(E.a)({},e,{depList:n});case"educ/CHANGE_EDUCLIST":return Object(E.a)({},e,{educList:n.educList,total:n.total});case"educ/CHANGE_MAGORLIST":return Object(E.a)({},e,{majorList:n});case"educ/CHANGE_CURRENTPAGE":return Object(E.a)({},e,{currentPageData:n});case"educ/CHANGE_SCHOOLTYPE":return Object(E.a)({},e,{schoolTypeList:n});default:return e}},analysis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"analysis/CHANGE_KPIWEEKLEAVEDATAANALYSIS":return Object(E.a)({},e,{turnoverRateList:n});case"analysis/CHANGE_WEEKEMPLOYEEDATAANALYSIS":return Object(E.a)({},e,{manpowerStructureList:n});case"analysis/CHANGE_KPIWEEKJOBTYPEDATAANALYSIS":return Object(E.a)({},e,{tableTitleInfoList:n.kpiDataAnalysisInfo,workTypeList:n.newTableTitleInfo});case"analysis/CHANGE_KPIWEEKKPIWHOLEDATAANALYSIS":return Object(E.a)({},e,{wohleKpitableTitleInfoList:n.newKpiDataAnalysisInfo,wohleKpiList:n.newTableTitleInfo});case"analysis/CHANGE_QUERYEMPLOYEECOUNTBYDEPT":return Object(E.a)({},e,{weeklyDataList:n.weeklyDataList,weeklyTotal:n.total});case"analysis/CHANGE_QUERYEMPLOYEECOUNTBYWORKCITY":return Object(E.a)({},e,{weeklyCityDataList:n.weeklyCityDataList,weeklyCityTotal:n.total});case"analysis/CHANGE_QUERYEMPLOYEECOUNTBYJOBCLASS":return Object(E.a)({},e,{weeklyJobClassList:n.weeklyJobClassList,weeklyJobClassTotal:n.total});case"analysis/CHANGE_WEEKLYYEAR":return Object(E.a)({},e,{weeklyYear:n});case"analysis/CHANGE_WEEKLYCITY":return Object(E.a)({},e,{weeklyCityYear:n});case"analysis/CHANGE_WEEKLYJOBCLASS":return Object(E.a)({},e,{weeklyJobClassYear:n});default:return e}},personnel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"personnel/CHANGE_ASSIGNMODALVISIBLE":return Object(E.a)({},e,{assignModalVisible:n.assignModalVisible});case"personnel/CHANGE_ADDMODALVISIBLE":return Object(E.a)({},e,{addModalvisible:n.addModalvisible});case"personnel/CHANGE_EDITMODALVISIBLE":return Object(E.a)({},e,{editModalVisible:n.editModalVisible,editRecord:n.editRecord});case"personnel/CHANGE_DETAilSVISIBLE":return Object(E.a)({},e,{detailsVisible:n.detailsVisible});case"personnel/CHANGE_INTERVIEWERDATA":return Object(E.a)({},e,{interviewerList:n.data});case"personnel/CHANGE_RESOURCEMANGEDATA":return Object(E.a)({},e,{resourceMangeList:n.data});case"personnel/CHANGE_ASSIGNINTERVIEWLIST":return Object(E.a)({},e,{assignList:n.data,assignTotal:n.total});case"personnel/CHANGE_QUERYINTERVIEWLIST":return Object(E.a)({},e,{interviewList:n.data,interviewotal:n.total});case"personnel/CHANGE_OWNERRANGELIST":return Object(E.a)({},e,{ownerList:n.data});case"personnel/CHANGE_POSITIONLEVELIST":return Object(E.a)({},e,{leveList:n.data});case"personnel/CHANGE_POSITIONTYPELIST":return Object(E.a)({},e,{typeList:n.data});case"personnel/CHANGE_NEWPROJECTDATALIST":return Object(E.a)({},e,{projectList:n.data});case"personnel/CHANGE_SELECTEDROWKEYS":return Object(E.a)({},e,{selectedRowKeys:n});case"personnel/CHANGE_DATAILSLIST":return Object(E.a)({},e,{detailsList:n});case"personnel/CHANGE_CURRENTPAGE":return Object(E.a)({},e,{dispCurrentPage:n.dispCurrentPage,interCurrentPage:n.interCurrentPage});default:return e}},leave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"leave/CHANGE_LEAVEVISIBLE":return Object(E.a)({},e,{leaveVisible:n.leaveVisible,record:n.record?n.record:n.newRecord});case"leave/CHANGE_LEAVEDATALIST":return Object(E.a)({},e,{leaveDataList:n.data,leaveTotal:n.total});case"leave/CHANGE_HRONEMONTHCLASS":return Object(E.a)({},e,{hrOneClassList:n});case"leave/CHANGE_HRONEMONTHTYPE":return Object(E.a)({},e,{hrOneTypeList:n});case"leave/CHANGE_BUSONLINEFEEDBACKTYPE":return Object(E.a)({},e,{busonlineTypeList:n});case"leave/CHANGE_BUSINESSLEAVETYPE":return Object(E.a)({},e,{businessLeaveTypeList:n});case"leave/CHANGE_IPSALEAVEREASON":return Object(E.a)({},e,{ipsaLeaveReasonList:n});case"leave/CHANGE_BULIST":return Object(E.a)({},e,{buList:n});case"leave/CHANGE_DEPLIST":return Object(E.a)({},e,{depList:n});case"leave/CHANGE_LEAVEPROJ":return Object(E.a)({},e,{leaveProjList:n});case"leave/CHANGE_PROJECTPAGE":return Object(E.a)({},e,{currentPageData:n});case"leave/CHANGE_SAVESEARCHTHIS":return Object(E.a)({},e,{thats:n});default:return e}}}),kt=jt,Dt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||y.d,St=Dt(Object(y.a)(b.a)),Ot=Object(y.e)(kt,St),Tt=Ot,xt=t(12),Lt=t(13),Nt=t(15),Ft=t(14),At=t(16),Pt=t(54),Rt=t(86),Vt=(t(32),t(18)),Gt=t.n(Vt),Mt=(t(33),t(2)),_t=t.n(Mt),Bt=(t(355),f()().month()+1),Yt=Object(g.b)((function(e){return e.home}),n)(D=function(e){function a(){var e,t;Object(xt.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(Nt.a)(this,(e=Object(Ft.a)(a)).call.apply(e,[this].concat(r)))).handlGoToBasic=function(){localStorage.setItem("entmonth","1"),t.props.history.push("/basic")},t.handlGoToLeave=function(){localStorage.setItem("leavemonth","2"),t.props.history.push("/leave")},t.handlGoToEduc=function(){localStorage.setItem("educStatusFlag","2"),t.props.history.push("/education")},t.handleGoToProject=function(){localStorage.setItem("statusFlag","2"),t.props.history.push("/project")},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.getReminderList,t=e.queryMyToDoProject,n=e.queryMyToDoEducation;a(),t(),n()}},{key:"render",value:function(){var e=this,a=this.props,t=a.reminderList,n=a.myTodoList,r=a.myTodoeducationData,l=localStorage.getItem("permission");return d.a.createElement(Gt.a,{className:"layout-home-reminder",style:{minWidth:"290px"}},"recruitmentConsultant"!==l&&d.a.createElement(_t.a,{span:12,onClick:function(){return e.handlGoToBasic()},className:"reminder-content reminder-content-link"},Bt,"\u6708\u5165\u804c\u4eba\u6570",d.a.createElement("span",{style:{color:"#658ef7"}},t&&t.entryEmpTotal),"\u4eba"),"recruitmentConsultant"!==l&&d.a.createElement(_t.a,{span:12,onClick:function(){return e.handlGoToLeave()},className:"reminder-content reminder-content-link"},Bt,"\u6708\u79bb\u804c\u4eba\u6570",d.a.createElement("span",{style:{color:"#658ef7"}},t&&t.leaveEmpTotal),"\u4eba"),"recruitmentConsultant"!==l&&d.a.createElement(_t.a,{span:12,onClick:function(){return e.handleGoToProject()},className:"reminder-content  reminder-content-link"},"\u5f85\u5b8c\u5584\u9879\u76ee",d.a.createElement("span",{style:{color:"#658ef7"}},n),"\u4eba"),"recruitmentConsultant"!==l&&d.a.createElement(_t.a,{span:12,className:"reminder-content"},"\u4fe1\u606f\u5b89\u5168\u63d0\u9192",d.a.createElement("span",{style:{color:"#658ef7"}})),d.a.createElement(_t.a,{onClick:function(){return e.handlGoToEduc()},span:12,className:"reminder-content reminder-content-link"},"\u5f85\u5b8c\u5584\u5b66\u5386",d.a.createElement("span",{style:{color:"#658ef7"}}," ",r," "),"\u4eba"))}}]),a}(u.Component))||D,qt=Object(Rt.f)(Yt),Ht=(t(42),t(29)),Ut=t.n(Ht),Wt=(t(381),[{title:"\u6708\u4efd",dataIndex:"birthdayMonthCode",width:"50%",key:1},{title:"\u4eba\u6570",dataIndex:"birthdayMonthTotal",width:"50%",key:2}]),Kt=Object(g.b)((function(e){return e.home}),n)(S=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).state={},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.getBirthdayList)()}},{key:"render",value:function(){var e=this.props.birthdayList;return d.a.createElement("div",{className:"birthdat",style:{padding:"10px"}},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:Wt,dataSource:e,pagination:{pageSize:3}}))}}]),a}(u.Component))||S,Jt=(t(490),[{title:"\u5730\u5740",dataIndex:"areaName",width:"50%",key:1},{title:"\u4eba\u6570",dataIndex:"areaEmployeeTotal",width:"50%",key:2}]),zt=Object(g.b)((function(e){return e.home}),n)(O=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleChangePage=function(e){(0,t.props.getFieldList)({pageSize:3,currentPage:e})},t.state={},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.getFieldList)({pageSize:3,currentPage:1})}},{key:"render",value:function(){var e=this.props,a=e.fieldList,t={pageSize:3,total:e.fieldTotal,onChange:this.handleChangePage};return d.a.createElement("div",{className:"fieldNumber",style:{padding:"10px"}},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:Jt,dataSource:a,pagination:t}))}}]),a}(u.Component))||O,Qt=(t(60),t(37)),$t=t.n(Qt),Xt=(t(491),Object(g.b)((function(e){return e.home}),n)(T=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleChangeRejularPage=function(e){var a=t.props.getRejularList,n={pageSize:6,currentPage:e};t.setState({rejularPage:e},(function(){a(n)}))},t.state={rejularPage:1},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.getRejularList)({pageSize:6,currentPage:1})}},{key:"render",value:function(){var e=this.props,a=e.rejularList,t=e.regularTotal,n=this.state.rejularPage;return d.a.createElement("div",{className:"rejular",style:{padding:"10px"}},a.map((function(e,a){return d.a.createElement("span",{key:a,className:"rejular-content"},e.empName,"\u5c06\u5728",d.a.createElement("span",{style:{color:"#658ef7"}},e.regularTime),"\u5929\u540e\u8f6c\u6b63")})),d.a.createElement("div",{className:"rejular-pagination"},d.a.createElement($t.a,{current:n,pageSize:6,total:t,onChange:this.handleChangeRejularPage.bind(this)})))}}]),a}(u.Component))||T),Zt=Object(g.b)((function(e){return e.home}),n)(x=function(e){function a(){return Object(xt.a)(this,a),Object(Nt.a)(this,Object(Ft.a)(a).apply(this,arguments))}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.queryMyToDoAssignationInterview,t=e.queryMyToDoInterview;a(),t()}},{key:"render",value:function(){var e=this.props,a=e.interviewResume,t=e.distributionResume;return d.a.createElement(Gt.a,{className:"layout-home-reminder",style:{minWidth:"290px"}},d.a.createElement(_t.a,{span:12,className:"reminder-content reminder-content-link"},"\u5f85\u5206\u914d\u7b80\u5386",d.a.createElement("span",{style:{color:"#658ef7"}}," ",t," "),"\u4efd"),d.a.createElement(_t.a,{span:12,className:"reminder-content reminder-content-link"},"\u5f85\u9762\u8bd5\u7b80\u5386",d.a.createElement("span",{style:{color:"#658ef7"}}," ",a," "),"\u4efd"))}}]),a}(u.Component))||x,en=Object(Rt.f)(Zt),an=Object(g.b)((function(e){return e.home}),n)(L=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleChangeInterviewRejularPage=function(e){(0,t.props.queryResumeWillRelease)({pageSize:6,currentPage:e}),t.setState({currentPage:e})},t.state={currentPage:1},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.queryResumeWillRelease)({pageSize:6,currentPage:1})}},{key:"render",value:function(){var e=this.props,a=e.interviewRejularList,t=e.interviewRejularTotal,n=this.state.currentPage;return d.a.createElement("div",{className:"rejular",style:{padding:"10px"}},a.map((function(e,a){return d.a.createElement("span",{key:a,className:"rejular-content"},d.a.createElement("span",{style:{color:"#658ef7"}},e.userName),"\u5c06\u5728",d.a.createElement("span",{style:{color:"#658ef7"}},e.releaseTime),"h\u540e\u91ca\u653e")})),d.a.createElement("div",{className:"rejular-pagination"},d.a.createElement($t.a,{current:n,pageSize:6,total:t,onChange:this.handleChangeInterviewRejularPage.bind(this)})))}}]),a}(u.Component))||L,tn=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).queryResumeWillAssignCount=function(e){H.get("/api/audition/home/queryResumeWillAssignCount.json",{params:e}).then((function(e){if(e&&e.success){var a=e.data,n=a.total,r=a.data,l=void 0===r?[]:r;t.setState({waitingList:l,waitingTotal:n}),console.log("res",e)}else C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})).catch((function(e){e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))},t.handleChangePage=function(e){var a={pageSize:3,currentPage:e};t.queryResumeWillAssignCount(a)},t.state={waitingList:[],waitingTotal:0},t.columns=[{title:"\u59d3\u540d",dataIndex:"resourceManagerName",width:"40%"},{title:"\u4efd\u6570",dataIndex:"assignResumeTotal",width:"40%"}],t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){this.queryResumeWillAssignCount({currentPage:1,pageSize:3})}},{key:"render",value:function(){var e=this.columns,a=this.state,t=a.waitingList,n={pageSize:3,total:a.waitingTotal,onChange:this.handleChangePage};return d.a.createElement("div",{style:{padding:"5px"}},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:e,dataSource:t,pagination:n}))}}]),a}(u.Component),nn=(t(62),t(22)),rn=t.n(nn),ln=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).queryProjectInterviewPassCount=function(e){H.get("/api/audition/home/queryProjectInterviewPassCount.json",{params:e}).then((function(e){if(e&&e.success){var a=e.data,n=a.total,r=a.data,l=void 0===r?[]:r;t.setState({projectApprovalList:l,projectApprovalTotal:n})}else C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))},t.handleChangePage=function(e){var a={pageSize:3,currentPage:e};t.queryProjectInterviewPassCount(a)},t.state={projectApprovalList:[],projectApprovalTotal:0},t.columns=[{title:"\u9879\u76ee",dataIndex:"projectName",width:"40%",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4eba\u6570",dataIndex:"interviewPassTotal",width:"40%"}],t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){this.queryProjectInterviewPassCount({currentPage:1,pageSize:3})}},{key:"render",value:function(){var e=this.columns,a=this.state,t=a.projectApprovalList,n={pageSize:3,total:a.projectApprovalTotal,onChange:this.handleChangePage};return d.a.createElement("div",{style:{padding:"5px"}},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:e,dataSource:t,pagination:n}))}}]),a}(u.Component),on=(t(493),[]),sn=["\u63d0\u9192\u4e8b\u9879","\u9762\u8bd5\u63d0\u9192","\u5f85\u5206\u914d\u7b80\u5386","\u9879\u76ee\u901a\u8fc7\u4eba\u6570"],cn=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).state={permission:""},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){var e=this;"/home"===this.props.location.pathname&&H.get("/api/user/queryUserPermission.json").then((function(a){if(a&&a.success){var t=a.data;console.log("data",t);var n=t[0].permission;e.setState({permission:n})}}))}},{key:"render",value:function(){if("/home"===this.props.location.pathname){var e=this.state.permission;return e&&"recruitmentConsultant"===e&&(on=["\u63d0\u9192\u4e8b\u9879"]),e&&"recruitmentConsultant"!==e&&(on=["\u63d0\u9192\u4e8b\u9879","\u8f6c\u6b63\u63d0\u9192","\u573a\u5730\u4eba\u6570","\u751f\u65e5\u63d0\u9192"]),d.a.createElement("div",{className:"layout-home"},d.a.createElement(Gt.a,null,on.map((function(e,a){return d.a.createElement(_t.a,{key:a,className:"layout-home-col",span:12,style:{height:"400px"}},d.a.createElement("h2",{className:"layout-home-title"},e),d.a.createElement("div",{className:"layout-home-info"},d.a.createElement("div",null,"\u63d0\u9192\u4e8b\u9879"===e&&d.a.createElement(qt,null)||"\u573a\u5730\u4eba\u6570"===e&&d.a.createElement(zt,null)||"\u751f\u65e5\u63d0\u9192"===e&&d.a.createElement(Kt,null)||"\u8f6c\u6b63\u63d0\u9192"===e&&d.a.createElement(Xt,null))))}))))}return d.a.createElement("div",{className:"layout-home"},d.a.createElement(Gt.a,null,sn.map((function(e,a){return d.a.createElement(_t.a,{key:a,className:"layout-home-col",span:12,style:{height:"400px"}},d.a.createElement("h2",{className:"layout-home-title"},e),d.a.createElement("div",{className:"layout-home-info"},d.a.createElement("div",null,"\u63d0\u9192\u4e8b\u9879"===e&&d.a.createElement(en,null)||"\u9762\u8bd5\u63d0\u9192"===e&&d.a.createElement(an,null)||"\u5f85\u5206\u914d\u7b80\u5386"===e&&d.a.createElement(tn,null)||"\u9879\u76ee\u901a\u8fc7\u4eba\u6570"===e&&d.a.createElement(ln,null))))}))))}}]),a}(u.Component),un=(t(34),t(20)),dn=t.n(un),pn=(t(494),t(64)),mn=t.n(pn),hn=["/home","/basic","/project","/department","/leave","/analysis","/education","/interview/home","/interview/personnel"],fn=["/home","/basic","/project","/department","/leave","/analysis","/education"],gn=["/interview/home","/interview/personnel","/register"],yn=(t(496),function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).selectRouterAactive=function(){var e=t.props.location.pathname,a="";return a=e.substr(1),"/"!==e&&(a=e.substr(1)),"/"===e&&(a="home"),a},t.selectInserviceRouterAactive=function(){return t.props.location.pathname},t.state={permission:""},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.location.pathname;fn.includes(a)&&H.get("/api/user/queryUserPermission.json").then((function(a){if(a&&a.success){var t=a.data[0].permission;localStorage.setItem("permission",t),e.setState({permission:t})}}))}},{key:"render",value:function(){var e=this.props.location.pathname;if(fn.includes(e)){var a=this.selectRouterAactive(),t=this.state.permission;return d.a.createElement("div",{className:"inservice-menu"},d.a.createElement(mn.a,{theme:"dark",className:"inservice-menu-antd",style:{backgroundColor:"#658ef7",color:"#fff"},selectedKeys:[a],mode:"horizontal"},d.a.createElement(mn.a.Item,{key:"home"},d.a.createElement(Pt.b,{to:"/home"},"\u9996\u9875")),t&&"recruitmentConsultant"!==t&&d.a.createElement(mn.a.Item,{key:"basic"},d.a.createElement(Pt.b,{to:"/basic"},"\u57fa\u7840\u4fe1\u606f")),d.a.createElement(mn.a.Item,{key:"education"},d.a.createElement(Pt.b,{to:"/education"},"\u5b66\u5386\u4fe1\u606f")),t&&"recruitmentConsultant"!==t&&d.a.createElement(mn.a.Item,{key:"project"},d.a.createElement(Pt.b,{to:"/project"},"\u9879\u76ee\u4fe1\u606f")),t&&"recruitmentConsultant"!==t&&d.a.createElement(mn.a.Item,{key:"leave"},d.a.createElement(Pt.b,{to:"/leave"},"\u79bb\u804c\u4fe1\u606f")),t&&"recruitmentConsultant"!==t&&d.a.createElement(mn.a.Item,{key:"analysis"},d.a.createElement(Pt.b,{to:"/analysis"},"\u6570\u636e\u5206\u6790"))))}if(gn.includes(e)){var n=this.selectInserviceRouterAactive();return d.a.createElement("div",{className:"inservice-menu"},d.a.createElement(mn.a,{theme:"dark",selectedKeys:[n],className:"inservice-menu-antd",style:{backgroundColor:"#658ef7",color:"#fff"},mode:"horizontal"},d.a.createElement(mn.a.Item,{key:"/interview/home"},d.a.createElement(Pt.b,{to:"/interview/home"},"\u9996\u9875")),d.a.createElement(mn.a.Item,{key:"/interview/personnel"},d.a.createElement(Pt.b,{to:"/interview/personnel"},"\u9762\u8bd5\u7ba1\u7406"))))}}}]),a}(u.Component)),bn=Object(Rt.f)(yn),En=(t(497),function(e){function a(){var e,t;Object(xt.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(Nt.a)(this,(e=Object(Ft.a)(a)).call.apply(e,[this].concat(r)))).handleCancleLogin=function(){localStorage.setItem("flag",!1),localStorage.setItem("token","");var e=t.props.location.pathname;fn.includes(e)&&t.props.history.push("/login"),gn.includes(e)&&t.props.history.push("/interview/login")},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props.location.pathname;return d.a.createElement("div",{className:"inservice-header"},d.a.createElement(Gt.a,{style:{height:"100%",display:"flex"}},d.a.createElement(_t.a,{span:5},d.a.createElement("div",{className:"inservice-header-logo"})),d.a.createElement(_t.a,{span:16,className:"inservice-header-menu"},d.a.createElement(bn,null)),d.a.createElement(_t.a,{span:3,style:{display:"flex",justifyContent:"center"}},"/login"!==e&&d.a.createElement(dn.a,{onClick:this.handleCancleLogin.bind(this)},"\u9000\u51fa\u767b\u5f55"))))}}]),a}(u.Component)),vn=Object(Rt.f)(En),In=(t(215),t(116)),Cn=t.n(In),wn=(t(46),t(4)),jn=t.n(wn),kn=(t(47),t(23)),Dn=t.n(kn),Sn=(t(113),t(28)),On=t.n(Sn),Tn=(t(501),function(e){function a(){var e,t;Object(xt.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(Nt.a)(this,(e=Object(Ft.a)(a)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),t.props.form.validateFields((function(e,a){e||j.a.post("/api/user/login.json",{username:a.username,password:a.password}).then((function(e){if(e.data.success){localStorage.setItem("token",e.data.data.token),localStorage.setItem("flag",!0);var a=t.props.location.pathname;"/login"===a&&t.props.history.push("/home"),"/interview/login"===a&&t.props.history.push("/interview/home")}else C.a.error("\u767b\u5f55\u5931\u8d25:"+e.data.message)})).catch((function(e){C.a.error("\u767b\u5f55\u5931\u8d25\uff1a"+e)}))}))},t.handleGoToRegister=function(){t.props.history.push("/register")},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.props.location.pathname;"/login"===a&&(document.title="\u5728\u804c\u4eba\u5458\u7ba1\u7406\u7cfb\u7edf"),"/interview/login"===a&&(document.title="\u5185\u9762\u7ba1\u7406\u7cfb\u7edf");return d.a.createElement("div",null,d.a.createElement("div",{className:"login-form-layout"},d.a.createElement(Gt.a,{style:{backgroundColor:"#fff"}},d.a.createElement(_t.a,{span:15},d.a.createElement("div",{className:"login-left-img"},d.a.createElement("img",{width:"100%",src:t(238)}))),d.a.createElement(_t.a,{span:9},d.a.createElement("div",{className:"login-rigiht-img"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:4},d.a.createElement("h2",{style:{fontSize:"30px"}},"\u767b\u5f55")),"/interview/login"===a&&d.a.createElement(_t.a,{className:"login-click-to-login",span:12},"\u6ca1\u6709\u8d26\u53f7\uff1f",d.a.createElement("span",{className:"login-click-login-btn",onClick:this.handleGoToRegister.bind(this)},"\u70b9\u6b64\u6ce8\u518c >")),d.a.createElement(_t.a,{span:24},d.a.createElement(jn.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{className:"login-form"}),d.a.createElement(jn.a.Item,null,e("username",{rules:[{required:!0,message:"\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Dn.a,{prefix:d.a.createElement(On.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7"}))),d.a.createElement(jn.a.Item,null,e("password",{rules:[{required:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Dn.a,{prefix:d.a.createElement(On.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}))),d.a.createElement(jn.a.Item,null,e("remember",{valuePropName:"checked",initialValue:!0})(d.a.createElement(Cn.a,null,"\u8bb0\u4f4f\u5bc6\u7801"))),d.a.createElement(jn.a.Item,null,d.a.createElement(dn.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.handleSubmit},"\u767b\u5f55"))))))))))}}]),a}(u.Component)),xn=Tn=jn.a.create()(Tn),Ln=(t(49),t(6)),Nn=t.n(Ln),Fn=(t(558),Nn.a.Option),An=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleFocusPasswordType=function(){t.setState({passwordType:"password"})},t.handleGoToLogin=function(){t.props.history.push("/interview/login")},t.handleSubmit=function(e){e.preventDefault(),t.props.form.validateFields((function(e,a){e||j.a.post("/api/user/register.json",Object(E.a)({},a)).then((function(e){e&&e.data&&e.data.success?(C.a.success("\u6ce8\u518c\u6210\u529f"),localStorage.setItem("token",""),localStorage.setItem("flag",!1),t.props.history.push("/interview/login")):C.a.error("\u6ce8\u518c\u5931\u8d25:"+e.data.message)})).catch((function(e){C.a.error("\u6ce8\u518c\u5931\u8d25\uff1a"+e)}))}))},t.handleFocusGetSource=function(){j.a.get("/api/interview/dict/source").then((function(e){if(e&&e.data&&e.data.success){var a=e.data.data;t.setState({sourceList:a})}else C.a.error(e.data.message)})).catch((function(e){C.a.error("\u9762\u8bd5\u7fa4\u7ec4\u83b7\u53d6\u5931\u8d25"+e)}))},t.state={passwordType:"text",sourceList:[]},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.state,n=a.passwordType,r=a.sourceList,l=void 0===r?[]:r;return d.a.createElement("div",null,d.a.createElement("div",{className:"register-form-layout"},d.a.createElement(Gt.a,{style:{backgroundColor:"#fff"}},d.a.createElement(_t.a,{span:15},d.a.createElement("div",{className:"register-left-img"},d.a.createElement("img",{width:"100%",src:t(238)}))),d.a.createElement(_t.a,{span:9},d.a.createElement("div",{className:"register-rigiht-img"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:4},d.a.createElement("h2",{style:{fontSize:"30px"}},"\u6ce8\u518c")),d.a.createElement(_t.a,{span:12,className:"register-click-to-login"},"\u5df2\u6709\u8d26\u53f7\uff1f",d.a.createElement("span",{className:"register-click-login-btn",onClick:this.handleGoToLogin.bind(this)},"\u70b9\u6b64\u767b\u5f55 >")),d.a.createElement(_t.a,{span:24},d.a.createElement(jn.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit,className:"register-form"}),d.a.createElement(jn.a.Item,null,e("userName",{rules:[{required:!0,message:"\u7528\u6237\u540d\u4e3a\u5fc5\u586b\u9879"}]})(d.a.createElement(Dn.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",autocomplete:"off"}))),d.a.createElement(jn.a.Item,null,e("password",{rules:[{required:!0,message:"\u5bc6\u7801\u4e3a\u5fc5\u586b\u9879"}]})(d.a.createElement(Dn.a,{type:n,onFocus:this.handleFocusPasswordType.bind(this),placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",autocomplete:"off"}))),d.a.createElement(jn.a.Item,null,e("email",{rules:[{required:!0,message:"\u90ae\u7bb1\u4e3a\u5fc5\u586b\u9879"},{type:"email",message:"\u90ae\u7bb1\u683c\u5f0f\u4e3axxxx@xxx.com"}]})(d.a.createElement(Dn.a,{placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",autocomplete:"off"}))),d.a.createElement(jn.a.Item,null,e("phone",{rules:[{required:!0,message:"\u7535\u8bdd\u4e3a\u5fc5\u586b\u9879"},{pattern:new RegExp(/^[1-9]\d*$/,"g"),message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7535\u8bdd"}]})(d.a.createElement(Dn.a,{placeholder:"\u8bf7\u8f93\u5165\u7535\u8bdd",autocomplete:"off"}))),d.a.createElement(jn.a.Item,null,e("empNo",{rules:[{required:!0,message:"\u8f6f\u901a\u5de5\u53f7\u4e3a\u5fc5\u586b\u9879"},{pattern:new RegExp(/^[1-9]\d*$/,"g"),message:"\u5de5\u53f7\u683c\u5f0f\u6709\u8bef\uff0c\u8bf7\u8f93\u5165\u6570\u5b57"}]})(d.a.createElement(Dn.a,{placeholder:"\u8bf7\u8f93\u5165\u8f6f\u901a\u5de5\u53f7",autocomplete:"off"}))),d.a.createElement(jn.a.Item,null,e("empName",{rules:[{required:!0,message:"\u8f6f\u901a\u5458\u5de5\u59d3\u540d\u4e3a\u5fc5\u586b\u9879"}]})(d.a.createElement(Dn.a,{placeholder:"\u8bf7\u8f93\u5165\u8f6f\u901a\u5458\u5de5\u59d3\u540d",autocomplete:"off"}))),d.a.createElement(jn.a.Item,null,e("source",{rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{onFocus:this.handleFocusGetSource,placeholder:"\u8bf7\u9009\u62e9\u5185\u9762\u7fa4\u7ec4"},l.map((function(e){return d.a.createElement(Fn,{key:e.value,value:e.value},e.label)}))))),d.a.createElement(jn.a.Item,null,d.a.createElement(dn.a,{type:"primary",htmlType:"submit",className:"register-form-button",onClick:this.handleSubmit},"\u6ce8\u518c"))))))))))}}]),a}(u.Component),Pn=jn.a.create()(An),Rn=(t(559),function(e){function a(){return Object(xt.a)(this,a),Object(Nt.a)(this,Object(Ft.a)(a).apply(this,arguments))}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){return d.a.createElement("div",{className:"error"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:24},d.a.createElement("div",{className:"error-img"},d.a.createElement("img",{src:t(560)})))))}}]),a}(u.Component)),Vn=(t(102),t(63)),Gn=t.n(Vn),Mn=t(44),_n=(t(53),t(31)),Bn=t.n(_n),Yn=(t(76),t(48)),qn=t.n(Yn),Hn=(t(570),"http://47.92.48.141"),Un=[{value:1,label:"\u7537"},{value:0,label:"\u5973"}],Wn=[{key:0,label:"\u975e"},{key:1,label:"\u662f"}],Kn=[{key:0,label:"\u9ad8\u4e2d"},{key:1,label:"\u4e2d\u4e13"},{key:2,label:"\u5927\u4e13"},{key:3,label:"\u672c\u79d1"},{key:4,label:"\u7855\u58eb"},{key:5,label:"\u535a\u58eb"},{key:6,label:"\u535a\u58eb\u540e"},{key:7,label:"\u9662\u58eb"}],Jn=[{id:0,name:"\u6b63\u5f0f\u5458\u5de5"},{id:1,name:"\u8bd5\u7528\u671f"},{id:2,name:"\u5b9e\u4e60\u671f"},{id:3,name:"\u517c\u804c\u5458\u5de5"}],zn=[{id:0,name:"\u79bb\u804c"},{id:1,name:"\u5728\u804c"}],Qn=[{title:"BU",dataIndex:"ipsaBuDeptId",width:"150px"},{title:"\u90e8\u95e8",dataIndex:"ipsaDeptId",width:"150px"},{title:"\u59d3\u540d",dataIndex:"empName",width:"150px",fixed:"left"},{title:"\u8f6f\u901a\u5de5\u53f7",dataIndex:"empNo",width:"150px"},{title:"\u6027\u522b",dataIndex:"gender",width:"150px"},{title:"\u51fa\u751f\u65e5\u671f",dataIndex:"birthday",width:"150px"},{title:"\u5165\u804c\u65e5\u671f",dataIndex:"joiningDay",width:"150px"},{title:"\u8f6c\u6b63\u65e5\u671f",dataIndex:"correctionTime",width:"150px"},{title:"\u901a\u7528\u804c\u4f4d",dataIndex:"ipsaPostNo",width:"150px"},{title:"Grade\u4ee3\u7801",dataIndex:"ipsaGradeCode",width:"150px"},{title:"\u662f\u5426\u5728\u804c",dataIndex:"onJob",width:"150px"},{title:"\u4eba\u5458\u6027\u8d28",dataIndex:"empProperty",width:"150px"},{title:"\u76f4\u5c5e\u4e0a\u7ea7",dataIndex:"directSuperiorName",width:"150px"},{title:"\u4ea4\u4ed8\u7ecf\u7406",dataIndex:"deliveryManagerName",width:"150px"},{title:"\u62db\u8058\u987e\u95ee",dataIndex:"recruitmentUserId"}],$n=[{value:1,label:"\u5f85\u5206\u914d"},{value:2,label:"\u5df2\u5206\u914d"},{value:3,label:"\u5f85\u9762\u8bd5"},{value:4,label:"\u5df2\u9762\u8bd5"}],Xn=[{value:1,label:"\u901a\u8fc7"},{value:2,label:"\u4e0d\u901a\u8fc7"}],Zn=[{value:1,label:"\u901a\u8fc7"},{value:2,label:"\u4e0d\u901a\u8fc7"}],er=Nn.a.Option,ar=["empName","empNo"],tr=["birthday","joiningDay","correctionTime"],nr=["directSuperiorName"],rr=Object(g.b)((function(e){return e.basic}),r)(N=function(e){function a(){var e,t;Object(xt.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(Nt.a)(this,(e=Object(Ft.a)(a)).call.apply(e,[this].concat(r)))).handleCancel=function(){var e=t.props.changeBasicVisible;t.props.form.resetFields(),e({basicVisible:!1,record:{}})},t.basicFormRules=function(e){return"deliveryManagerName"===e?[]:"correctionTime"===e?[]:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"},{validator:t.validFunction}]},t.validFunction=function(e,a,t){e&&"ipsaDeptId"===e.field&&a instanceof Object&&0===Object.keys(a).length&&t("\u4e0d\u80fd\u4e3a\u7a7a"),t()},t.baseFormInput=function(e,a){var n=t.props,r=n.rsData,l=n.dmData,i=n.buList,o=n.dicList,s=n.dicModalList,c=n.manageList,u=n.gradeList;return-1!==ar.indexOf(e)?d.a.createElement(Dn.a,null):-1!==tr.indexOf(e)?d.a.createElement(Bn.a,{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",style:{width:"100%"},onChange:t.handleChangeDate.bind(Object(Mn.a)(t),e)}):d.a.createElement(Nn.a,{onChange:t.handleGetOption.bind(Object(Mn.a)(t),e),disabled:a,labelInValue:!0,className:"basic-select",style:{width:"100%"},allowClear:"deliveryManagerName"===e},"ipsaBuDeptId"===e&&i.map((function(e){return d.a.createElement(er,{key:e.id,value:e.id},e.name)})),"ipsaDeptId"===e&&s.map((function(e){return d.a.createElement(er,{key:e.id,value:e.id},e.name)})),"gender"===e&&Un.map((function(e){return d.a.createElement(er,{key:e.value,value:e.value},e.label)})),"ipsaPostNo"===e&&o.map((function(e){return d.a.createElement(er,{key:e.id,value:e.id},e.label)})),"ipsaGradeCode"===e&&u.map((function(e){return d.a.createElement(er,{key:e.id,value:e.id},e.label)})),"empProperty"===e&&Jn.map((function(e){return d.a.createElement(er,{key:e.id,value:e.id},e.name)})),"directSuperiorName"===e&&c.map((function(e){return d.a.createElement(er,{key:e.id,value:e.id},e.empName)})),"deliveryManagerName"===e&&l.map((function(e){return d.a.createElement(er,{key:e.id,value:e.id},e.empName)})),"onJob"===e&&zn.map((function(e){return d.a.createElement(er,{key:e.id,value:e.id},e.name)})),"recruitmentUserId"===e&&r.map((function(e){return d.a.createElement(er,{key:e.id,value:e.id},e.empName)})))},t.handleGetOption=function(e,a){var n=t.props,r=n.deptInfo,l=n.basicRecord,i=n.changeBasicVisible;if("ipsaBuDeptId"===e&&a&&a.key){var o=JSON.parse(JSON.stringify(l));o.ipsaDeptId={},i({basicVisible:!0,record:o}),r({id:a.key,tab:"ipsaPostNo"}),t.props.form.resetFields()}},t.handleChangeDate=function(e,a,t){console.log("date",a,"dateString",t,"key",e)},t.handleProjectSubmit=function(e){e.preventDefault(),t.props.form.validateFields((function(e,a){if(!e){var n=t.props,r=n.saveEmployeeBaseInfo,l=n.basicRecord,i=n.updateEmployeeBaseInfo,o={empName:a.empName,ipsaBuDeptId:a.ipsaBuDeptId?a.ipsaBuDeptId.key:"",ipsaDeptId:a.ipsaDeptId?a.ipsaDeptId.key:"",empNo:a.empNo,gender:a.gender?a.gender.key:"",birthdayFormat:f()(a.birthday).format("YYYY-MM-DD"),joiningDayFormat:f()(a.joiningDay).format("YYYY-MM-DD"),correctionTimeFormat:l.id&&a.correctionTime?f()(a.correctionTime).format("YYYY-MM-DD"):"",ipsaPostNo:a.ipsaPostNo?a.ipsaPostNo.key:"",ipsaGradeCode:a.ipsaGradeCode?a.ipsaGradeCode.key:"",empProperty:a.empProperty?a.empProperty.key:"",directSuperiorId:a.directSuperiorName?a.directSuperiorName.key:"",directSuperiorName:a.directSuperiorName?a.directSuperiorName.label:"",deliveryManagerId:a.deliveryManagerName?a.deliveryManagerName.key:"",deliveryManagerName:a.deliveryManagerName?a.deliveryManagerName.label:"",onJob:a.onJob?a.onJob.key:"",recruitmentUserId:a.recruitmentUserId?a.recruitmentUserId.key:"",recruitmentUserName:a.recruitmentUserId?a.recruitmentUserId.label:""};l.id?(o.id=l.id,i(o)):r(o)}}))},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.queryUserListInfoByRolePermission,t=e.dictInfo;t("general_position"),t("position_grade_code"),a("recruitmentConsultant"),a("projectManage")}},{key:"componentWillReceiveProps",value:function(e){e.basicVisible||this.props.form.resetFields()}},{key:"render",value:function(){var e=this,a=this.props,t=a.basicVisible,n=a.basicRecord,r=this.props.form.getFieldDecorator;return d.a.createElement("div",{className:"basic-modal"},d.a.createElement(qn.a,{title:n.id?"\u4fee\u6539\u4fe1\u606f":"\u6dfb\u52a0\u65b0\u5458\u5de5",visible:t,onOk:this.handleProjectSubmit,onCancel:this.handleCancel,className:"basic-add-modal",okText:"\u63d0\u4ea4",cancelText:"\u53d6\u6d88"},d.a.createElement(jn.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},{className:"basic-form"}),Qn.map((function(a,t){if("recruitmentUserId"===a.dataIndex&&n.id)return"";var l=!1;return nr.includes(a.dataIndex)&&n.id&&(l=!0),d.a.createElement(jn.a.Item,{label:a.title,key:a.dataIndex},r(a.dataIndex,{initialValue:"birthday"===a.dataIndex||"joiningDay"===a.dataIndex||"correctionTime"===a.dataIndex?n[a.dataIndex]?f()(n[a.dataIndex]):null:n[a.dataIndex],rules:e.basicFormRules(a.dataIndex)})(e.baseFormInput(a.dataIndex,l)))})))))}}]),a}(u.Component))||N,lr=jn.a.create()(rr),ir=function(e,a){return[{title:"BU",dataIndex:"ipsaBuDeptName",width:"100px"},{title:"\u90e8\u95e8",dataIndex:"ipsaDeptName",width:"150px"},{title:"\u59d3\u540d",dataIndex:"empName",width:"80px"},{title:"\u8f6f\u901a\u5de5\u53f7",dataIndex:"empNo",width:"100px"},{title:"\u6027\u522b",dataIndex:"gender",width:"50px",render:function(e,a){switch(e){case 1:return d.a.createElement("span",null,"\u7537");case 0:return d.a.createElement("span",null,"\u5973")}}},{title:"\u51fa\u751f\u65e5\u671f",dataIndex:"birthday",width:"150px"},{title:"\u5165\u804c\u65e5\u671f",dataIndex:"joiningDay",width:"150px"},{title:"\u8f6c\u6b63\u65e5\u671f",dataIndex:"correctionTime",width:"150px"},{title:"\u901a\u7528\u804c\u4f4d",dataIndex:"ipsaPostName",width:"150px"},{title:"Grade\u4ee3\u7801",dataIndex:"ipsaGradeName",width:"90px"},{title:"\u662f\u5426\u5728\u804c",dataIndex:"onJob",width:"90px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u79bb\u804c");case 1:return d.a.createElement("span",null,"\u5728\u804c")}}},{title:"\u4eba\u5458\u6027\u8d28",dataIndex:"empProperty",width:"100px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u6b63\u5f0f\u5458\u5de5");case 1:return d.a.createElement("span",null,"\u8bd5\u7528\u671f");case 2:return d.a.createElement("span",null,"\u5b9e\u4e60\u671f");case 3:return d.a.createElement("span",null,"\u517c\u804c\u5458\u5de5")}}},{title:"\u76f4\u5c5e\u4e0a\u7ea7",dataIndex:"directSuperiorName",width:"100px"},{title:"\u4ea4\u4ed8\u7ecf\u7406",dataIndex:"deliveryManagerName",width:"100px"},{title:"\u64cd\u4f5c",dataIndex:"action",width:"90px",render:function(t,n){return d.a.createElement(dn.a,{disabled:!(a&&"hr"===a||"admin"===a||"hr"===a),onClick:function(){var a=e.props,t=a.changeBasicVisible,r=a.deptInfo,l="",i="";0===n.onJob?(l=n.onJob,i="\u79bb\u804c"):1===n.onJob&&(l=n.onJob,i="\u5728\u804c"),t({basicVisible:!0,record:{id:n.id,empNo:n.empNo,empName:n.empName,ipsaBuDeptId:{key:n.ipsaBuDeptId,label:n.ipsaBuDeptName},ipsaDeptId:{key:n.ipsaDeptId,label:n.ipsaDeptName},gender:{key:n.gender,label:1===n.gender?"\u7537":"\u5973"},birthday:n.birthday,joiningDay:n.joiningDay,ipsaPostNo:{key:n.ipsaPostNo,label:n.ipsaPostName},ipsaGradeCode:{key:n.ipsaGradeCode,label:n.ipsaGradeName},correctionTime:n.correctionTime?n.correctionTime:"",empProperty:{key:n.empProperty,label:n.empProperty},directSuperiorName:{key:n.directSuperiorId,label:n.directSuperiorName},deliveryManagerName:{key:n.deliveryManagerId,label:n.deliveryManagerName},onJob:{key:l,label:i}}}),n.ipsaBuDeptId&&r({id:n.ipsaBuDeptId})}},"\u7f16\u8f91")}}]},or=(t(603),Dn.a.Search),sr=Nn.a.Option,cr=Bn.a.RangePicker,ur=Object(g.b)((function(e){return e.basic}),r)(F=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleShowModel=function(){var e=t.props.changeBasicVisible;t.props.form.resetFields(),e({basicVisible:!0,record:{}})},t.handleChangeFile=function(e){var a=e.file,n=(e.fileList,t.props.queryEmployeeBaseInfoList);a&&"done"===a.status&&a.response.success?(C.a.success(a.response.message+"\uff0c\u5171\u5bfc\u5165"+a.response.data+"\u6761\u6570\u636e"),n({currentPage:1,pageSize:20})):(a&&"done"===a.status&&!a.response.success&&C.a.error("\u5bfc\u5165\u5931\u8d25:"+a.response.message),a&&"error"===a.status&&(401===a.error.status?C.a.error("\u5bfc\u5165\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"):C.a.error("\u5bfc\u5165\u5931\u8d25:"+a.response.message)))},t.handleBeforeUpload=function(e,a){e&&"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==e.type&&C.a.error("\u8bf7\u4e0a\u4f20\u4ee5.xlsx\u4e3a\u540e\u7f00\u7684Excel\u6587\u4ef6")},t.handleSearchInput=function(e){var a=t.props,n=a.queryEmployeeBaseInfoList,r=a.changeCurrentPageData;t.props.form.validateFields((function(a,l){var i={currentPage:1,pageSize:10,ipsaBuDeptId:"",ipsaDeptId:"",gender:"",keyword:e,joiningDayStartTime:"",joiningDayEndTime:"",empProperty:"",directSuperiorId:"",employeeStatus:""};r(i),localStorage.setItem("entmonth",""),n(i),t.props.form.resetFields()}))},t.handleChangeSearchInput=function(e){(0,t.props.changeCurrentPageData)({currentPage:1,pageSize:10,ipsaBuDeptId:"",ipsaDeptId:"",gender:"",keyword:e.target.value,joiningDayStartTime:"",joiningDayEndTime:"",empProperty:"",directSuperiorId:"",employeeStatus:""})},t.handleChangeBuDeptId=function(e){var a=t.props,n=a.deptInfo,r=a.changeDepList,l=a.changeCurrentPageData,i=a.currentPageData;if(e){var o=JSON.parse(JSON.stringify(i));o.ipsaDeptId="",l(o),t.props.form.resetFields(),n(e)}else r([]);t.props.form.resetFields()},t.handleSearchList=function(e){e.preventDefault(),t.props.form.validateFields((function(e,a){var n=t.props,r=n.queryEmployeeBaseInfoList,l=n.changeCurrentPageData,i=a.joiningDay&&a.joiningDay.length?f()(a.joiningDay[0]).format("YYYY-MM-DD"):"",o=a.joiningDay&&a.joiningDay.length?f()(a.joiningDay[1]).format("YYYY-MM-DD"):"",s={currentPage:1,pageSize:10,ipsaBuDeptId:a.ipsaBuDeptId,ipsaDeptId:a.ipsaDeptId,gender:a.gender,keyword:"",joiningDayStartTime:i,joiningDayEndTime:o,empProperty:a.empProperty,directSuperiorId:a.directSuperiorId,employeeStatus:""};l(s),localStorage.setItem("entmonth",""),r(s)}))},t.handleTableChange=function(e){var a=t.props,n=a.queryEmployeeBaseInfoList,r=a.changeCurrentPageData,l=a.currentPageData,i=localStorage.getItem("entmonth"),o={currentPage:e,pageSize:10,keyword:l.keyword,ipsaBuDeptId:l.ipsaBuDeptId,ipsaDeptId:l.ipsaDeptId,directSuperiorId:l.directSuperiorId,gender:l.gender,joiningDayEndTime:l.joiningDayEndTime,joiningDayStartTime:l.joiningDayStartTime,empProperty:l.empProperty,employeeStatus:i};r(o),n(o)},t.handleDownload=function(){var e=localStorage.getItem("token"),a=localStorage.getItem("entmonth"),n=t.props.currentPageData;j()({method:"get",url:"/api/base/download",headers:{Authorization:"Bearer "+e},params:{keyword:n.keyword,ipsaBuDeptId:n.ipsaBuDeptId,ipsaDeptId:n.ipsaDeptId,directSuperiorId:n.directSuperiorId,gender:n.gender,joiningDayEndTime:n.joiningDayEndTime,joiningDayStartTime:n.joiningDayStartTime,empProperty:n.empProperty,employeeStatus:a},responseType:"blob"}).then((function(e){if(200===e.status){var a=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),t=window.URL.createObjectURL(a),n=document.createElement("a");n.style.display="none",n.href=t,n.setAttribute("download","excel.xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(t),C.a.success("\u5bfc\u51fa\u6210\u529f")}else C.a.error("\u5bfc\u51fa\u5931\u8d25")})).catch((function(e){C.a.error("\u5bfc\u51fa\u5931\u8d25")}))},t.handleGetColumns=function(){var e=Object(Mn.a)(t),a=t.state.permission;return ir(e,a)},t.state={permission:""},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.get("/api/user/queryUserPermission.json").then((function(a){if(a&&a.success){var t=a.data[0].permission;e.setState({permission:t})}}));var a=this.props,t=a.queryEmployeeBaseInfoList,n=a.deptInfoBu,r=a.queryUserListInfoByRolePermission,l=a.changeCurrentPageData,i={currentPage:1,pageSize:10,ipsaBuDeptId:"",ipsaDeptId:"",gender:"",keyword:"",joiningDayStartTime:"",joiningDayEndTime:"",empProperty:"",directSuperiorId:"",employeeStatus:localStorage.getItem("entmonth")};l(i),t(i),r("deliveryManager"),n()}},{key:"componentWillUnmount",value:function(){(0,this.props.changeCurrentPageData)({currentPage:1,pageSize:10,ipsaBuDeptId:"",ipsaDeptId:"",gender:"",keyword:"",joiningDayStartTime:"",joiningDayEndTime:"",empProperty:"",directSuperiorId:"",employeeStatus:""}),localStorage.setItem("entmonth","")}},{key:"render",value:function(){var e=this,a=this.props,t=a.basicList,n=void 0===t?[]:t,r=a.buList,l=void 0===r?[]:r,i=a.depList,o=void 0===i?[]:i,s=a.total,c=a.currentPageData,u=a.manageList,p=void 0===u?[]:u,m=this.state.permission,h=this.props.form.getFieldDecorator,g=localStorage.getItem("token");return d.a.createElement("div",{className:"basic-information"},d.a.createElement(Gt.a,{style:{padding:"20px"}},d.a.createElement(_t.a,{span:24},d.a.createElement(Gt.a,{className:"basic-operator-set"},d.a.createElement(_t.a,{span:8},d.a.createElement(or,{style:{width:"50%",marginLeft:"20px"},placeholder:"\u8f93\u5165\u59d3\u540d\u6216\u8f6f\u901a\u5de5\u53f7",onSearch:function(a){return e.handleSearchInput(a)},onChange:function(a){return e.handleChangeSearchInput(a)},enterButton:!0,value:c.keyword})),d.a.createElement(_t.a,{span:16,style:{textAlign:"right"}},d.a.createElement(dn.a,{disabled:!(m&&"hr"===m||"admin"===m),type:"primary",onClick:this.handleShowModel.bind(this),style:{marginRight:"7%"}},"+ \u65b0\u589e"),d.a.createElement("div",{style:{width:"64px",display:"inline-block",marginRight:"7%"}},d.a.createElement(Gn.a,{disabled:!(m&&"hr"===m||"admin"===m||"hr"===m),accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",action:"/api/base/import/employeeBaseInfo.json",method:"post",headers:{Authorization:"Bearer "+g},showUploadList:!1,onChange:this.handleChangeFile.bind(this),beforeUpload:this.handleBeforeUpload.bind(this)},d.a.createElement(rn.a,{title:"\u652f\u6301\u5bfc\u5165.xlsx\u6587\u4ef6"},d.a.createElement(dn.a,{disabled:!(m&&"hr"===m||"admin"===m||"hr"===m),type:"primary"},"\u5bfc\u5165")))),d.a.createElement("div",{style:{width:"64px",display:"inline-block",marginRight:"2%"}},d.a.createElement(dn.a,{disabled:!(m&&"hr"===m||"admin"===m||"hr"===m),type:"primary",onClick:this.handleDownload.bind(this)},"\u5bfc\u51fa"))))),d.a.createElement(_t.a,{style:{marginTop:"5px"},span:24},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:22},d.a.createElement(jn.a,null,d.a.createElement(_t.a,{span:6,className:"basic-from-search-btn"},d.a.createElement(jn.a.Item,{labelCol:{span:5},wrapperCol:{span:18},label:"BU",hasFeedback:!0},h("ipsaBuDeptId",{initialValue:c.ipsaBuDeptId})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleChangeBuDeptId.bind(this)},l.length&&l.map((function(e,a){return d.a.createElement(sr,{key:e.id,value:e.id},e.name)})))))),d.a.createElement(_t.a,{span:6},d.a.createElement(jn.a.Item,{labelCol:{span:6},wrapperCol:{span:16},label:"\u90e8\u95e8",hasFeedback:!0},h("ipsaDeptId",{initialValue:c.ipsaDeptId})(d.a.createElement(Nn.a,{allowClear:!0},o.length&&o.map((function(e){return d.a.createElement(sr,{key:e.id,value:e.id},e.name)})))))),d.a.createElement(_t.a,{span:4},d.a.createElement(jn.a.Item,{labelCol:{span:6},wrapperCol:{span:14},label:"\u6027\u522b",hasFeedback:!0},h("gender",{initialValue:c.gender})(d.a.createElement(Nn.a,{allowClear:!0},d.a.createElement(sr,{value:"1"},"\u7537"),d.a.createElement(sr,{value:"0"},"\u5973"))))),d.a.createElement(_t.a,{span:8},d.a.createElement(jn.a.Item,{labelCol:{span:5},wrapperCol:{span:18},label:"\u5165\u804c\u65e5\u671f",hasFeedback:!0},h("joiningDay",{initialValue:c.joiningDay})(d.a.createElement(cr,{placeholder:["\u8d77\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],ranges:{"\u5f53\u5929":[f()(),f()()],"\u672c\u6708":[f()().startOf("month"),f()().endOf("month")]}})))),d.a.createElement(_t.a,{span:4},d.a.createElement(jn.a.Item,{labelCol:{span:8},wrapperCol:{span:15},label:"\u4eba\u5458\u6027\u8d28",hasFeedback:!0},h("empProperty",{initialValue:c.empProperty})(d.a.createElement(Nn.a,{allowClear:!0},Jn.map((function(e){return d.a.createElement(sr,{key:e.id,value:e.id},e.name)})))))),d.a.createElement(_t.a,{span:6},d.a.createElement(jn.a.Item,{labelCol:{span:14},wrapperCol:{span:10},label:"\u76f4\u5c5e\u4e0a\u7ea7",hasFeedback:!0},h("directSuperiorId",{initialValue:c.deliveryManagerName})(d.a.createElement(Nn.a,{allowClear:!0},p.map((function(e){return d.a.createElement(sr,{key:e.id,value:e.id},e.empName)})))))))),d.a.createElement(_t.a,{span:2,style:{textAlign:"right"}},d.a.createElement(dn.a,{type:"primary",style:{marginTop:"3px",marginRight:"15%"},onClick:this.handleSearchList.bind(this)},"\u67e5\u8be2")))),d.a.createElement(_t.a,{className:"basic-content-table",style:{marginTop:"5px"},span:24,ref:function(a){e.tableHeight=a}},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:this.handleGetColumns(),dataSource:n,pagination:!1})),d.a.createElement(_t.a,{className:"basic-paging",span:24},d.a.createElement($t.a,{total:s,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")},current:c.currentPage,onChange:function(a){e.handleTableChange(a)}}))),d.a.createElement(lr,null))}}]),a}(u.Component))||F,dr=jn.a.create()(ur),pr=(t(650),[{title:"\u6bd5\u4e1a\u5b66\u6821",dataIndex:"graduatedUniversities",width:"150px"},{title:"\u5b66\u6821\u7c7b\u578b",dataIndex:"schoolType",width:"150px"},{title:"\u4e13\u4e1a",dataIndex:"majorCode",width:"150px"},{title:"\u5b66\u5386",dataIndex:"educationCode",width:"150px"},{title:"\u662f\u5426\u7edf\u62db",dataIndex:"uniformFlag",width:"150px"}]),mr=[{title:"\u7edf\u8ba1\u5468\u671f",dataIndex:"statisticsPeriod",align:"center"},{title:"\u96c6\u56e2",dataIndex:"groupName",align:"center"},{title:"\u5165\u804c",children:[{title:"\u4eba\u6570",dataIndex:"joinTotal",align:"center"},{title:"\u672c\u79d1",dataIndex:"undergradJoinTotal",align:"center"}]},{title:"\u79bb\u804c",children:[{title:"\u4eba\u6570",dataIndex:"leaveTotal",align:"center"},{title:"\u672c\u79d1",dataIndex:"undergradLeaveTotal",align:"center"},{title:"\u4e3b\u52a8\u79bb\u804c",dataIndex:"initiativeLeaveTotal",align:"center"},{title:"\u88ab\u52a8\u79bb\u804c",dataIndex:"passiveLeaveTotal",align:"center"}]}],hr=[{title:"BU",dataIndex:"ipsaBuDeptName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u90e8\u95e8",dataIndex:"ipsaDeptName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u59d3\u540d",dataIndex:"empName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u8f6f\u901a\u5de5\u53f7",dataIndex:"empNo",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u963f\u91cc\u5de5\u53f7",dataIndex:"aliNo",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u6027\u522b",dataIndex:"gender",width:"50px",render:function(e,a){switch(e){case 1:return d.a.createElement("span",null,"\u7537");case 0:return d.a.createElement("span",null,"\u5973")}}},{title:"\u51fa\u751f\u65e5\u671f",dataIndex:"birthday",width:"150px",render:function(e,a){return d.a.createElement("span",null,e?f()(e).format("YYYY-MM-DD"):"")}},{title:"\u5165\u804c\u65e5\u671f",dataIndex:"joiningDay",width:"150px",render:function(e,a){return d.a.createElement("span",null,e?f()(e).format("YYYY-MM-DD"):"")}},{title:"\u8f6c\u6b63\u65e5\u671f",dataIndex:"correctionTime",width:"150px",render:function(e,a){return d.a.createElement("span",null,e?f()(e).format("YYYY-MM-DD"):"")}},{title:"\u901a\u7528\u804c\u4f4d",dataIndex:"ipsaPostName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"Grade\u4ee3\u7801",dataIndex:"ipsaGradeName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u662f\u5426\u5728\u804c",dataIndex:"onJob",width:"90px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u79bb\u804c");case 1:return d.a.createElement("span",null,"\u5728\u804c")}}},{title:"\u4eba\u5458\u6027\u8d28",dataIndex:"empProperty",width:"100px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u6b63\u5f0f\u5458\u5de5");case 1:return d.a.createElement("span",null,"\u8bd5\u7528\u671f");case 2:return d.a.createElement("span",null,"\u5b9e\u4e60\u671f");case 3:return d.a.createElement("span",null,"\u517c\u804c\u5458\u5de5")}}},{title:"\u76f4\u5c5e\u4e0a\u7ea7",dataIndex:"directSuperiorName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4ea4\u4ed8\u7ecf\u7406",dataIndex:"deliveryManagerName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u6bd5\u4e1a\u5b66\u6821",dataIndex:"graduatedUniversities",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4e13\u4e1a",dataIndex:"majorName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u5b66\u5386",dataIndex:"educationCode",width:"100px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u9ad8\u4e2d");case 1:return d.a.createElement("span",null,"\u4e2d\u4e13");case 2:return d.a.createElement("span",null,"\u5927\u4e13");case 3:return d.a.createElement("span",null,"\u672c\u79d1");case 4:return d.a.createElement("span",null,"\u7855\u58eb");case 5:return d.a.createElement("span",null,"\u535a\u58eb");case 6:return d.a.createElement("span",null,"\u535a\u58eb\u540e");case 7:return d.a.createElement("span",null,"\u9662\u58eb")}}},{title:"\u662f\u5426\u7edf\u62db",dataIndex:"uniformFlag",width:"100px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u975e");case 1:return d.a.createElement("span",null,"\u662f")}}},{title:"\u5165\u9879\u65f6\u95f4",dataIndex:"joiningProjTime",width:"100px",render:function(e,a){return d.a.createElement("span",null,e?f()(e).format("YYYY-MM-DD"):"")}},{title:"\u4e00\u7c7b\u5c97\u4f4d",dataIndex:"firstCategoryName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4e8c\u7c7b\u5c97\u4f4d",dataIndex:"secondCategoryName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4e09\u7c7b\u5c97\u4f4d",dataIndex:"thirdJobName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u5c42\u7ea7",dataIndex:"aliGradeCodeName",width:"80px"},{title:"\u6280\u672f\u65b9\u5411",dataIndex:"techDirection",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u6846\u67b6",dataIndex:"aliFrameName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4e8b\u4e1a\u7fa4",dataIndex:"careerGroupName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4e8b\u4e1a\u7fa4\u672c\u90e8",dataIndex:"groupDeptName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4e8b\u4e1a\u90e8",dataIndex:"careerDeptName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u963f\u91cc\u90e8\u95e8",dataIndex:"deptName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u9879\u76ee\u540d\u79f0",dataIndex:"projectName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4e1a\u52a1\u7ebf\u540d\u79f0",dataIndex:"businessLine",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u9879\u76ee\u7c7b\u578b",dataIndex:"projetType",width:"80px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"FP");case 1:return d.a.createElement("span",null,"TM")}}},{title:"\u9879\u76ee\u65f6\u957f",dataIndex:"projetDurationType",width:"80px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u77ed\u671f");case 1:return d.a.createElement("span",null,"\u957f\u671f")}}},{title:"\u662f\u5426IDU",dataIndex:"iduFlag",width:"70px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u5426");case 1:return d.a.createElement("span",null,"\u662f")}}},{title:"\u662f\u5426TL",dataIndex:"tlFlag",width:"70px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u5426");case 1:return d.a.createElement("span",null,"\u662f")}}},{title:"\u5de5\u4f5c\u57ce\u5e02",dataIndex:"workCityName",width:"100px"},{title:"\u529e\u516c\u573a\u5730",dataIndex:"workAddress",width:"100px"},{title:"\u8d44\u6e90\u72b6\u6001",dataIndex:"resourceStatus",width:"80px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u95f2\u7f6e");case 1:return d.a.createElement("span",null,"\u5728\u5c97")}}},{title:"\u662f\u5426\u9aa8\u5e72",dataIndex:"backboneFlag",width:"70px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u5426");case 1:return d.a.createElement("span",null,"\u662f")}}},{title:"\u662f\u5426\u6536\u8d39",dataIndex:"chargeFlag",width:"70px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u5426");case 1:return d.a.createElement("span",null,"\u662f")}}},{title:"\u5907\u6ce8",dataIndex:"projectRemark",width:"150px"},{title:"\u79bb\u9879\u65f6\u95f4",dataIndex:"leaveProjTime",width:"100px",render:function(e,a){return d.a.createElement("span",null,e?f()(e).format("YYYY-MM-DD"):"")}},{title:"\u79bb\u9879\u539f\u56e0",dataIndex:"leaveProjReasonName",width:"100px"},{title:"\u79bb\u9879\u7c7b\u578b",dataIndex:"leaveProjType",width:"100px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u88ab\u52a8");case 1:return d.a.createElement("span",null,"\u4e3b\u52a8")}}}],fr=[{title:"\u4ea7\u54c1\u7ebf",dataIndex:"productLine",width:"200px"},{title:"9\u6708\u5728\u804c\u4eba\u6570(\u57fa\u7ebf)",dataIndex:"settlementCycleTotal",width:"150px"},{title:"9\u6708\u5728\u804c\u9aa8\u5e72\u4eba\u6570\u57fa\u7ebf",dataIndex:"settlementCycleBackboneTotal",width:"150px"},{title:"\u5728\u804c\u603b\u4eba\u6570",dataIndex:"onJobTotal",width:"150px"},{title:"\u5728\u804c\u9aa8\u5e72\u4eba\u6570",dataIndex:"onJobBackboneTotal",width:"150px"},{title:"\u4e3b\u52a8\u79bb\u804c\u4eba\u6570",dataIndex:"initiativeLeaveTotal",width:"150px"},{title:"\u4e3b\u52a8\u79bb\u804c\u5e73\u5747\u65f6\u95f4",dataIndex:"initiativeLeaveAvgTime",width:"150px"},{title:"\u88ab\u52a8\u79bb\u804c\u603b\u4eba\u6570",dataIndex:"passiveLeaveTotal",width:"150px"},{title:"\u4e3b\u52a8\u79bb\u804c\u7387",dataIndex:"initiativeLeaveRate",width:"150px"},{title:"\u88ab\u52a8\u79bb\u804c\u7387",dataIndex:"passiveLeaveRate",width:"150px"},{title:"\u79bb\u804c\u7387",dataIndex:"leaveRate",width:"150px"},{title:"\u4e3b\u52a8\u79bb\u804c\u9aa8\u5e72\u4eba\u6570",dataIndex:"initiativeLeaveBackboneTotal",width:"150px"},{title:"\u88ab\u52a8\u79bb\u804c\u9aa8\u5e72\u603b\u4eba\u6570",dataIndex:"passiveLeaveBackboneTotal",width:"150px"},{title:"\u9aa8\u5e72\u4e3b\u52a8\u79bb\u804c\u7387",dataIndex:"initiativeLeaveBackboneRate",width:"150px"},{title:"\u9aa8\u5e72\u88ab\u52a8\u79bb\u804c\u7387",dataIndex:"passiveLeaveBackboneRate",width:"150px"},{title:"\u9aa8\u5e72\u79bb\u804c\u7387",dataIndex:"leaveBackboneRate",width:"150px"}],gr=[{title:"\u4ea7\u54c1\u7ebf",dataIndex:"productLine",width:"200px"},{title:"\u5728\u804c\u603b\u4eba\u6570",dataIndex:"onJobTotal",width:"150px"},{title:"\u5728\u804c\u9aa8\u5e72\u4eba\u6570",dataIndex:"onJobBackboneTotal",width:"150px"},{title:"211\u4eba\u6570",dataIndex:"emphasisSchoolTotal",width:"150px"},{title:"211\u4eba\u6570\u767e\u5206\u6bd4",dataIndex:"emphasisSchoolRat",width:"150px"},{title:"211\u9aa8\u5e72\u4eba\u6570",dataIndex:"emphasisSchoolBackboneTotal",width:"150px"},{title:"211\u9aa8\u5e72\u4eba\u6570\u767e\u5206\u6bd4",dataIndex:"emphasisSchoolBackboneRat",width:"150px"},{title:"\u7edf\u62db\u672c\u79d1\u4eba\u6570",dataIndex:"undergraduateTotal",width:"150px"},{title:"\u7edf\u62db\u672c\u79d1\u4eba\u6570\u767e\u5206\u6bd4",dataIndex:"undergraduateRat",width:"150px"},{title:"\u521d\u7ea7\u4eba\u6570",dataIndex:"primaryTotal",width:"150px"},{title:"\u4e2d\u7ea7\u4eba\u6570",dataIndex:"middleTotal",width:"150px"},{title:"\u9ad8\u7ea7\u4eba\u6570",dataIndex:"highTotal",width:"150px"},{title:"\u4e13\u5bb6\u4eba\u6570",dataIndex:"expertTotal",width:"150px"},{title:"\u8d44\u6df1",dataIndex:"seniorTotal",width:"150px"},{title:"\u521d\u7ea7\u4eba\u6570\u767e\u5206\u6bd4",dataIndex:"primaryRat",width:"150px"},{title:"\u4e2d\u7ea7\u4eba\u6570\u767e\u5206\u6bd4",dataIndex:"middleRat",width:"150px"},{title:"\u9ad8\u7ea7\u4eba\u6570\u767e\u5206\u6bd4",dataIndex:"highRat",width:"150px"},{title:"\u4e13\u5bb6\u4eba\u6570\u767e\u5206\u6bd4",dataIndex:"expertRat",width:"150px"},{title:"\u8d44\u6df1\u4eba\u6570\u767e\u5206\u6bd4",dataIndex:"seniorRat",width:"150px"}],yr=Nn.a.Option,br=Object(g.b)((function(e){return e.educ}),i)(A=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleCancel=function(){(0,t.props.changeEducationVisible)({educVisible:!1,record:{},imageUrl:[]})},t.basicFormRules=function(e){return[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]},t.baseFormInput=function(e){var a=t.props,n=a.majorList,r=a.schoolTypeList;return"majorCode"===e?d.a.createElement(Nn.a,null,n.map((function(e){return d.a.createElement(yr,{key:e.id,value:e.id},e.label)}))):"schoolType"===e?d.a.createElement(Nn.a,null,r.map((function(e){return d.a.createElement(yr,{key:e.value,value:Number(e.value)},e.label)}))):"educationCode"===e?d.a.createElement(Nn.a,null,Kn.map((function(e){return d.a.createElement(yr,{key:e.key,value:e.key},e.label)}))):"uniformFlag"===e?d.a.createElement(Nn.a,null,Wn.map((function(e){return d.a.createElement(yr,{key:e.key,value:e.key},e.label)}))):d.a.createElement(Dn.a,null)},t.handleEducationSubmit=function(){t.props.form.validateFields((function(e,a){for(var n=t.props,r=n.educRecord,l=n.updateEducationRecordInfoById,i=n.imageUrl,o="",s=0,c=i.length;s<c;s++)o+=i[s].fileId?i[s].fileId+"$":i[s].response.data.fileId+"$";if("$"===o.substring(o.length-1)&&(o=o.substring(0,o.length-1)),!e){if(!o)return void C.a.error("\u8bc1\u636e\u5fc5\u987b\u4e0a\u4f20");l({recruitmentUserId:r.recruitmentUserId,majorCode:a.majorCode,recruitmentUserName:r.recruitmentUserName,graduatedUniversities:a.graduatedUniversities,educationCode:a.educationCode,uniformFlag:a.uniformFlag,avatarIdPath:o,id:r.id,schoolType:a.schoolType})}}))},t.handleChangeFile=function(e){var a=e.file,n=e.fileList,r=t.props,l=r.changeEducationVisible,i=r.educRecord,o=r.imageUrl;if(a&&"done"===a.status&&a.response.success)if(a.response.data){var s=[];o.forEach((function(e){e.response&&s.push({uid:e.response.data.fileId,name:"image.png",status:"done",url:Hn+e.response.data.url}),s.push(e)})),l({educVisible:!0,imageUrl:o,record:i,fileId:s})}else C.a.error(a.response.message);a&&"done"===a.status&&!a.response.success&&C.a.error(a.response.message),a&&"error"===a.status&&401===a.error.status&&C.a.error("\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"),l({educVisible:!0,imageUrl:n,record:i})},t.state={previewVisible:!1,previewImage:""},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.educVisible||this.props.form.resetFields()}},{key:"render",value:function(){var e=this,a=this.props,t=a.educVisible,n=a.educRecord,r=a.imageUrl,l=this.props.form.getFieldDecorator,i=localStorage.getItem("token"),o=d.a.createElement("div",null,d.a.createElement(On.a,{type:"plus"}),d.a.createElement("div",{className:"ant-upload-text"},"Upload"));return d.a.createElement("div",{className:"basic-modal"},d.a.createElement(qn.a,{title:"\u4fee\u6539\u5b66\u5386\u4fe1\u606f",visible:t,onOk:this.handleEducationSubmit,onCancel:this.handleCancel,className:"basic-add-modal",okText:"\u63d0\u4ea4",cancelText:"\u53d6\u6d88"},d.a.createElement(jn.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleEducationSubmit,className:"basic-form"}),pr.map((function(a,t){return d.a.createElement(jn.a.Item,{label:a.title,key:a.dataIndex},l(a.dataIndex,{initialValue:n[a.dataIndex],rules:e.basicFormRules(a.dataIndex)})(e.baseFormInput(a.dataIndex)))})),d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{style:{marginRight:"10px",textAlign:"right"},span:6},"\u8bc1\u636e\uff1a"),d.a.createElement(_t.a,{span:16},d.a.createElement(Gn.a,{accept:"image/png,image/jpeg",method:"post",headers:{Authorization:"Bearer "+i},listType:"picture-card",className:"avatar-uploader",fileList:r,action:"/api/file/uploadFile.json",onChange:this.handleChangeFile.bind(this)},r.length>=3?null:o))))))}}]),a}(u.Component))||A,Er=jn.a.create()(br),vr=(t(651),Dn.a.Search),Ir=Nn.a.Option,Cr=Object(g.b)((function(e){return e.educ}),i)(P=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleShowModal=function(e){var a=t.props,n=a.changeEducationVisible,r=a.dictInfo,l=[];e.avatar&&e.avatar.length&&e.avatar.forEach((function(e){e&&l.push({fileId:e.id,uid:e.id,name:"image.png",status:"done",url:Hn+e.url})})),n({educVisible:!0,record:e,imageUrl:l,fileId:""}),r("major_code"),r("school_type")},t.handleChangeBuDeptId=function(e){var a=t.props,n=a.deptInfo,r=a.changeDepList,l=a.changeCurrentPageData,i=a.currentPageData;if(e){var o=JSON.parse(JSON.stringify(i));o.ipsaDeptId="",l(o),n(e),t.props.form.resetFields()}else r([])},t.handleTableChange=function(e){var a=t.props,n=a.queryEducationRecordInfoList,r=a.changeCurrentPageData,l=a.currentPageData,i=localStorage.getItem("educStatusFlag"),o={currentPage:e,pageSize:10,educationCode:l.educationCode,uniformFlag:l.uniformFlag,ipsaBuDeptId:l.ipsaBuDeptId,ipsaDeptId:l.ipsaDeptId,keyword:l.keyword,statusFlag:i};r(o),n(o)},t.handleChangeFile=function(e){var a=e.file,n=(e.fileList,t.props.queryEducationRecordInfoList);a&&"done"===a.status&&a.response.success?(C.a.success(a.response.message+"\uff0c\u5171\u5bfc\u5165"+a.response.data+"\u6761\u6570\u636e"),n({currentPage:1,pageSize:20})):(a&&"done"===a.status&&!a.response.success&&C.a.error("\u5bfc\u5165\u5931\u8d25:"+a.response.message),a&&"error"===a.status&&(401===a.error.status?C.a.error("\u5bfc\u5165\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"):C.a.error("\u5bfc\u5165\u5931\u8d25:"+a.response.message)))},t.handleBeforeUpload=function(e,a){e&&"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==e.type&&C.a.error("\u8bf7\u4e0a\u4f20\u4ee5.xlsx\u4e3a\u540e\u7f00\u7684Excel\u6587\u4ef6")},t.handleDownload=function(){var e=localStorage.getItem("token"),a=t.props.currentPageData,n=localStorage.getItem("educStatusFlag");j()({method:"get",url:"/api/education/download",headers:{Authorization:"Bearer "+e},params:{educationCode:a.educationCode,uniformFlag:a.uniformFlag,ipsaBuDeptId:a.ipsaBuDeptId,ipsaDeptId:a.ipsaDeptId,keyword:a.keyword,statusFlag:n},responseType:"blob"}).then((function(e){if(200===e.status){var a=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),t=window.URL.createObjectURL(a),n=document.createElement("a");n.style.display="none",n.href=t,n.setAttribute("download","excel.xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(t),C.a.success("\u5bfc\u51fa\u6210\u529f")}else C.a.error("\u5bfc\u51fa\u5931\u8d25")})).catch((function(e){C.a.error("\u5bfc\u51fa\u5931\u8d25")}))},t.handleSearchInput=function(e){var a=t.props,n=a.queryEducationRecordInfoList,r=a.changeCurrentPageData;t.props.form.validateFields((function(a,l){var i={educationCode:"",uniformFlag:"",ipsaBuDeptId:"",ipsaDeptId:"",keyword:e,currentPage:1,pageSize:10};r(i),localStorage.setItem("educStatusFlag",""),n(i),t.props.form.resetFields()}))},t.handleChangeSearchInput=function(e){(0,t.props.changeCurrentPageData)({currentPage:1,pageSize:10,keyword:e.target.value,educationCode:"",uniformFlag:"",ipsaBuDeptId:"",ipsaDeptId:""})},t.handleSearchList=function(e){e.preventDefault();var a=t.props,n=a.queryEducationRecordInfoList,r=a.changeCurrentPageData;t.props.form.validateFields((function(e,a){var t={educationCode:a.educationCode,uniformFlag:a.uniformFlag,ipsaBuDeptId:a.ipsaBuDeptId,ipsaDeptId:a.ipsaDeptId,keyword:"",currentPage:1,pageSize:10};r(t),localStorage.setItem("educStatusFlag",""),n(t)}))},t.state={permission:""},t.columns=[{title:"BU",dataIndex:"ipsaBuDeptName",width:"15%"},{title:"\u90e8\u95e8",dataIndex:"ipsaDeptName",width:"15%"},{title:"\u59d3\u540d",dataIndex:"empName",width:"10%"},{title:"\u8f6f\u901a\u5de5\u53f7",dataIndex:"empNo",width:"10%"},{title:"\u6bd5\u4e1a\u5b66\u6821",dataIndex:"graduatedUniversities",width:"15%"},{title:"\u5b66\u6821\u7c7b\u578b",dataIndex:"schoolTypeName",width:"6%"},{title:"\u4e13\u4e1a",dataIndex:"majorName",width:"15%"},{title:"\u5b66\u5386",dataIndex:"educationCode",width:"6%",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u9ad8\u4e2d");case 1:return d.a.createElement("span",null,"\u4e2d\u4e13");case 2:return d.a.createElement("span",null,"\u5927\u4e13");case 3:return d.a.createElement("span",null,"\u672c\u79d1");case 4:return d.a.createElement("span",null,"\u7855\u58eb");case 5:return d.a.createElement("span",null,"\u535a\u58eb");case 6:return d.a.createElement("span",null,"\u535a\u58eb\u540e");case 7:return d.a.createElement("span",null,"\u9662\u58eb")}}},{title:"\u662f\u5426\u7edf\u62db",dataIndex:"uniformFlag",width:"9%",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u975e");case 1:return d.a.createElement("span",null,"\u662f")}}},{title:"\u64cd\u4f5c",dataIndex:"action",width:"5%",render:function(e,a){var n=t.state.permission;return d.a.createElement(dn.a,{disabled:!(n&&"recruitmentConsultant"===n||"admin"===n||"hr"===n),onClick:t.handleShowModal.bind(Object(Mn.a)(t),a)},"\u7f16\u8f91")}}],t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.get("/api/user/queryUserPermission.json").then((function(a){if(a&&a.success){var t=a.data[0].permission;e.setState({permission:t})}}));var a=this.props,t=a.deptInfoBu;(0,a.queryEducationRecordInfoList)({currentPage:1,pageSize:10,statusFlag:localStorage.getItem("educStatusFlag")}),t()}},{key:"componentWillUnmount",value:function(){(0,this.props.changeCurrentPageData)({currentPage:1,pageSize:10,keyword:"",educationCode:"",uniformFlag:"",ipsaBuDeptId:"",ipsaDeptId:""}),localStorage.setItem("educStatusFlag","")}},{key:"render",value:function(){var e=this,a=this.columns,t=this.props,n=t.buList,r=t.depList,l=t.educList,i=t.total,o=t.currentPageData,s=this.state.permission,c=localStorage.getItem("token"),u=this.props.form.getFieldDecorator;return d.a.createElement("div",{className:"education-info"},d.a.createElement(Gt.a,{style:{padding:"20px"}},d.a.createElement(_t.a,{className:"educ-operator-set",span:24},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:8},d.a.createElement(vr,{className:"educ-seatch-input",placeholder:"\u8f93\u5165\u59d3\u540d\u6216\u8f6f\u901a\u5de5\u53f7",onSearch:function(a){return e.handleSearchInput(a)},onChange:function(a){return e.handleChangeSearchInput(a)},enterButton:!0,value:o.keyword})),d.a.createElement(_t.a,{span:16,style:{textAlign:"right"}},d.a.createElement("div",{className:"educ-upload-btn",style:{marginRight:"7%"}},d.a.createElement(Gn.a,{disabled:!(s&&"recruitmentConsultant"===s||"admin"===s||"hr"===s),style:{marginRight:"7%"},accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",action:"/api/education/import/education.json",method:"post",headers:{Authorization:"Bearer "+c},showUploadList:!1,onChange:this.handleChangeFile.bind(this),beforeUpload:this.handleBeforeUpload.bind(this)},d.a.createElement(rn.a,{title:"\u652f\u6301\u5bfc\u5165.xlsx\u6587\u4ef6"},d.a.createElement(dn.a,{disabled:!(s&&"recruitmentConsultant"===s||"admin"===s||"hr"===s),type:"primary"},"\u5bfc\u5165")))),d.a.createElement("div",{className:"educ-upload-btn"},d.a.createElement(dn.a,{disabled:!(s&&"recruitmentConsultant"===s||"admin"===s||"hr"===s),onClick:this.handleDownload.bind(this),type:"primary"},"\u5bfc\u51fa"))))),d.a.createElement(_t.a,{style:{marginTop:"30px"},span:24},d.a.createElement(Gt.a,null,d.a.createElement(jn.a,null,d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:3},wrapperCol:{span:16},label:"BU",hasFeedback:!0},u("ipsaBuDeptId",{initialValue:o.ipsaBuDeptId})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleChangeBuDeptId.bind(this)},n.map((function(e){return d.a.createElement(Ir,{key:e.id,value:e.id},e.name)})))))),d.a.createElement(_t.a,{span:6},d.a.createElement(jn.a.Item,{labelCol:{span:4},wrapperCol:{span:14},label:"\u90e8\u95e8",hasFeedback:!0},u("ipsaDeptId",{initialValue:o.ipsaDeptId})(d.a.createElement(Nn.a,{allowClear:!0},r.map((function(e){return d.a.createElement(Ir,{key:e.id,value:e.id},e.name)})))))),d.a.createElement(_t.a,{span:4},d.a.createElement(jn.a.Item,{labelCol:{span:4},wrapperCol:{span:12},label:"\u5b66\u5386",hasFeedback:!0},u("educationCode",{initialValue:o.educationCode})(d.a.createElement(Nn.a,{allowClear:!0},Kn.map((function(e){return d.a.createElement(Ir,{key:e.key,value:e.key},e.label)})))))),d.a.createElement(_t.a,{span:7},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:9},label:"\u662f\u5426\u7edf\u62db",hasFeedback:!0},u("uniformFlag",{initialValue:o.uniformFlag})(d.a.createElement(Nn.a,{allowClear:!0},Wn.map((function(e){return d.a.createElement(Ir,{key:e.key,value:e.key},e.label)})))))),d.a.createElement(_t.a,{span:2,style:{textAlign:"right"}},d.a.createElement(dn.a,{type:"primary",style:{marginTop:"3px",marginRight:"15%"},onClick:this.handleSearchList.bind(this)},"\u67e5\u8be2"))))),d.a.createElement(_t.a,{span:24,className:"educ-content-table"},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:a,dataSource:l,pagination:!1})),d.a.createElement(_t.a,{className:"educ-paging",span:24},d.a.createElement($t.a,{total:i,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")},current:o.currentPage,onChange:function(a){e.handleTableChange(a)}}))),d.a.createElement(Er,null))}}]),a}(u.Component))||P,wr=jn.a.create()(Cr),jr=(t(652),Nn.a.Option),kr=Bn.a.RangePicker,Dr=Object(g.b)((function(e){return e.project}),l)(R=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleFocusProductLine=function(){(0,t.props.dictInfo)("product_line")},t.handleFocusFirstCategoryId=function(){(0,t.props.dictInfo)("job_class_1")},t.handleChangeCategroy=function(e,a){console.log("activeKey",e,"value",a);var n=t.props.deptInfoName;a.key&&n({activeKey:e,pid:a&&a.key?a.key:a})},t.handleFocusaliGradeCode=function(){(0,t.props.dictInfo)("job_class_level")},t.handleFocusWorkCity=function(){(0,t.props.dictInfo)("work_city")},t.handleFocusProjectList=function(){(0,t.props.dictInfo)("project_list")},t.handleFocusIframe=function(){(0,t.props.deptInfoIframe)({value:"",flag:"zero"})},t.handleChangeIftame=function(e,a){a&&(0,t.props.deptInfo)({value:a.key,flag:e});if(!a){var n=t.props,r=n.changeCareerGroupId,l=n.changeCareerDeptId,i=n.changeGroupDeptId,o=n.changeDeptId;r([]),l([]),i([]),o([]),t.props.form.resetFields()}},t.handleCancel=function(){(0,t.props.changeProjectVisible)({projectVisible:!1,record:{}}),t.props.form.resetFields()},t.updateProjectRecordInfoById=function(){t.props.form.validateFields((function(e,a){if(!e){var n=t.props,r=n.projectRecord,l=n.updateProjectRecordInfoById,i=a.shortTime?f()(a.shortTime[0]).format("YYYY-MM-DD"):"",o=a.shortTime?f()(a.shortTime[1]).format("YYYY-MM-DD"):"",s=/[\u4e00-\u9fa5]/g,c=a.aliGradeCode.label&&a.aliGradeCode.label.match(s)?a.aliGradeCode.label.match(s).join(""):"";l({id:r.id,aliNo:a.aliNo,projectName:a.projectId.label,projectId:a.projectId.key,joiningProjTimeFormat:a.joiningProjTimeFormat?f()(a.joiningProjTimeFormat).format("YYYY-MM-DD"):"",managerId:r.managerId,managerName:r.managerName,firstCategoryId:a.firstCategoryId.key,secondCategoryId:a.secondCategoryId.key,thirdJobId:a.thirdJobId.key,aliGradeCode:a.aliGradeCode.key,techDirection:a.techDirection,aliFrameId:a.aliFrameId.key,careerGroupId:a.careerGroupId.key,groupDeptId:a.groupDeptId.key,careerDeptId:a.careerDeptId.key,deptId:a.deptId.key,businessLine:1===a.iduFlag?"IDU-"+a.careerDeptId.label:a.careerDeptId.label,projetDurationType:a.projetDurationType,projetType:a.projetType,iduFlag:a.iduFlag,tlFlag:a.tlFlag,workCity:a.workCity,workAddress:a.workAddress,resourceStatus:a.resourceStatus,backboneFlag:"\u8d44\u6df1"===c||"\u4e13\u5bb6"===c?1:0,chargeFlag:a.chargeFlag,leaveProjReasonId:a.leaveProjReasonId,leaveProjType:a.leaveProjType,projectStartTimeFormat:i,projectEndTimeFormat:o,remark:a.remark,productLine:a.productLine.key})}}))},t.handleChangeprojetType=function(e){var a=t.props,n=a.changeProjectVisible,r=a.projectRecord,l=JSON.parse(JSON.stringify(r));l.shortDate=0===e,n({projectVisible:!0,record:l})},t.handleAfterClose=function(){t.props.form.resetFields()},t.state={shortTime:null},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props,a=e.projectVisible,t=e.firstCategoryidList,n=e.secondCategoryidList,r=e.thirdCategoryidList,l=e.aliGradeCodeList,i=e.workCityList,o=e.newProjectList,s=void 0===o?[]:o,c=e.iframeList,u=void 0===c?[]:c,p=e.careerGroupList,m=void 0===p?[]:p,h=e.groupdeptList,g=void 0===h?[]:h,y=e.careerdepList,b=void 0===y?[]:y,E=e.deptIdList,v=void 0===E?[]:E,I=e.projectRecord,C=e.productLineList,w=void 0===C?[]:C,j=I.projectId,k=I.firstCategoryId,D=I.secondCategoryId,S=I.thirdJobId,O=I.aliGradeCode,T=I.aliFrameId,x=I.groupDeptId,L=I.careerDeptId,N=I.deptId,F=I.careerGroupId,A=I.productLine,P=this.props.form.getFieldDecorator;return d.a.createElement("div",{className:"project-modal"},d.a.createElement(qn.a,{title:"\u7f16\u8f91\u9879\u76ee\u4fe1\u606f",visible:a,onOk:this.updateProjectRecordInfoById,onCancel:this.handleCancel,afterClose:this.handleAfterClose,className:"project-add-modal",okText:"\u63d0\u4ea4",cancelText:"\u53d6\u6d88"},d.a.createElement(Gt.a,null,d.a.createElement(jn.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit,className:"project-form"}),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u963f\u91cc\u5de5\u53f7",hasFeedback:!0},P("aliNo",{initialValue:I.aliNo?I.aliNo:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Dn.a,null)))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u5165\u9879\u65f6\u95f4",hasFeedback:!0},P("joiningProjTimeFormat",{initialValue:I.joiningProjTime?f()(I.joiningProjTime):null,rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Bn.a,{showToday:!1,placeholder:"\u8bf7\u9009\u62e9\u5165\u9879\u65f6\u95f4"})))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u4e00\u7c7b\u5c97\u4f4d",hasFeedback:!0},P("firstCategoryId",{initialValue:k&&k.key?k:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{labelInValue:!0,onFocus:this.handleFocusFirstCategoryId.bind(this),onChange:this.handleChangeCategroy.bind(this,"job_class_2")},t.map((function(e){return d.a.createElement(jr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u4e8c\u7c7b\u5c97\u4f4d",hasFeedback:!0},P("secondCategoryId",{initialValue:D&&D.key?D:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{labelInValue:!0,onChange:this.handleChangeCategroy.bind(this,"job_class_3")},n.map((function(e){return d.a.createElement(jr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u4e09\u7c7b\u5c97\u4f4d",hasFeedback:!0},P("thirdJobId",{initialValue:S&&S.key?S:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{labelInValue:!0},r.map((function(e){return d.a.createElement(jr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u5c42\u7ea7",hasFeedback:!0},P("aliGradeCode",{initialValue:O&&O.key?O:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{allowClear:!0,labelInValue:!0,onFocus:this.handleFocusaliGradeCode.bind(this)},l.map((function(e){return d.a.createElement(jr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u6280\u672f\u65b9\u5411",hasFeedback:!0},P("techDirection",{initialValue:I.techDirection?I.techDirection:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Dn.a,null)))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u6846\u67b6",hasFeedback:!0},P("aliFrameId",{initialValue:T&&T.key?T:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{labelInValue:!0,onFocus:this.handleFocusIframe.bind(this),onChange:this.handleChangeIftame.bind(this,"aliFrameId")},Array.isArray(u)&&u.map((function(e){return d.a.createElement(jr,{key:e.id,value:e.id},e.name)})))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u4e8b\u4e1a\u7fa4",hasFeedback:!0},P("careerGroupId",{initialValue:F&&F.key?F:""})(d.a.createElement(Nn.a,{labelInValue:!0,onChange:this.handleChangeIftame.bind(this,"careerGroupId")},Array.isArray(m)&&m.map((function(e){return d.a.createElement(jr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u4e8b\u4e1a\u7fa4\u672c\u90e8",hasFeedback:!0},P("groupDeptId",{initialValue:x&&x.key?x:""})(d.a.createElement(Nn.a,{labelInValue:!0,onChange:this.handleChangeIftame.bind(this,"groupDeptId")},Array.isArray(g)&&g.map((function(e){return d.a.createElement(jr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u4e8b\u4e1a\u90e8",hasFeedback:!0},P("careerDeptId",{initialValue:L&&L.key?L:""})(d.a.createElement(Nn.a,{labelInValue:!0,onChange:this.handleChangeIftame.bind(this,"careerDeptId")},Array.isArray(b)&&b.map((function(e){return d.a.createElement(jr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u963f\u91cc\u90e8\u95e8",hasFeedback:!0},P("deptId",{initialValue:N&&N.key?N:""})(d.a.createElement(Nn.a,{labelInValue:!0},Array.isArray(v)&&v.map((function(e){return d.a.createElement(jr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u4ea7\u54c1\u7ebf",hasFeedback:!0},P("productLine",{initialValue:A,rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{labelInValue:!0,onFocus:this.handleFocusProductLine.bind(this)},Array.isArray(w)&&w.map((function(e){return d.a.createElement(jr,{key:e.value,value:e.value},e.label)})))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u9879\u76ee\u540d\u79f0",hasFeedback:!0},P("projectId",{initialValue:j&&j.key?j:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{labelInValue:!0,onFocus:this.handleFocusProjectList.bind(this)},Array.isArray(s)&&s.map((function(e){return d.a.createElement(jr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u9879\u76ee\u7c7b\u578b",hasFeedback:!0},P("projetType",{initialValue:I.projetType||0===I.projetType?I.projetType:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{allowClear:!0},d.a.createElement(jr,{value:0},"FP"),d.a.createElement(jr,{value:1},"TM"))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u9879\u76ee\u65f6\u957f",hasFeedback:!0},P("projetDurationType",{initialValue:I.projetDurationType||0===I.projetDurationType?I.projetDurationType:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleChangeprojetType},d.a.createElement(jr,{value:0},"\u77ed\u671f"),d.a.createElement(jr,{value:1},"\u957f\u671f"))))),I.shortDate?d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u77ed\u671f\u8d77\u59cb",hasFeedback:!0},P("shortTime",{initialValue:I.startTime&&I.endTime?[f()(I.startTime),f()(I.endTime)]:null})(d.a.createElement(kr,{placeholder:["\u8d77\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],ranges:{"\u5f53\u5929":[f()(),f()()],"\u672c\u6708":[f()().startOf("month"),f()().endOf("month")]}})))):"",d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u662f\u5426IDU",hasFeedback:!0},P("iduFlag",{initialValue:I.iduFlag||0===I.iduFlag?I.iduFlag:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{allowClear:!0},d.a.createElement(jr,{value:0},"\u5426"),d.a.createElement(jr,{value:1},"\u662f"))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u662f\u5426TL",hasFeedback:!0},P("tlFlag",{initialValue:I.tlFlag||0===I.tlFlag?I.tlFlag:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{allowClear:!0},d.a.createElement(jr,{value:0},"\u5426"),d.a.createElement(jr,{value:1},"\u662f"))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u5de5\u4f5c\u57ce\u5e02",hasFeedback:!0,onFocus:this.handleFocusWorkCity.bind(this)},P("workCity",{initialValue:I.workCity?I.workCity:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{allowClear:!0},i.map((function(e){return d.a.createElement(jr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u529e\u516c\u573a\u5730",hasFeedback:!0},P("workAddress",{initialValue:I.workAddress?I.workAddress:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Dn.a,null)))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u8d44\u6e90\u72b6\u6001",hasFeedback:!0},P("resourceStatus",{initialValue:I.resourceStatus||0===I.resourceStatus?I.resourceStatus:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{allowClear:!0},d.a.createElement(jr,{value:0},"\u95f2\u7f6e"),d.a.createElement(jr,{value:1},"\u5728\u5c97"))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u662f\u5426\u6536\u8d39",hasFeedback:!0},P("chargeFlag",{initialValue:I.chargeFlag||0===I.chargeFlag?I.chargeFlag:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{allowClear:!0},d.a.createElement(jr,{value:0},"\u5426"),d.a.createElement(jr,{value:1},"\u662f"))))),d.a.createElement(_t.a,null,d.a.createElement(jn.a.Item,{label:"\u5907\u6ce8",hasFeedback:!0},P("remark",{initialValue:I.remark?I.remark:""})(d.a.createElement(Dn.a,null))))))))}}]),a}(u.Component))||R,Sr=jn.a.create()(Dr),Or=Nn.a.Option,Tr=Object(g.b)((function(e){return e.project}),l)(V=function(e){function a(){var e,t;Object(xt.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(Nt.a)(this,(e=Object(Ft.a)(a)).call.apply(e,[this].concat(r)))).handleFocusLeaveProj=function(){(0,t.props.dictInfo)("leave_proj_reason")},t.handleCancel=function(){(0,t.props.changeLeaveProjVisible)({leaveProjVisible:!1,record:{}})},t.handleOk=function(){t.props.form.validateFields((function(e,a){if(!e){var n=t.props,r=n.leaveProjRecord;(0,n.updateProjectRecordInfoById)({id:r.id,leaveProjTimeFormat:a.leaveProjTimeFormat?f()(a.leaveProjTimeFormat).format("YYYY-MM-DD"):"",leaveProjReasonId:a.leaveProjReasonId.key,leaveProjType:a.leaveProjType})}}))},t.handleAfterClose=function(){t.props.form.resetFields()},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.props,t=a.leaveProjList,n=void 0===t?[]:t,r=a.leaveProjVisible,l=a.leaveProjRecord,i=l.leaveProjTime,o=l.leaveProjReasonId,s=l.leaveProjType;return d.a.createElement("div",null,d.a.createElement(qn.a,{title:"\u586b\u5199\u79bb\u9879\u4fe1\u606f",visible:r,onOk:this.handleOk,onCancel:this.handleCancel,afterClose:this.handleAfterClose,okText:"\u63d0\u4ea4",cancelText:"\u53d6\u6d88"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,null,d.a.createElement(jn.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit,className:"project-form"}),d.a.createElement(jn.a.Item,{label:"\u963f\u91cc\u79bb\u9879\u65f6\u95f4",hasFeedback:!0},e("leaveProjTimeFormat",{initialValue:i?f()(i):null,rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Bn.a,{showToday:!1,placeholder:"\u8bf7\u9009\u62e9\u79bb\u9879\u65f6\u95f4"}))),d.a.createElement(jn.a.Item,{label:"\u963f\u91cc\u79bb\u9879\u539f\u56e0",hasFeedback:!0},e("leaveProjReasonId",{initialValue:o&&o.key?o:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{labelInValue:!0,onFocus:this.handleFocusLeaveProj.bind(this)},n.map((function(e){return d.a.createElement(Or,{key:e.value,value:e.value},e.label)}))))),d.a.createElement(jn.a.Item,{label:"\u963f\u91cc\u79bb\u9879\u7c7b\u578b",hasFeedback:!0},e("leaveProjType",{initialValue:s||0===s?s:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{allowClear:!0},d.a.createElement(Or,{value:0},"\u88ab\u52a8"),d.a.createElement(Or,{value:1},"\u4e3b\u52a8")))))))))}}]),a}(u.Component))||V,xr=jn.a.create()(Tr),Lr=function(e,a){return[{title:"BU",dataIndex:"ipsaBuDeptName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u90e8\u95e8",dataIndex:"ipsaDeptName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u59d3\u540d",dataIndex:"empName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u8f6f\u901a\u5de5\u53f7",dataIndex:"empNo",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u963f\u91cc\u5de5\u53f7",dataIndex:"aliNo",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u5165\u9879\u65f6\u95f4",dataIndex:"joiningProjTime",width:"130px",render:function(e,a){return d.a.createElement("span",null,e?f()(e).format("YYYY-MM-DD"):"")}},{title:"\u4e00\u7c7b\u5c97\u4f4d",dataIndex:"firstCategoryName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4e8c\u7c7b\u5c97\u4f4d",dataIndex:"secondCategoryName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4e09\u7c7b\u5c97\u4f4d",dataIndex:"thirdJobName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u5c42\u7ea7",dataIndex:"aliGradeCodeName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u6280\u672f\u65b9\u5411",dataIndex:"techDirection",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u6846\u67b6",dataIndex:"aliFrameName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4e8b\u4e1a\u7fa4",dataIndex:"careerGroupName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4e8b\u4e1a\u7fa4\u672c\u90e8",dataIndex:"groupDeptName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4e8b\u4e1a\u90e8",dataIndex:"careerDeptName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u963f\u91cc\u90e8\u95e8",dataIndex:"deptName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4ea7\u54c1\u7ebf",dataIndex:"productLineName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u9879\u76ee\u540d\u79f0",dataIndex:"projectName",width:"150px",onCell:function(){return{style:{maxWidth:150,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4e1a\u52a1\u7ebf\u540d\u79f0",dataIndex:"businessLine",width:"150px",onCell:function(){return{style:{maxWidth:150,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u9879\u76ee\u7c7b\u578b",dataIndex:"projetType",width:"80px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"FP");case 1:return d.a.createElement("span",null,"TM")}}},{title:"\u9879\u76ee\u65f6\u957f",dataIndex:"projetDurationType",width:"80px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u77ed\u671f");case 1:return d.a.createElement("span",null,"\u957f\u671f")}}},{title:"\u662f\u5426IDU",dataIndex:"iduFlag",width:"70px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u5426");case 1:return d.a.createElement("span",null,"\u662f")}}},{title:"\u662f\u5426TL",dataIndex:"tlFlag",width:"70px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u5426");case 1:return d.a.createElement("span",null,"\u662f")}}},{title:"\u5de5\u4f5c\u57ce\u5e02",dataIndex:"workCityName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u529e\u516c\u573a\u5730",dataIndex:"workAddress",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u8d44\u6e90\u72b6\u6001",dataIndex:"resourceStatus",width:"80px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u95f2\u7f6e");case 1:return d.a.createElement("span",null,"\u5728\u5c97")}}},{title:"\u662f\u5426\u9aa8\u5e72",dataIndex:"backboneFlag",width:"70px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u5426");case 1:return d.a.createElement("span",null,"\u662f")}}},{title:"\u662f\u5426\u6536\u8d39",dataIndex:"chargeFlag",width:"70px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u5426");case 1:return d.a.createElement("span",null,"\u662f")}}},{title:"\u5907\u6ce8",dataIndex:"remark",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u79bb\u9879\u65f6\u95f4",dataIndex:"leaveProjTime",width:"100px",render:function(e,a){return d.a.createElement("span",null,e?f()(e).format("YYYY-MM-DD"):"")}},{title:"\u79bb\u9879\u539f\u56e0",dataIndex:"leaveProjReasonName",width:"100px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u79bb\u9879\u7c7b\u578b",dataIndex:"leaveProjType",width:"100px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u88ab\u52a8");case 1:return d.a.createElement("span",null,"\u4e3b\u52a8")}}},{title:"\u64cd\u4f5c",dataIndex:"action",width:"200px",fixed:"right",render:function(t,n){var r=e.props,l=r.changeProjectVisible,i=r.changeLeaveProjVisible,o=r.deptInfo,s=r.changeCareerGroupId,c=r.changeCareerDeptId,u=r.changeGroupDeptId,p=r.changeDeptId;r.deptInfoName;return d.a.createElement("div",null,d.a.createElement(dn.a,{disabled:!(a&&"projectManage"===a||"admin"===a||"hr"===a),onClick:function(){var e=JSON.parse(JSON.stringify(n));if(e.projectId={key:n.projectId?n.projectId:"",label:n.projectName?n.projectName:""},e.firstCategoryId={key:n.firstCategoryId?n.firstCategoryId:"",label:n.firstCategoryName?n.firstCategoryName:""},e.secondCategoryId={key:n.secondCategoryId?n.secondCategoryId:"",label:n.secondCategoryName?n.secondCategoryName:""},e.thirdJobId={key:n.thirdJobId?n.thirdJobId:"",label:n.thirdJobName?n.thirdJobName:""},e.aliGradeCode={key:n.aliGradeCode?n.aliGradeCode:"",label:n.aliGradeCodeName?n.aliGradeCodeName:""},e.aliFrameId={key:n.aliFrameId?n.aliFrameId:"",label:n.aliFrameName?n.aliFrameName:""},e.careerGroupId={key:n.careerGroupId?n.careerGroupId:"",label:n.careerGroupName?n.careerGroupName:""},e.groupDeptId={key:n.groupDeptId?n.groupDeptId:"",label:n.groupDeptName?n.groupDeptName:""},e.careerDeptId={key:n.careerDeptId?n.careerDeptId:"",label:n.careerDeptName?n.careerDeptName:""},e.deptId={key:n.deptId?n.deptId:"",label:n.deptName?n.deptName:""},e.productLine={key:n.productLine||0===n.productLine?n.productLine:"",label:n.productLineName?n.productLineName:""},n.aliFrameName&&n.aliFrameId){var a={value:n.aliFrameId,flag:"aliFrameId"};o(a)}else s([]);if(n.careerGroupName&&n.careerGroupId){var t={value:n.careerGroupId,flag:"careerGroupId"};o(t)}else u([]);if(n.groupDeptName&&n.groupDeptId){var r={value:n.groupDeptId,flag:"groupDeptId"};o(r)}else c([]);if(n.careerDeptName&&n.careerDeptId){var i={value:n.careerDeptId,flag:"careerDeptId"};o(i)}else p([]);e.shortDate=0===n.projetDurationType,l({projectVisible:!0,record:e})}},"\u7f16\u8f91\u9879\u76ee"),d.a.createElement(dn.a,{style:{marginLeft:"5px"},disabled:!(a&&"projectManage"===a||"admin"===a||"hr"===a),onClick:function(){var e=JSON.parse(JSON.stringify(n));e.leaveProjReasonId={key:n.leaveProjReasonId,label:n.leaveProjReasonName},i({leaveProjVisible:!0,record:e})}},"\u7f16\u8f91\u79bb\u9879"))}}]},Nr=(t(653),Nn.a.Option),Fr=Object(g.b)((function(e){return e.project}),l)(G=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleChangeBuDeptId=function(e){var a=t.props,n=a.deptInfo,r=a.changeDepList;e?(t.setState({ipsaBuDeptIdValue:e,ipsaDeptIdValue:""}),n({flag:"bu",value:e})):(t.setState({ipsaDeptIdValue:""}),r([]));t.props.form.resetFields()},t.handleChangeBuMenDeptId=function(e){t.setState({ipsaDeptIdValue:e})},t.handleFocusFirstCategoryId=function(){(0,t.props.dictInfo)("job_class_1")},t.handleChangeCategroy=function(e,a){var n=t.props,r=n.deptInfoName,l=n.changeFocusSecondCategoryId,i=n.changeFocusThirdCategoryId;a&&r({activeKey:e,pid:a});"job_class_2"!==e||a||(t.props.form.setFieldsValue({secondCategoryId:"",thirdJobId:""}),l([]),i([])),"job_class_3"!==e||a||(t.props.form.setFieldsValue({thirdJobId:""}),i([]))},t.handleFocusaliGradeCode=function(){(0,t.props.dictInfo)("job_class_level")},t.handleFocusWorkCity=function(){(0,t.props.dictInfo)("work_city")},t.handleFocusProjectList=function(){(0,t.props.dictInfo)("project_list")},t.handleFocusIframe=function(){(0,t.props.deptInfoIframe)({value:"",flag:"zero"})},t.handleFocusProductLine=function(){(0,t.props.dictInfo)("product_line")},t.handleChangeIftame=function(e,a){var n=t.props,r=n.changeCareerGroupId,l=n.changeCareerDeptId,i=n.changeGroupDeptId,o=n.changeDeptId;if(a){var s=t.props.deptInfo,c={value:a,flag:e};"aliFrameId"===e&&(t.setState({aliFrameIdValue:a,careerGroupIdValue:"",groupDeptIdValue:"",careerDeptIdValue:"",deptIdValue:""}),l([]),i([]),o([])),"careerGroupId"===e&&(t.setState({careerGroupIdValue:a,groupDeptIdValue:"",careerDeptIdValue:"",deptIdValue:""}),i([]),o([])),"groupDeptId"===e&&(t.setState({groupDeptIdValue:a,careerDeptIdValue:"",deptIdValue:""}),o([])),"careerDeptId"===e&&t.setState({careerDeptIdValue:a,deptIdValue:""}),"deptId"===e&&t.setState({deptIdValue:a}),s(c)}a||("aliFrameId"===e&&(t.setState({careerGroupIdValue:"",groupDeptIdValue:"",careerDeptIdValue:"",deptIdValue:""}),r([]),l([]),i([]),o([])),"careerGroupId"===e&&(t.setState({groupDeptIdValue:"",careerDeptIdValue:"",deptIdValue:""}),l([]),i([]),o([])),"groupDeptId"===e&&(t.setState({careerDeptIdValue:"",deptIdValue:""}),l([]),o([])),"careerDeptId"===e&&(t.setState({deptIdValue:""}),o([]))),t.props.form.resetFields()},t.handleSearchSubmit=function(){t.props.form.validateFields((function(e,a){var n=t.props,r=n.changeSaveSearchSubmit,l=n.queryProjectRecordInfoList,i=n.changeCurrentPageData,o={currentPage:1,pageSize:10,aliNo:a.aliNo,ipsaBuDeptId:a.ipsaBuDeptId,ipsaDeptId:a.ipsaDeptId,projectId:a.projectId,joiningProjTimeFormat:a.joiningProjTimeFormat?f()(a.joiningProjTimeFormat).format("YYYY-MM-DD"):"",firstCategoryId:a.firstCategoryId,secondCategoryId:a.secondCategoryId,thirdJobId:a.thirdJobId,aliGradeCode:a.aliGradeCode,techDirection:a.techDirection,aliFrameId:a.aliFrameId,careerGroupId:a.careerGroupId,groupDeptId:a.groupDeptId,careerDeptId:a.careerDeptId,deptId:a.deptId,projetDurationType:a.projetDurationType,projetType:a.projetType,iduFlag:a.iduFlag,tlFlag:a.tlFlag,workCity:a.workCity,workAddress:a.workAddress,resourceStatus:a.resourceStatus,backboneFlag:a.backboneFlag,chargeFlag:a.chargeFlag,businessLine:a.businessLine,productLine:a.productLine};r(a),i(o),l(o),localStorage.setItem("statusFlag","")}))},t.handleAllInputChange=function(e,a){"aliNo"===e&&t.setState({aliNoValue:a.target.value}),"joiningProjTimeFormat"===e&&(console.log("value",f()(a).format("YYYY-MM-DD")),t.setState({joiningProjTimeFormatValue:a?f()(a).format("YYYY-MM-DD"):""})),"firstCategoryId"===e&&t.setState({firstCategoryIdValue:a}),"secondCategoryId"===e&&t.setState({secondCategoryIdValue:a}),"thirdJobId"===e&&t.setState({thirdJobIdValue:a}),"aliGradeCode"===e&&t.setState({aliGradeCodeValue:a}),"projectId"===e&&t.setState({projectIdValue:a}),"projetType"===e&&t.setState({projetTypeValue:a}),"projetDurationType"===e&&t.setState({projetDurationTypeValue:a}),"iduFlag"===e&&t.setState({iduFlagValue:a}),"tlFlag"===e&&t.setState({tlFlagValue:a}),"workCity"===e&&t.setState({workCityValue:a}),"workAddress"===e&&t.setState({workAddressValue:a.target.value}),"resourceStatus"===e&&t.setState({resourceStatusValue:a}),"backboneFlag"===e&&t.setState({backboneFlagValue:a}),"chargeFlag"===e&&t.setState({chargeFlagValue:a}),"businessLine"===e&&t.setState({businessLineValue:a.target.value})},t.state={aliFrameIdValue:"",careerGroupIdValue:"",groupDeptIdValue:"",careerDeptIdValue:"",deptIdValue:"",ipsaBuDeptIdValue:"",ipsaDeptIdValue:"",aliNoValue:"",firstCategoryIdValue:"",secondCategoryIdValue:"",thirdJobIdValue:"",aliGradeCodeValue:"",projectIdValue:"",projetTypeValue:"",projetDurationTypeValue:"",iduFlagValue:"",tlFlagValue:"",workCityValue:"",workAddressValue:"",resourceStatusValue:"",backboneFlagValue:"",chargeFlagValue:"",joiningProjTimeFormatValue:"",businessLineValue:""},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.currentPageData&&e.currentPageData.keyword&&this.setState({aliFrameIdValue:"",careerGroupIdValue:"",groupDeptIdValue:"",careerDeptIdValue:"",deptIdValue:"",ipsaBuDeptIdValue:"",ipsaDeptIdValue:"",aliNoValue:"",firstCategoryIdValue:"",secondCategoryIdValue:"",thirdJobIdValue:"",aliGradeCodeValue:"",projectIdValue:"",projetTypeValue:"",projetDurationTypeValue:"",iduFlagValue:"",tlFlagValue:"",workCityValue:"",workAddressValue:"",resourceStatusValue:"",backboneFlagValue:"",chargeFlagValue:"",joiningProjTimeFormatValue:"",businessLineValue:""})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.state,t=a.aliFrameIdValue,n=a.careerGroupIdValue,r=a.groupDeptIdValue,l=a.careerDeptIdValue,i=a.deptIdValue,o=a.ipsaBuDeptIdValue,s=a.ipsaDeptIdValue,c=a.aliNoValue,u=void 0===c?"":c,p=a.joiningProjTimeFormatValue,m=a.firstCategoryIdValue,h=void 0===m?"":m,g=a.secondCategoryIdValue,y=void 0===g?"":g,b=a.thirdJobIdValue,E=void 0===b?"":b,v=a.aliGradeCodeValue,I=void 0===v?"":v,C=a.projectIdValue,w=void 0===C?"":C,j=a.projetTypeValue,k=void 0===j?"":j,D=a.projetDurationTypeValue,S=void 0===D?"":D,O=a.iduFlagValue,T=void 0===O?"":O,x=a.tlFlagValue,L=void 0===x?"":x,N=a.workCityValue,F=void 0===N?"":N,A=a.workAddressValue,P=void 0===A?"":A,R=a.resourceStatusValue,V=void 0===R?"":R,G=a.backboneFlagValue,M=void 0===G?"":G,_=a.chargeFlagValue,B=void 0===_?"":_,Y=a.businessLineValue,q=void 0===Y?"":Y,H=this.props,U=H.buList,W=H.depList,K=H.firstCategoryidList,J=H.secondCategoryidList,z=H.thirdCategoryidList,Q=H.aliGradeCodeList,$=H.workCityList,X=H.newProjectList,Z=H.iframeList,ee=void 0===Z?[]:Z,ae=H.careerGroupList,te=void 0===ae?[]:ae,ne=H.groupdeptList,re=void 0===ne?[]:ne,le=H.careerdepList,ie=void 0===le?[]:le,oe=H.deptIdList,se=void 0===oe?[]:oe,ce=H.handleSaveSearchThis,ue=H.productLineList,de=void 0===ue?[]:ue;return ce(this),d.a.createElement("div",{className:"project-search-from"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:22},d.a.createElement(jn.a,null,d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:15},label:"BU",hasFeedback:!0},e("ipsaBuDeptId",{initialValue:o})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleChangeBuDeptId.bind(this)},U.map((function(e){return d.a.createElement(Nr,{key:e.id,value:e.id},e.name)})))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:6},wrapperCol:{span:16},label:"\u90e8\u95e8",hasFeedback:!0},e("ipsaDeptId",{initialValue:s})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleChangeBuMenDeptId.bind(this)},W.map((function(e){return d.a.createElement(Nr,{key:e.id,value:e.id},e.name)})))))),d.a.createElement(_t.a,{span:4},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:15},label:"\u963f\u91cc\u5de5\u53f7",hasFeedback:!0},e("aliNo",{initialValue:u})(d.a.createElement(Dn.a,{onChange:this.handleAllInputChange.bind(this,"aliNo")})))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:16},label:"\u5165\u9879\u65f6\u95f4",hasFeedback:!0},e("joiningProjTimeFormat",{initialValue:p?f()(p):null})(d.a.createElement(Bn.a,{showToday:!1,placeholder:"\u8bf7\u9009\u62e9\u5165\u9879\u65f6\u95f4",onChange:this.handleAllInputChange.bind(this,"joiningProjTimeFormat")})))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:9},wrapperCol:{span:15},label:"\u4e00\u7c7b\u5c97\u4f4d",hasFeedback:!0},e("firstCategoryId",{initialValue:h})(d.a.createElement(Nn.a,{allowClear:!0,onFocus:this.handleFocusFirstCategoryId.bind(this),onChange:this.handleChangeCategroy.bind(this,"job_class_2")},K&&K.map((function(e){return d.a.createElement(Nr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:15},label:"\u4e8c\u7c7b\u5c97\u4f4d",hasFeedback:!0},e("secondCategoryId",{initialValue:y})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleChangeCategroy.bind(this,"job_class_3")},J&&J.map((function(e){return d.a.createElement(Nr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:6},wrapperCol:{span:16},label:"\u4e09\u7c7b\u5c97\u4f4d",hasFeedback:!0},e("thirdJobId",{initialValue:E})(d.a.createElement(Nn.a,{allowClear:!0},z&&z.map((function(e){return d.a.createElement(Nr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:4},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:15},label:"\u5c42\u7ea7",hasFeedback:!0},e("aliGradeCode",{initialValue:I})(d.a.createElement(Nn.a,{allowClear:!0,onFocus:this.handleFocusaliGradeCode.bind(this),onChange:this.handleAllInputChange.bind(this,"aliGradeCode")},Q&&Q.map((function(e){return d.a.createElement(Nr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:15},label:"\u6846\u67b6",hasFeedback:!0},e("aliFrameId",{initialValue:t})(d.a.createElement(Nn.a,{allowClear:!0,onFocus:this.handleFocusIframe.bind(this),onChange:this.handleChangeIftame.bind(this,"aliFrameId")},Array.isArray(ee)&&ee.map((function(e){return d.a.createElement(Nr,{key:e.id,value:e.id},e.name)})))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:9},wrapperCol:{span:15},label:"\u4e8b\u4e1a\u7fa4",hasFeedback:!0},e("careerGroupId",{initialValue:n})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleChangeIftame.bind(this,"careerGroupId")},Array.isArray(te)&&te.map((function(e){return d.a.createElement(Nr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:15},label:"\u4e8b\u4e1a\u7fa4\u672c\u90e8",hasFeedback:!0},e("groupDeptId",{initialValue:r})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleChangeIftame.bind(this,"groupDeptId")},Array.isArray(re)&&re.map((function(e){return d.a.createElement(Nr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:6},wrapperCol:{span:16},label:"\u4e8b\u4e1a\u90e8",hasFeedback:!0},e("careerDeptId",{initialValue:l})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleChangeIftame.bind(this,"careerDeptId")},Array.isArray(ie)&&ie.map((function(e){return d.a.createElement(Nr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:4},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:14},label:"\u963f\u91cc\u90e8\u95e8",hasFeedback:!0},e("deptId",{initialValue:i})(d.a.createElement(Nn.a,{allowClear:!0},Array.isArray(se)&&se.map((function(e){return d.a.createElement(Nr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:15},label:"\u9879\u76ee\u540d\u79f0",hasFeedback:!0},e("projectId",{initialValue:w})(d.a.createElement(Nn.a,{allowClear:!0,onFocus:this.handleFocusProjectList.bind(this),onChange:this.handleAllInputChange.bind(this,"projectId")},Array.isArray(X)&&X.map((function(e){return d.a.createElement(Nr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:9},wrapperCol:{span:15},label:"\u9879\u76ee\u7c7b\u578b",hasFeedback:!0},e("projetType",{initialValue:k})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleAllInputChange.bind(this,"projetType")},d.a.createElement(Nr,{value:"0"},"FP"),d.a.createElement(Nr,{value:"1"},"TM"))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:15},label:"\u9879\u76ee\u65f6\u957f",hasFeedback:!0},e("projetDurationType",{initialValue:S})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleAllInputChange.bind(this,"projetDurationType")},d.a.createElement(Nr,{value:"0"},"\u77ed\u671f"),d.a.createElement(Nr,{value:"1"},"\u957f\u671f"))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:6},wrapperCol:{span:10},label:"\u662f\u5426IDU",hasFeedback:!0},e("iduFlag",{initialValue:T})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleAllInputChange.bind(this,"iduFlag")},d.a.createElement(Nr,{value:"0"},"\u5426"),d.a.createElement(Nr,{value:"1"},"\u662f"))))),d.a.createElement(_t.a,{span:4},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:14},label:"\u662f\u5426TL",hasFeedback:!0},e("tlFlag",{initialValue:L})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleAllInputChange.bind(this,"tlFlag")},d.a.createElement(Nr,{value:"0"},"\u5426"),d.a.createElement(Nr,{value:"1"},"\u662f"))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:15},label:"\u5de5\u4f5c\u57ce\u5e02",hasFeedback:!0,onFocus:this.handleFocusWorkCity.bind(this)},e("workCity",{initialValue:F})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleAllInputChange.bind(this,"workCity")},$.map((function(e){return d.a.createElement(Nr,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:9},wrapperCol:{span:15},label:"\u529e\u516c\u573a\u5730",hasFeedback:!0},e("workAddress",{initialValue:P})(d.a.createElement(Dn.a,{onChange:this.handleAllInputChange.bind(this,"workAddress")})))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:15},label:"\u8d44\u6e90\u72b6\u6001",hasFeedback:!0},e("resourceStatus",{initialValue:V})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleAllInputChange.bind(this,"resourceStatus")},d.a.createElement(Nr,{value:"0"},"\u95f2\u7f6e"),d.a.createElement(Nr,{value:"1"},"\u5728\u5c97"))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:6},wrapperCol:{span:10},label:"\u662f\u5426\u9aa8\u5e72",hasFeedback:!0},e("backboneFlag",{initialValue:M})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleAllInputChange.bind(this,"backboneFlag")},d.a.createElement(Nr,{value:"0"},"\u5426"),d.a.createElement(Nr,{value:"1"},"\u662f"))))),d.a.createElement(_t.a,{span:4},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:10},label:"\u662f\u5426\u6536\u8d39",hasFeedback:!0},e("chargeFlag",{initialValue:B})(d.a.createElement(Nn.a,{allowClear:!0,onChange:this.handleAllInputChange.bind(this,"chargeFlag")},d.a.createElement(Nr,{value:"0"},"\u5426"),d.a.createElement(Nr,{value:"1"},"\u662f"))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:15},label:"\u4e1a\u52a1\u7ebf\u540d\u79f0",hasFeedback:!0},e("businessLine",{initialValue:q})(d.a.createElement(Dn.a,{onChange:this.handleAllInputChange.bind(this,"businessLine")})))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:9},wrapperCol:{span:15},label:"\u4ea7\u54c1\u7ebf",hasFeedback:!0},e("productLine",{})(d.a.createElement(Nn.a,{allowClear:!0,onFocus:this.handleFocusProductLine.bind(this)},Array.isArray(de)&&de.map((function(e){return d.a.createElement(Nr,{key:e.value,value:e.value},e.label)})))))))),d.a.createElement(_t.a,{span:2,style:{textAlign:"right"}},d.a.createElement(dn.a,{type:"primary",style:{marginTop:"3px",marginRight:"15%"},onClick:this.handleSearchSubmit.bind(this)},"\u67e5\u8be2"))))}}]),a}(u.Component))||G,Ar=jn.a.create()(Fr),Pr=(t(654),Dn.a.Search),Rr=Object(g.b)((function(e){return e.project}),l)(M=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleGetColumns=function(){var e=Object(Mn.a)(t),a=t.state.permission;return Lr(e,a)},t.handleTableChange=function(e){var a=t.props,n=a.queryProjectRecordInfoList,r=a.changeCurrentPageData,l=a.currentPageData,i=localStorage.getItem("statusFlag"),o={currentPage:e,pageSize:10,aliNo:l.aliNo,ipsaBuDeptId:l.ipsaBuDeptId,ipsaDeptId:l.ipsaDeptId,projectId:l.projectId,joiningProjTimeFormat:l.joiningProjTimeFormat,firstCategoryId:l.firstCategoryId,secondCategoryId:l.secondCategoryId,thirdJobId:l.thirdJobId,aliGradeCode:l.aliGradeCode,techDirection:l.techDirection,aliFrameId:l.aliFrameId,careerGroupId:l.careerGroupId,groupDeptId:l.groupDeptId,careerDeptId:l.careerDeptId,deptId:l.deptId,projetDurationType:l.projetDurationType,projetType:l.projetType,iduFlag:l.iduFlag,tlFlag:l.tlFlag,workCity:l.workCity,workAddress:l.workAddress,resourceStatus:l.resourceStatus,backboneFlag:l.backboneFlag,chargeFlag:l.chargeFlag,keyword:l.keyword,statusFlag:i,businessLine:l.businessLine};r(o),n(o)},t.handleDownload=function(){var e=localStorage.getItem("token"),a=t.props.currentPageData,n=localStorage.getItem("statusFlag");j()({method:"get",url:"/api/project/download",headers:{Authorization:"Bearer "+e},params:{aliNo:a.aliNo,ipsaBuDeptId:a.ipsaBuDeptId,ipsaDeptId:a.ipsaDeptId,projectId:a.projectId,joiningProjTimeFormat:a.joiningProjTimeFormat,firstCategoryId:a.firstCategoryId,secondCategoryId:a.secondCategoryId,thirdJobId:a.thirdJobId,aliGradeCode:a.aliGradeCode,techDirection:a.techDirection,aliFrameId:a.aliFrameId,careerGroupId:a.careerGroupId,groupDeptId:a.groupDeptId,careerDeptId:a.careerDeptId,deptId:a.deptId,projetDurationType:a.projetDurationType,projetType:a.projetType,iduFlag:a.iduFlag,tlFlag:a.tlFlag,workCity:a.workCity,workAddress:a.workAddress,resourceStatus:a.resourceStatus,backboneFlag:a.backboneFlag,chargeFlag:a.chargeFlag,keyword:a.keyword,statusFlag:n,businessLine:a.businessLine},responseType:"blob"}).then((function(e){if(200===e.status){var a=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),t=window.URL.createObjectURL(a),n=document.createElement("a");n.style.display="none",n.href=t,n.setAttribute("download","excel.xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(t),C.a.success("\u5bfc\u51fa\u6210\u529f")}else C.a.error("\u5bfc\u51fa\u5931\u8d25")})).catch((function(e){C.a.error("\u5bfc\u51fa\u5931\u8d25")}))},t.handleChangeFile=function(e){var a=e.file,n=(e.fileList,t.props.queryProjectRecordInfoList);a&&"done"===a.status&&a.response.success?(C.a.success(a.response.message+"\uff0c\u5171\u5bfc\u5165"+a.response.data+"\u6761\u6570\u636e"),n({currentPage:1,pageSize:20})):(a&&"done"===a.status&&!a.response.success&&C.a.error("\u5bfc\u5165\u5931\u8d25:"+a.response.message),a&&"error"===a.status&&(401===a.error.status?C.a.error("\u5bfc\u5165\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"):C.a.error("\u5bfc\u5165\u5931\u8d25:"+a.response.message)))},t.handleBeforeUpload=function(e,a){e&&"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==e.type&&C.a.error("\u8bf7\u4e0a\u4f20\u4ee5.xlsx\u4e3a\u540e\u7f00\u7684Excel\u6587\u4ef6")},t.handleSearchInput=function(e){var a=t.props,n=a.queryProjectRecordInfoList,r=a.changeCurrentPageData,l=a.thats,i={currentPage:1,pageSize:10,aliNo:"",ipsaBuDeptId:"",ipsaDeptId:"",projectId:"",joiningProjTimeFormat:"",firstCategoryId:"",secondCategoryId:"",thirdJobId:"",aliGradeCode:"",techDirection:"",aliFrameId:"",careerGroupId:"",groupDeptId:"",careerDeptId:"",deptId:"",projetDurationType:"",projetType:"",iduFlag:"",tlFlag:"",workCity:"",workAddress:"",resourceStatus:"",backboneFlag:"",chargeFlag:"",keyword:e};r(i),n(i),localStorage.setItem("statusFlag",""),l.props.form.resetFields()},t.handleChangeSearchInput=function(e){(0,t.props.changeCurrentPageData)({currentPage:1,pageSize:10,aliNo:"",ipsaBuDeptId:"",ipsaDeptId:"",projectId:"",joiningProjTimeFormat:"",firstCategoryId:"",secondCategoryId:"",thirdJobId:"",aliGradeCode:"",techDirection:"",aliFrameId:"",careerGroupId:"",groupDeptId:"",careerDeptId:"",deptId:"",projetDurationType:"",projetType:"",iduFlag:"",tlFlag:"",workCity:"",workAddress:"",resourceStatus:"",backboneFlag:"",chargeFlag:"",keyword:e.target.value,businessLine:"",productLine:""})},t.state={permission:""},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.get("/api/user/queryUserPermission.json").then((function(a){if(a&&a.success){var t=a.data[0].permission;e.setState({permission:t})}}));var a=this.props,t=a.deptInfoBu,n=a.queryProjectRecordInfoList,r=localStorage.getItem("statusFlag");t(),n({currentPage:1,pageSize:10,statusFlag:r})}},{key:"componentWillUnmount",value:function(){var e=this.props,a=e.changeCurrentPageData,t=e.changeProjectDataList;a({currentPage:1,pageSize:10,aliNo:"",ipsaBuDeptId:"",ipsaDeptId:"",projectId:"",joiningProjTimeFormat:"",firstCategoryId:"",secondCategoryId:"",thirdJobId:"",aliGradeCode:"",techDirection:"",aliFrameId:"",careerGroupId:"",groupDeptId:"",careerDeptId:"",deptId:"",projetDurationType:"",projetType:"",iduFlag:"",tlFlag:"",workCity:"",workAddress:"",resourceStatus:"",backboneFlag:"",chargeFlag:"",keyword:"",businessLine:"",productLine:""}),t({data:[],total:1}),localStorage.setItem("statusFlag","")}},{key:"render",value:function(){var e=this,a=this.props,t=a.projectDataList,n=a.total,r=a.currentPageData,l=(a.saveSearchData,this.state.permission),i=localStorage.getItem("token");return d.a.createElement("div",{className:"project-information"},d.a.createElement(Gt.a,{style:{padding:"20px"}},d.a.createElement(_t.a,{span:24},d.a.createElement(Gt.a,{className:"project-operator-set"},d.a.createElement(_t.a,{span:8},d.a.createElement(Pr,{style:{width:"50%",marginLeft:"20px"},placeholder:"\u8f93\u5165\u59d3\u540d\u6216\u8f6f\u901a\u5de5\u53f7",onSearch:function(a){return e.handleSearchInput(a)},onChange:function(a){return e.handleChangeSearchInput(a)},value:r.keyword,enterButton:!0})),d.a.createElement(_t.a,{span:16,style:{textAlign:"right"}},d.a.createElement("div",{style:{width:"64px",display:"inline-block",marginRight:"7%"}},d.a.createElement(Gn.a,{disabled:!(l&&"projectManage"===l||"admin"===l||"hr"===l),accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",action:"/api/project/import/projectRecordInfo.json",method:"post",headers:{Authorization:"Bearer "+i},showUploadList:!1,onChange:this.handleChangeFile.bind(this),beforeUpload:this.handleBeforeUpload.bind(this)},d.a.createElement(rn.a,{title:"\u652f\u6301\u5bfc\u5165.xlsx\u6587\u4ef6"},d.a.createElement(dn.a,{disabled:!(l&&"projectManage"===l||"admin"===l||"hr"===l),type:"primary"},"\u5bfc\u5165")))),d.a.createElement("div",{style:{width:"64px",display:"inline-block",marginRight:"2%"}},d.a.createElement(dn.a,{disabled:!(l&&"projectManage"===l||"admin"===l||"hr"===l),type:"primary",onClick:this.handleDownload.bind(this)},"\u5bfc\u51fa"))))),d.a.createElement(_t.a,{style:{marginTop:"5px"},span:24},d.a.createElement(Ar,null)),d.a.createElement(_t.a,{className:"project-content-table",span:24},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:this.handleGetColumns(),dataSource:t,scroll:{x:"100%"},pagination:!1})),d.a.createElement(_t.a,{className:"project-paging",span:24},d.a.createElement($t.a,{total:n,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")},current:r.currentPage,onChange:function(a){e.handleTableChange(a)}}))),d.a.createElement(Sr,null),d.a.createElement(xr,null))}}]),a}(u.Component))||M,Vr=Dn.a.Search,Gr=Nn.a.Option,Mr=[{key:"1",empName:"John Brown",ipsaBuDeptId:32,ipsaDeptId:"New York No. 1 Lake Park",empNo:111}],_r=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).columns=[{title:"\u59d3\u540d",dataIndex:"empName",width:"150px"},{title:"BU",dataIndex:"ipsaBuDeptId",width:"150px"},{title:"\u90e8\u95e8",dataIndex:"ipsaDeptId",width:"150px"},{title:"\u8f6f\u901a\u5de5\u53f7",dataIndex:"empNo",width:"150px"},{title:"\u8c03\u6574\u540e\u4e00\u7c7b\u5c97\u4f4d",dataIndex:"w",width:"150px"},{title:"\u8c03\u6574\u540e\u4e8c\u7c7b\u5c97\u4f4d",dataIndex:"e",width:"150px"},{title:"\u8c03\u6574\u540e\u4e09\u7c7b\u5c97\u4f4d",dataIndex:"r",width:"150px"},{title:"\u8c03\u5c97\u751f\u6548\u65f6\u95f4",dataIndex:"t",width:"150px"},{title:"\u8c03\u6574\u540e\u5c42\u7ea7",dataIndex:"y",width:"150px"},{title:"\u8c03\u7ea7\u751f\u6548\u65f6\u95f4",dataIndex:"u",width:"150px"},{title:"\u8c03\u6574\u540e\u804c\u4f4d",dataIndex:"i",width:"150px"},{title:"\u8c03\u6574\u540e\u804c\u7ea7",dataIndex:"o",width:"150px"},{title:"\u8c03\u804c\u8c03\u7ea7\u751f\u6548\u65f6\u95f4",dataIndex:"p",width:"150px"},{title:"\u8c03\u6574\u540e\u90e8\u95e8",dataIndex:"a",width:"150px"},{title:"\u90e8\u95e8\u8c03\u6574\u751f\u6548\u65f6\u95f4",dataIndex:"s",width:"150px"},{title:"\u64cd\u4f5c",dataIndex:"action",width:"150px",render:function(e,a){return d.a.createElement(dn.a,null,"\u7f16\u8f91")}}],t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.columns,a=this.props.basicList,t=this.props.form.getFieldDecorator;return console.log("basicList",a),d.a.createElement("div",null,d.a.createElement(Gt.a,{style:{padding:"30px"}},d.a.createElement(_t.a,{span:24},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:12},d.a.createElement(Vr,{style:{width:"50%"},placeholder:"\u8f93\u5165\u59d3\u540d\u6216\u8f6f\u901a\u5de5\u53f7",onSearch:function(e){return console.log(e)},enterButton:!0})),d.a.createElement(_t.a,{span:12,style:{textAlign:"right"}},d.a.createElement(dn.a,{style:{marginRight:"40px"},type:"primary"},"\u5bfc\u5165"),d.a.createElement(dn.a,{style:{marginRight:"30px"},type:"primary"},"\u5bfc\u51fa")))),d.a.createElement(_t.a,{style:{marginTop:"30px"},span:24},d.a.createElement(Gt.a,null,d.a.createElement(jn.a,{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:12}}},d.a.createElement(_t.a,{span:6},d.a.createElement(jn.a.Item,{label:"BU",hasFeedback:!0},t("confirm")(d.a.createElement(Nn.a,null,d.a.createElement(Gr,{value:"jack"},"Jack"),d.a.createElement(Gr,{value:"lucy"},"Lucy"),d.a.createElement(Gr,{value:"tom"},"Tom"))))),d.a.createElement(_t.a,{span:6},d.a.createElement(jn.a.Item,{label:"\u90e8\u95e8",hasFeedback:!0},t("bumen")(d.a.createElement(Nn.a,null,d.a.createElement(Gr,{value:"jack"},"Jack"),d.a.createElement(Gr,{value:"lucy"},"Lucy"),d.a.createElement(Gr,{value:"tom"},"Tom"))))),d.a.createElement(_t.a,{span:8},d.a.createElement(jn.a.Item,{label:"\u751f\u6548\u65f6\u95f4",hasFeedback:!0},t("sex")(d.a.createElement(Nn.a,null,d.a.createElement(Gr,{value:"jack"},"Jack"),d.a.createElement(Gr,{value:"lucy"},"Lucy"),d.a.createElement(Gr,{value:"tom"},"Tom"))))),d.a.createElement(_t.a,{span:4,style:{textAlign:"right"}},d.a.createElement(dn.a,{type:"primary",style:{marginTop:"3px",marginLeft:"5%",marginRight:"30px"}},"\u67e5\u8be2"))))),d.a.createElement(_t.a,{span:24},d.a.createElement(Ut.a,{columns:e,dataSource:Mr,scroll:{x:"100%"}}))))}}]),a}(u.Component),Br=(jn.a.create()(_r),Nn.a.Option),Yr=(Bn.a.WeekPicker,Bn.a.RangePicker),qr=Object(g.b)((function(e){return e.leave}),c)(_=function(e){function a(){var e,t;Object(xt.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(Nt.a)(this,(e=Object(Ft.a)(a)).call.apply(e,[this].concat(r)))).handleGetBu=function(){(0,t.props.deptInfoBu)()},t.handleChangeBuDeptId=function(e){var a=t.props.deptInfo;e&&a(e),t.props.form.setFieldsValue({ipsaDeptId:""})},t.handleGetSelectOption=function(e){e&&(0,t.props.dictInfo)(e)},t.handleChangeHrOneMonthClass=function(e,a){if(a&&e){var n={name:e,pid:a.key};(0,t.props.dictInfoSon)(n)}"hr_leave_type"===e&&t.props.form.setFieldsValue({hrOneMonthType:""}),"business_leave_type"===e&&t.props.form.setFieldsValue({busOnlineFeedbackId:""})},t.handleFocusLeaveProj=function(){(0,t.props.dictInfo)("leave_proj_reason")},t.handleClickSearch=function(){t.props.form.validateFields((function(e,a){var n=t.props,r=n.queryEmployeeLeaveInfoList,l=n.changeCurrentPageData,i=a.leaveProjTimeFormat&&a.leaveProjTimeFormat.length?f()(a.leaveProjTimeFormat[0]).format("YYYY-MM-DD"):"",o=a.leaveProjTimeFormat&&a.leaveProjTimeFormat.length?f()(a.leaveProjTimeFormat[1]).format("YYYY-MM-DD"):"",s=a.effectiveStartTimeFormat&&a.effectiveStartTimeFormat.length?f()(a.effectiveStartTimeFormat[0]).format("YYYY-MM-DD"):"",c=a.effectiveStartTimeFormat&&a.effectiveStartTimeFormat.length?f()(a.effectiveStartTimeFormat[1]).format("YYYY-MM-DD"):"",u=Object(E.a)({},a,{effectiveStartTimeFormat:s,effectiveEndTimeFormat:c,leaveProjStartTimeFormat:i,leaveProjEndTimeFormat:o,currentPage:1,pageSize:10,keyword:""});l(u),localStorage.setItem("leavemonth",""),r(u)}))},t.handleChangeLeaveProjectPicker=function(e){e&&!e.length&&t.props.form.setFieldsValue({leaveProjTimeFormat:void 0})},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.props,t=a.buList,n=void 0===t?[]:t,r=a.depList,l=void 0===r?[]:r,i=a.busonlineTypeList,o=void 0===i?[]:i,s=a.businessLeaveTypeList,c=void 0===s?[]:s,u=a.hrOneTypeList,p=void 0===u?[]:u,m=a.hrOneClassList,h=void 0===m?[]:m,f=a.leaveProjList,g=void 0===f?[]:f,y=a.ipsaLeaveReasonList,b=void 0===y?[]:y;return(0,a.handleSaveSearchThis)(this),d.a.createElement("div",null,d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:22},d.a.createElement(jn.a,null,d.a.createElement(_t.a,{span:6},d.a.createElement(jn.a.Item,{labelCol:{span:7},wrapperCol:{span:15},label:"BU",hasFeedback:!0,validateStatus:""},e("ipsaBuDeptId",{})(d.a.createElement(Nn.a,{onFocus:this.handleGetBu.bind(this),onChange:this.handleChangeBuDeptId.bind(this),allowClear:!0},n.map((function(e){return d.a.createElement(Br,{key:e.id,value:e.id},e.name)})))))),d.a.createElement(_t.a,{span:7},d.a.createElement(jn.a.Item,{label:"\u963f\u91cc\u79bb\u9879\u65f6\u95f4",labelCol:{span:8},wrapperCol:{span:15},hasFeedback:!0,validateStatus:""},e("leaveProjTimeFormat",{})(d.a.createElement(Yr,{onChange:this.handleChangeLeaveProjectPicker,placeholder:["\u8d77\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"]})))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{label:"\u963f\u91cc\u79bb\u9879\u539f\u56e0",labelCol:{span:11},wrapperCol:{span:11},hasFeedback:!0,validateStatus:""},e("leaveProjReasonId")(d.a.createElement(Nn.a,{allowClear:!0,onFocus:this.handleFocusLeaveProj.bind(this)},g.map((function(e){return d.a.createElement(Br,{title:e.label,key:e.value,value:e.value},e.label)})))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{label:"\u4e1a\u52a1\u7ebf\u53cd\u9988\u79bb\u804c\u5206\u7c7b",labelCol:{span:13},wrapperCol:{span:11},hasFeedback:!0,validateStatus:""},e("busOnlineFeedbackType")(d.a.createElement(Nn.a,{onFocus:this.handleGetSelectOption.bind(this,"business_leave_category"),onChange:this.handleChangeHrOneMonthClass.bind(this,"business_leave_type"),allowClear:!0},o.map((function(e){return d.a.createElement(Br,{title:e.label,key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:6},d.a.createElement(jn.a.Item,{label:"\u90e8\u95e8",labelCol:{span:7},wrapperCol:{span:15},hasFeedback:!0,validateStatus:""},e("ipsaDeptId")(d.a.createElement(Nn.a,{allowClear:!0},l.map((function(e){return d.a.createElement(Br,{key:e.id,value:e.id},e.name)})))))),d.a.createElement(_t.a,{span:7},d.a.createElement(jn.a.Item,{label:"\u79bb\u804c\u751f\u6548\u65e5\u671f",labelCol:{span:8},wrapperCol:{span:15},hasFeedback:!0,validateStatus:""},e("effectiveStartTimeFormat")(d.a.createElement(Yr,{placeholder:["\u8d77\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"]})))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{label:"\u79bb\u804c\u65f6\u72b6\u6001",labelCol:{span:11},wrapperCol:{span:11},hasFeedback:!0,validateStatus:""},e("leaveOfficeStatus")(d.a.createElement(Nn.a,{allowClear:!0},Jn.map((function(e){return d.a.createElement(Br,{key:e.id},e.name)})))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{label:"\u4e1a\u52a1\u7ebf\u53cd\u9988\u79bb\u804c\u7c7b\u578b",labelCol:{span:13},wrapperCol:{span:11},hasFeedback:!0,validateStatus:""},e("busOnlineFeedbackId")(d.a.createElement(Nn.a,{allowClear:!0},c&&c.map((function(e){return d.a.createElement(Br,{title:e.label,key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:6},d.a.createElement(jn.a.Item,{label:"HR\u4e00\u4e2a\u6708\u540e\u79bb\u804c\u5206\u7c7b",labelCol:{span:11},wrapperCol:{span:11},hasFeedback:!0,validateStatus:""},e("hrOneMonthClass")(d.a.createElement(Nn.a,{onFocus:this.handleGetSelectOption.bind(this,"hr_leave_category"),onChange:this.handleChangeHrOneMonthClass.bind(this,"hr_leave_type"),allowClear:!0},h.map((function(e){return d.a.createElement(Br,{title:e.label,key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:7},d.a.createElement(jn.a.Item,{label:"HR\u4e00\u4e2a\u6708\u540e\u79bb\u804c\u7c7b\u578b",labelCol:{span:10},wrapperCol:{span:13},hasFeedback:!0,validateStatus:""},e("hrOneMonthType")(d.a.createElement(Nn.a,{allowClear:!0},p&&p.map((function(e){return d.a.createElement(Br,{title:e.label,key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:7},d.a.createElement(jn.a.Item,{label:"IPSA\u79bb\u804c\u539f\u56e0",labelCol:{span:8},wrapperCol:{span:8},hasFeedback:!0,validateStatus:""},e("leaveReasonId")(d.a.createElement(Nn.a,{allowClear:!0,onFocus:this.handleGetSelectOption.bind(this,"ipsa_leave_reason")},b.map((function(e){return d.a.createElement(Br,{title:e.label,key:e.id,value:e.id},e.label)})))))))),d.a.createElement(_t.a,{span:2,style:{textAlign:"right"}},d.a.createElement(dn.a,{type:"primary",style:{marginTop:"3px",marginRight:"15%"},onClick:this.handleClickSearch.bind(this)},"\u67e5\u8be2"))))}}]),a}(u.Component))||_,Hr=jn.a.create()(qr),Ur=(t(655),Nn.a.Option),Wr=Dn.a.TextArea;var Kr,Jr,zr,Qr,$r,Xr,Zr,el,al,tl,nl,rl,ll,il,ol,sl,cl,ul,dl=Object(g.b)((function(e){return e.leave}),c)(B=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleCancel=function(){(0,t.props.changeLeaveVisible)({leaveVisible:!1,record:{}})},t.handleSearch=function(e){e?function(e,a){Y&&(clearTimeout(Y),Y=null),q=e,Y=setTimeout((function(){H.get("/api/base/searchEmployeeBaseAndProjectInfo.json",{params:{keyword:q}}).then((function(e){if(e&&e.success){var t=e.data,n=(e.total,[]);t.forEach((function(e){n.push({value:e.empNo,label:e.empName,leaveProjTime:e.leaveProjTime,leaveProjReasonName:e.leaveProjReasonName,leaveProjType:e.leaveProjType})})),a(n)}}))}),300)}(e,(function(e){return t.setState({optionData:e})})):t.setState({optionData:[]})},t.handleChange=function(e){var a="",n=t.state.optionData.filter((function(a){return a.value===e})),r=n.length?n[0].label:"";r&&(a=r),a=e,t.setState({searchNameValue:a})},t.handleGetSelectOption=function(e){(0,t.props.dictInfo)(e)},t.handleChangeHrOneMonthClass=function(e,a){var n={name:e,pid:a.key};(0,t.props.dictInfoSon)(n),"hr_leave_type"===e&&t.props.form.setFieldsValue({hrOneMonthType:""}),"business_leave_type"===e&&t.props.form.setFieldsValue({busOnlineFeedbackId:""})},t.handleSelictNameValue=function(e){var a=t.state.optionData;t.setState({empNoFlag:e}),t.props.form.setFieldsValue({leaveProjTimeFormat:a.length?f()(a[0].leaveProjTime).format("YYYY-MM-DD"):"",leaveProjReasonName:a.length?a[0].leaveProjReasonName:"",leaveProjType:a.length?a[0].leaveProjType:""})},t.handleOk=function(){t.props.form.validateFields((function(e,a){var n=t.state.empNoFlag,r=t.props,l=r.updateEmployeeLeaveInfoById,i=r.saveEmployeeLeaveInfo,o=r.record.id;if(o||n){if(!e){var s=Object(E.a)({},a,{leaveOfficeApplyTimeFormat:f()(a.leaveOfficeApplyTimeFormat).format("YYYY-MM-DD"),effectiveTimeFormat:f()(a.effectiveTimeFormat).format("YYYY-MM-DD"),busOnlineFeedbackType:a.busOnlineFeedbackType?a.busOnlineFeedbackType.key:"",busOnlineFeedbackId:a.busOnlineFeedbackId?a.busOnlineFeedbackId.key:"",hrOneMonthClass:a.hrOneMonthClass?a.hrOneMonthClass.key:"",hrOneMonthType:a.hrOneMonthType?a.hrOneMonthType.key:""});o&&(s.id=o,l(s)),o||(s.empNo=n,i(s),localStorage.setItem("leavemonth",""))}}else C.a.error("\u5fc5\u987b\u9009\u62e9\u589e\u52a0\u4eba\u5458\u59d3\u540d")}))},t.handleAfterClose=function(){t.setState({searchNameValue:"",optionData:[],empNoFlag:""}),t.props.form.resetFields()},t.state={optionData:[],leaveOptionData:[],searchNameValue:void 0,empNoFlag:""},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.props,t=a.leaveVisible,n=a.hrOneClassList,r=void 0===n?[]:n,l=a.hrOneTypeList,i=void 0===l?[]:l,o=a.busonlineTypeList,s=void 0===o?[]:o,c=a.businessLeaveTypeList,u=void 0===c?[]:c,p=a.ipsaLeaveReasonList,m=void 0===p?[]:p,h=a.record,g=a.permission,y=h.busOnlineFeedbackType,b=h.busOnlineFeedbackId,E=h.hrOneMonthClass,v=h.hrOneMonthType,I=h.busOnlineFeedback,C=h.leaveOfficeApplyTime,w=h.effectiveTime,j=h.leaveReasonId,k=h.hrCommunicateReason,D=h.leaveOfficeStatus,S=h.leaveProjType,O=this.state,T=O.searchNameValue,x=O.optionData.map((function(e){return d.a.createElement(Ur,{key:e.value},e.label)}));return d.a.createElement("div",null,d.a.createElement(qn.a,{title:h.id?"\u7f16\u8f91\u79bb\u804c\u4fe1\u606f":"\u65b0\u589e\u79bb\u804c\u4fe1\u606f",visible:t,width:"75%",onOk:this.handleOk,onCancel:this.handleCancel,afterClose:this.handleAfterClose,okText:"\u63d0\u4ea4",cancelText:"\u53d6\u6d88",wrapClassName:"edit-leave-modal"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:24},d.a.createElement(jn.a,{labelAlign:"left"},!h.id&&d.a.createElement("div",null,d.a.createElement(_t.a,{span:5,className:"edit-leave-title-father"},d.a.createElement("span",{className:"edit-leave-title"},"\u67e5\u627e\u59d3\u540d")),d.a.createElement(_t.a,{span:24},d.a.createElement(Nn.a,{style:{width:"20%"},showSearch:!0,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,value:T,onSearch:this.handleSearch,onChange:this.handleChange,notFoundContent:null,onSelect:this.handleSelictNameValue.bind(this)},x))),d.a.createElement(_t.a,{style:{marginTop:"20px"},className:"edit-leave-title-father",span:24},d.a.createElement("span",{className:"edit-leave-title"},"\u963f\u91cc\u79bb\u9879\u539f\u56e0")),d.a.createElement(_t.a,{span:8},d.a.createElement(jn.a.Item,{labelCol:{span:10},wrapperCol:{span:15},label:"\u963f\u91cc\u79bb\u9879\u65f6\u95f4",hasFeedback:!0},e("leaveProjTimeFormat",{initialValue:h.leaveProjTime?f()(h.leaveProjTime).format("YYYY-MM-DD"):null})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:8},d.a.createElement(jn.a.Item,{labelCol:{span:10},wrapperCol:{span:15},label:"\u963f\u91cc\u79bb\u9879\u539f\u56e0",hasFeedback:!0},e("leaveProjReasonName",{initialValue:h.leaveProjReasonName?h.leaveProjReasonName:""})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:8},d.a.createElement(jn.a.Item,{labelCol:{span:10},wrapperCol:{span:15},label:"\u963f\u91cc\u79bb\u9879\u7c7b\u578b",hasFeedback:!0},e("leaveProjType",{initialValue:S||0===S?S:""})(d.a.createElement(Nn.a,{allowClear:!0,disabled:!0},d.a.createElement(Ur,{value:0},"\u88ab\u52a8"),d.a.createElement(Ur,{value:1},"\u4e3b\u52a8"))))),d.a.createElement(_t.a,{span:24,className:"edit-leave-title-father"},d.a.createElement("span",{className:"edit-leave-title"},"\u4e1a\u52a1\u7ebf\u53cd\u9988\u79bb\u804c\u539f\u56e0")),d.a.createElement(_t.a,{span:8},d.a.createElement(jn.a.Item,{labelCol:{span:12},wrapperCol:{span:15},label:"\u4e1a\u52a1\u7ebf\u53cd\u9988\u79bb\u804c\u539f\u56e0",hasFeedback:!0},e("busOnlineFeedback",{initialValue:I||"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Wr,{disabled:"projectManage"!==g&&"hr"!==g&&"admin"!==g})))),d.a.createElement(_t.a,{span:8},d.a.createElement(jn.a.Item,{labelCol:{span:12},wrapperCol:{span:15},label:"\u4e1a\u52a1\u7ebf\u53cd\u9988\u79bb\u804c\u5206\u7c7b",hasFeedback:!0},e("busOnlineFeedbackType",{initialValue:y||"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{disabled:"projectManage"!==g&&"hr"!==g&&"admin"!==g,labelInValue:!0,onFocus:this.handleGetSelectOption.bind(this,"business_leave_category"),onChange:this.handleChangeHrOneMonthClass.bind(this,"business_leave_type")},s.map((function(e){return d.a.createElement(Ur,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:8},d.a.createElement(jn.a.Item,{labelCol:{span:12},wrapperCol:{span:15},label:"\u4e1a\u52a1\u7ebf\u53cd\u9988\u79bb\u804c\u7c7b\u578b",hasFeedback:!0},e("busOnlineFeedbackId",{initialValue:b||"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{disabled:"projectManage"!==g&&"hr"!==g&&"admin"!==g,labelInValue:!0},u&&u.map((function(e){return d.a.createElement(Ur,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{className:"edit-leave-title-father",span:24},d.a.createElement("span",{className:"edit-leave-title"},"\u79bb\u804c\u4fe1\u606f")),d.a.createElement(_t.a,{span:8},d.a.createElement(jn.a.Item,{labelCol:{span:8},wrapperCol:{span:19},label:"\u79bb\u804c\u63d0\u51fa\u65f6\u95f4",hasFeedback:!0},e("leaveOfficeApplyTimeFormat",{initialValue:C?f()(C):null,rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Bn.a,{showToday:!1,placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4"})))),d.a.createElement(_t.a,{span:8},d.a.createElement(jn.a.Item,{labelCol:{span:8},wrapperCol:{span:19},label:"\u79bb\u804c\u751f\u6548\u65f6\u95f4",hasFeedback:!0},e("effectiveTimeFormat",{initialValue:w?f()(w):null,rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Bn.a,{showToday:!1,placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4"})))),d.a.createElement(_t.a,{span:8},d.a.createElement(jn.a.Item,{labelCol:{span:9},wrapperCol:{span:16},label:"\u79bb\u804c\u65f6\u72b6\u6001",hasFeedback:!0},e("leaveOfficeStatus",{initialValue:D||0===D?D:"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,null,Jn.map((function(e){return d.a.createElement(Ur,{key:e.id,value:e.id},e.name)})))))),d.a.createElement(_t.a,{span:8},d.a.createElement(jn.a.Item,{labelCol:{span:9},wrapperCol:{span:16},label:"IPSA\u79bb\u804c\u539f\u56e0",hasFeedback:!0},e("leaveReasonId",{initialValue:j||"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{onFocus:this.handleGetSelectOption.bind(this,"ipsa_leave_reason")},m.map((function(e){return d.a.createElement(Ur,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:8},d.a.createElement(jn.a.Item,{labelCol:{span:13},wrapperCol:{span:16},label:"HR\u4e00\u4e2a\u6708\u540e\u79bb\u804c\u5206\u7c7b",hasFeedback:!0},e("hrOneMonthClass",{initialValue:E||"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{onFocus:this.handleGetSelectOption.bind(this,"hr_leave_category"),onChange:this.handleChangeHrOneMonthClass.bind(this,"hr_leave_type"),labelInValue:!0},r.map((function(e){return d.a.createElement(Ur,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:8},d.a.createElement(jn.a.Item,{labelCol:{span:13},wrapperCol:{span:16},label:"HR\u4e00\u4e2a\u6708\u540e\u79bb\u804c\u7c7b\u578b",hasFeedback:!0},e("hrOneMonthType",{initialValue:v||"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{labelInValue:!0},i&&i.map((function(e){return d.a.createElement(Ur,{key:e.id,value:e.id},e.label)})))))),d.a.createElement(_t.a,{span:8},d.a.createElement(jn.a.Item,{labelCol:{span:15},wrapperCol:{span:16},label:"HR\u4e00\u4e2a\u6708\u540e\u6c9f\u901a\u79bb\u804c\u539f\u56e0",hasFeedback:!0},e("hrCommunicateReason",{initialValue:k||"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Wr,null)))))))))}}]),a}(u.Component))||B,pl=jn.a.create()(dl),ml=function(e,a){return[{title:"BU",dataIndex:"ipsaBuDeptName",width:"150px"},{title:"\u90e8\u95e8",dataIndex:"ipsaDeptName",width:"150px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u59d3\u540d",dataIndex:"empName",width:"150px"},{title:"\u8f6f\u901a\u5de5\u53f7",dataIndex:"empNo",width:"150px"},{title:"\u963f\u91cc\u79bb\u9879\u65f6\u95f4",dataIndex:"leaveProjTime",width:"150px",render:function(e,a){return d.a.createElement("span",null,e?f()(e).format("YYYY-MM-DD"):"")}},{title:"\u963f\u91cc\u79bb\u9879\u539f\u56e0",dataIndex:"leaveProjReasonName",width:"150px"},{title:"\u963f\u91cc\u79bb\u9879\u7c7b\u578b",dataIndex:"leaveProjType",width:"150px",render:function(e,a){switch(e){case 0:return d.a.createElement("span",null,"\u88ab\u52a8");case 1:return d.a.createElement("span",null,"\u4e3b\u52a8")}}},{title:"\u4e1a\u52a1\u7ebf\u53cd\u9988\u79bb\u804c\u539f\u56e0",dataIndex:"busOnlineFeedback",width:"180px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u4e1a\u52a1\u7ebf\u53cd\u9988\u79bb\u804c\u5206\u7c7b",dataIndex:"busOnlineFeedbackTypeName",width:"180px"},{title:"\u4e1a\u52a1\u7ebf\u53cd\u9988\u79bb\u804c\u7c7b\u578b",dataIndex:"busOnlineFeedbackName",width:"180px"},{title:"\u79bb\u804c\u63d0\u51fa\u65f6\u95f4",dataIndex:"leaveOfficeApplyTime",width:"150px",render:function(e,a){return d.a.createElement("span",null,f()(e).format("YYYY-MM-DD"))}},{title:"\u79bb\u804c\u751f\u6548\u65e5",dataIndex:"effectiveTime",width:"150px",render:function(e,a){return d.a.createElement("span",null,f()(e).format("YYYY-MM-DD"))}},{title:"\u79bb\u804c\u65f6\u72b6\u6001",dataIndex:"leaveOfficeStatusName",width:"150px"},{title:"IPSA\u79bb\u804c\u539f\u56e0",dataIndex:"leaveReasonName",width:"150px"},{title:"HR\u4e00\u4e2a\u6708\u540e\u79bb\u804c\u5206\u7c7b",dataIndex:"hrOneMonthClassName",width:"150px"},{title:"HR\u4e00\u4e2a\u6708\u540e\u79bb\u804c\u7c7b\u578b",dataIndex:"hrOneMonthTypeName",width:"150px"},{title:"HR\u4e00\u4e2a\u6708\u540e\u6c9f\u901a\u79bb\u804c\u539f\u56e0",dataIndex:"hrCommunicateReason",width:"200px",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u64cd\u4f5c",dataIndex:"action",width:"150px",fixed:"right",render:function(a,t){return d.a.createElement(dn.a,{onClick:function(){var a=e.props,n=a.changeLeaveVisible,r=a.dictInfoSon,l=a.dictInfo,i=JSON.parse(JSON.stringify(t));(i.busOnlineFeedbackType={value:i.busOnlineFeedbackType,label:i.busOnlineFeedbackTypeName},i.busOnlineFeedbackId={value:i.busOnlineFeedbackId,label:i.busOnlineFeedbackName},i.hrOneMonthClass={value:i.hrOneMonthClass,label:i.hrOneMonthClassName},i.hrOneMonthType={value:i.hrOneMonthType,label:i.hrOneMonthTypeName},i.id&&i.busOnlineFeedbackType.value)&&r({name:"business_leave_type",pid:i.busOnlineFeedbackType.value});i.id&&i.hrOneMonthClass.value&&r({name:"hr_leave_type",pid:i.hrOneMonthClass.value});i.leaveReasonId&&l("ipsa_leave_reason"),n({leaveVisible:!0,newRecord:i})}},"\u7f16\u8f91")}}]},hl=(t(656),Dn.a.Search),fl=(Nn.a.Option,Object(g.b)((function(e){return e.leave}),c)(Kr=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).getQueryEmployeeLeaveInfoList=function(e){(0,t.props.queryEmployeeLeaveInfoList)(e)},t.handleBeforeUpload=function(e,a){e&&"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==e.type&&C.a.error("\u8bf7\u4e0a\u4f20\u4ee5.xlsx\u4e3a\u540e\u7f00\u7684Excel\u6587\u4ef6")},t.handleChangeFile=function(e){var a=e.file;e.fileList;if(a&&"done"===a.status&&a.response.success){C.a.success(a.response.message+"\uff0c\u5171\u5bfc\u5165"+a.response.data+"\u6761\u6570\u636e");t.getQueryEmployeeLeaveInfoList({currentPage:1,pageSize:10})}else a&&"done"===a.status&&!a.response.success&&C.a.error("\u5bfc\u5165\u5931\u8d25:"+a.response.message),a&&"error"===a.status&&(401===a.error.status?C.a.error("\u5bfc\u5165\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"):C.a.error("\u5bfc\u5165\u5931\u8d25:"+a.response.message))},t.handleDownload=function(){var e=localStorage.getItem("token"),a=localStorage.getItem("leavemonth"),n=t.props.currentPageData;j()({method:"get",url:"/api/leave/download",headers:{Authorization:"Bearer "+e},params:Object(E.a)({},n,{employeeStatus:a}),responseType:"blob"}).then((function(e){if(200===e.status){var a=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),t=window.URL.createObjectURL(a),n=document.createElement("a");n.style.display="none",n.href=t,n.setAttribute("download","excel.xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(t),C.a.success("\u5bfc\u51fa\u6210\u529f")}else C.a.error("\u5bfc\u51fa\u5931\u8d25")})).catch((function(e){C.a.error("\u5bfc\u51fa\u5931\u8d25")}))},t.handleShowModel=function(){var e=t.props.changeLeaveVisible;t.props.form.resetFields(),e({leaveVisible:!0,record:{}})},t.handleGetColumns=function(){var e=Object(Mn.a)(t),a=t.state.permission;return ml(e,a)},t.handleSearchInput=function(e){var a=t.props,n=a.changeCurrentPageData,r=a.thats,l={currentPage:1,pageSize:10,keyword:e,busOnlineFeedbackId:"",busOnlineFeedbackType:"",leaveOfficeStatus:"",leaveReasonId:"",hrOneMonthClass:"",hrOneMonthType:"",ipsaBuDeptId:"",ipsaDeptId:"",leaveProjReasonId:"",effectiveStartTimeFormat:"",effectiveEndTimeFormat:"",leaveProjStartTimeFormat:"",leaveProjEndTimeFormat:""};n(l),t.getQueryEmployeeLeaveInfoList(l),localStorage.setItem("leavemonth",""),r.props.form.resetFields()},t.handleChangeSearchInput=function(e){var a=t.props.changeCurrentPageData;a(Object(E.a)({},a,{keyword:e.target.value}))},t.handleTableChange=function(e){var a=t.props,n=a.changeCurrentPageData,r=a.currentPageData,l=localStorage.getItem("leavemonth"),i=Object(E.a)({},r,{currentPage:e,pageSize:10,employeeStatus:l});n(i),t.getQueryEmployeeLeaveInfoList(i)},t.state={permission:""},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.get("/api/user/queryUserPermission.json").then((function(a){if(a&&a.success){var t=a.data[0].permission;e.setState({permission:t})}}));var a={currentPage:1,pageSize:10,employeeStatus:localStorage.getItem("leavemonth")};this.getQueryEmployeeLeaveInfoList(a)}},{key:"componentWillUnmount",value:function(){var e=this.props,a=e.changeCurrentPageData,t=e.changeLeaveDataList;a({currentPage:1,pageSize:10,keyword:"",busOnlineFeedbackId:"",busOnlineFeedbackType:"",leaveOfficeStatus:"",leaveReasonId:"",hrOneMonthClass:"",hrOneMonthType:"",ipsaBuDeptId:"",ipsaDeptId:"",leaveProjReasonId:"",effectiveStartTimeFormat:"",effectiveEndTimeFormat:"",leaveProjStartTimeFormat:"",leaveProjEndTimeFormat:""}),localStorage.setItem("leavemonth",""),t({data:[],total:1})}},{key:"render",value:function(){var e=this,a=localStorage.getItem("token"),t=this.props,n=t.leaveDataList,r=t.currentPageData,l=t.leaveTotal,i=this.state.permission;this.props.form.getFieldDecorator;return d.a.createElement("div",{className:"leave-information"},d.a.createElement(Gt.a,{style:{padding:"30px"}},d.a.createElement(_t.a,{span:24},d.a.createElement(Gt.a,{className:"leave-operator-set"},d.a.createElement(_t.a,{span:8},d.a.createElement(hl,{style:{width:"50%",marginLeft:"20px"},placeholder:"\u8f93\u5165\u59d3\u540d\u6216\u8f6f\u901a\u5de5\u53f7",onSearch:function(a){return e.handleSearchInput(a)},onChange:function(a){return e.handleChangeSearchInput(a)},value:r.keyword,enterButton:!0})),d.a.createElement(_t.a,{span:16,style:{textAlign:"right"}},d.a.createElement(dn.a,{disabled:!(i&&"hr"===i||"admin"===i),type:"primary",onClick:this.handleShowModel.bind(this),style:{marginRight:"7%"}},"+ \u65b0\u589e"),d.a.createElement("div",{style:{width:"64px",display:"inline-block",marginRight:"7%"}},d.a.createElement(Gn.a,{disabled:!(i&&"projectManage"===i||"admin"===i||"hr"===i),accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",action:"/api/leave/import/leaveRecord.json",method:"post",headers:{Authorization:"Bearer "+a},showUploadList:!1,onChange:this.handleChangeFile.bind(this),beforeUpload:this.handleBeforeUpload.bind(this)},d.a.createElement(rn.a,{title:"\u652f\u6301\u5bfc\u5165.xlsx\u6587\u4ef6"},d.a.createElement(dn.a,{disabled:!(i&&"projectManage"===i||"admin"===i||"hr"===i),type:"primary"},"\u5bfc\u5165")))),d.a.createElement("div",{style:{width:"64px",display:"inline-block",marginRight:"2%"}},d.a.createElement(dn.a,{disabled:!(i&&"projectManage"===i||"admin"===i||"hr"===i),type:"primary",onClick:this.handleDownload.bind(this)},"\u5bfc\u51fa"))))),d.a.createElement(_t.a,{style:{marginTop:"30px"},span:24},d.a.createElement(Hr,null)),d.a.createElement(_t.a,{span:24},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},className:"leave-content-table ",columns:this.handleGetColumns(),dataSource:n,scroll:{x:"100%"},pagination:!1})),d.a.createElement(_t.a,{className:"leave-paging",span:24},d.a.createElement($t.a,{total:l,showTotal:function(e){return"\u5171 ".concat(l," \u6761\u6570\u636e")},current:r.currentPage,onChange:function(a){e.handleTableChange(a)}}))),d.a.createElement(pl,{permission:i}))}}]),a}(u.Component))||Kr),gl=jn.a.create()(fl),yl=(t(271),t(106)),bl=t.n(yl),El=(t(658),f()().format("E")),vl=f()().subtract(El-1,"days").format("YYYY-MM-DD"),Il=f()().add(7-El,"days").format("YYYY-MM-DD"),Cl=(Bn.a.WeekPicker,Bn.a.RangePicker),wl=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).onChangeWeekAnalysis=function(e,a){t.setState({startTimeFormat:a[0]?a[0]:vl,endTimeFormat:a[1]?a[1]:Il})},t.handleSearchWeekAnalysis=function(){var e=t.state,a=e.startTimeFormat,n=e.endTimeFormat;(0,t.props.queryEmployeeWeekDataAnalysis)({startTimeFormat:a,endTimeFormat:n})},t.state={showYear:"",showWeek:"",weekTimeFormat:"",startTimeFormat:"",endTimeFormat:""},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props.weekData;return d.a.createElement("div",{className:"week-analysis"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:24},d.a.createElement("span",null,"\u81ea\u5b9a\u4e49\u65e5\u671f\u7b5b\u9009\uff1a"),d.a.createElement(Cl,{onChange:this.onChangeWeekAnalysis,placeholder:["\u8d77\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"]}),d.a.createElement(dn.a,{onClick:this.handleSearchWeekAnalysis.bind(this),type:"primary",className:"week-analysis-search-btn"},"\u67e5\u8be2")),d.a.createElement(_t.a,{span:24,className:"week-analysis-table-style"},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:mr,dataSource:e?e.dataAnalysisList:[],bordered:!0,pagination:!1}))))}}]),a}(u.Component),jl=(t(659),Dn.a.Search),kl=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleChangeSearchInput=function(e){t.setState({keyword:e.target.value})},t.handleSearchInput=function(e){(0,t.props.queryAllEmployeeInfoList)({currentPage:1,pageSize:10,keyword:e})},t.handleTableChange=function(e){var a=t.props.queryAllEmployeeInfoList;t.setState({currentPage:e},(function(){var e=t.state,n=e.currentPage,r=e.keyword;a({currentPage:n,pageSize:10,keyword:r})}))},t.handleDownload=function(){var e=localStorage.getItem("token"),a=t.state.keyword;j()({method:"get",url:"/api/analysis/baseInfo/download",headers:{Authorization:"Bearer "+e},params:{keyword:a},responseType:"blob"}).then((function(e){if(200===e.status){var a=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),t=window.URL.createObjectURL(a),n=document.createElement("a");n.style.display="none",n.href=t,n.setAttribute("download","excel.xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(t),C.a.success("\u5bfc\u51fa\u6210\u529f")}else C.a.error("\u5bfc\u51fa\u5931\u8d25")})).catch((function(e){C.a.error("\u5bfc\u51fa\u5931\u8d25")}))},t.state={keyword:"",currentPage:1},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.keyword,n=a.currentPage,r=this.props,l=r.generalData,i=void 0===l?[]:l,o=r.generalTotal;return d.a.createElement("div",{className:"general-analysis"},d.a.createElement(Gt.a,{className:"general-operator-set"},d.a.createElement(_t.a,{span:22},d.a.createElement(jl,{value:t,onSearch:function(a){return e.handleSearchInput(a)},onChange:function(a){return e.handleChangeSearchInput(a)},className:"general-seatch-input",placeholder:"\u8f93\u5165\u59d3\u540d\u6216\u8f6f\u901a\u5de5\u53f7",enterButton:!0})),d.a.createElement(_t.a,{span:2,style:{textAlign:"right"}},d.a.createElement(dn.a,{className:"general-download-btn",onClick:this.handleDownload.bind(this),type:"primary"},"\u5bfc\u51fa"))),d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{className:"general-content-table",span:24},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:hr,dataSource:i,scroll:{x:"100%"},pagination:!1})),d.a.createElement(_t.a,{className:"general-paging",span:24},d.a.createElement($t.a,{total:o,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")},current:n,onChange:function(a){e.handleTableChange(a)}}))))}}]),a}(u.Component),Dl=(t(272),t(105)),Sl=t.n(Dl),Ol=(t(135),Object(g.b)((function(e){return e.analysis}),o)(Jr=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).onChangeTurnoverRate=function(e,a){console.log("dateString",a),t.setState({dateString:a})},t.handleSearchTurnoverRate=function(){var e=t.state.dateString;(0,t.props.queryKpiWeekLeaveDataAnalysis)(e)},t.state={dateString:""},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props.turnoverRateList;return d.a.createElement("div",{className:"turnover-rate"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:24},d.a.createElement("span",null,"\u65f6\u95f4\u7b5b\u9009\uff1a"),d.a.createElement(Bn.a,{showToday:!1,onChange:this.onChangeTurnoverRate,placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f"}),d.a.createElement(dn.a,{onClick:this.handleSearchTurnoverRate.bind(this),type:"primary",className:"turnover-rate-search-btn"},"\u67e5\u8be2")),d.a.createElement(_t.a,{className:"turnover-rate-content-table",span:24},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:fr,dataSource:e,scroll:{x:"100%"},pagination:!1})),d.a.createElement(_t.a,{className:"general-paging",span:24})))}}]),a}(u.Component))||Jr),Tl=Object(g.b)((function(e){return e.analysis}),o)(zr=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).onChangeTurnoverRate=function(e,a){t.setState({dateString:a})},t.handleSearchTurnoverRate=function(){var e=t.state.dateString;(0,t.props.queryKpiWeekEmployeeDataAnalysis)(e)},t.state={dateString:""},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props.manpowerStructureList;return d.a.createElement("div",{className:"turnover-rate"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:24},d.a.createElement("span",null,"\u65f6\u95f4\u7b5b\u9009\uff1a"),d.a.createElement(Bn.a,{showToday:!1,onChange:this.onChangeTurnoverRate,placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f"}),d.a.createElement(dn.a,{onClick:this.handleSearchTurnoverRate.bind(this),type:"primary",className:"turnover-rate-search-btn"},"\u67e5\u8be2")),d.a.createElement(_t.a,{className:"turnover-rate-content-table",span:24},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:gr,dataSource:e,scroll:{x:"100%"},pagination:!1})),d.a.createElement(_t.a,{className:"general-paging",span:24})))}}]),a}(u.Component))||zr,xl=Object(g.b)((function(e){return e.analysis}),o)(Qr=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).onChangeTurnoverRate=function(e,a){console.log("dateString",a),t.setState({dateString:a})},t.handleSearchTurnoverRate=function(){var e=t.state.dateString;(0,t.props.queryKpiWeekJobTypeDataAnalysis)(e)},t.state={dateString:""},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props,a=e.workTypeList,t=e.tableTitleInfoList;return d.a.createElement("div",{className:"turnover-rate"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:24},d.a.createElement("span",null,"\u65f6\u95f4\u7b5b\u9009\uff1a"),d.a.createElement(Bn.a,{showToday:!1,onChange:this.onChangeTurnoverRate,placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f"}),d.a.createElement(dn.a,{onClick:this.handleSearchTurnoverRate.bind(this),type:"primary",className:"turnover-rate-search-btn"},"\u67e5\u8be2")),d.a.createElement(_t.a,{className:"turnover-rate-content-table",span:24},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:a&&a.length?a:[],dataSource:a&&a.length?t:[],scroll:{x:"100%"},pagination:!1})),d.a.createElement(_t.a,{className:"general-paging",span:24})))}}]),a}(u.Component))||Qr,Ll=Bn.a.MonthPicker,Nl=Object(g.b)((function(e){return e.analysis}),o)($r=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).onChangeTurnoverRate=function(e,a){t.setState({dateString:a})},t.handleSearchTurnoverRate=function(){var e=t.state.dateString;(0,t.props.queryKpiWeekKpiWholeDataAnalysis)(e)},t.state={dateString:""},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props,a=e.wohleKpiList,t=e.wohleKpitableTitleInfoList;return d.a.createElement("div",{className:"turnover-rate"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:24},d.a.createElement("span",null,"\u65f6\u95f4\u7b5b\u9009\uff1a"),d.a.createElement(Ll,{showToday:!1,onChange:this.onChangeTurnoverRate,placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f"}),d.a.createElement(dn.a,{onClick:this.handleSearchTurnoverRate.bind(this),type:"primary",className:"turnover-rate-search-btn"},"\u67e5\u8be2")),d.a.createElement(_t.a,{className:"turnover-rate-content-table",span:24},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:a&&a.length?a:[],dataSource:a&&a.length?t:[],scroll:{x:"100%"},pagination:!1}))))}}]),a}(u.Component))||$r,Fl=Sl.a.Panel,Al={background:"#f0f5ff",borderRadius:4,marginBottom:24,border:0,overflow:"hidden"},Pl=Object(g.b)((function(e){return e.analysis}),o)(Xr=function(e){function a(){var e,t;Object(xt.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(Nt.a)(this,(e=Object(Ft.a)(a)).call.apply(e,[this].concat(r)))).handChangeCollapse=function(e){var a=t.props,n=a.queryKpiWeekLeaveDataAnalysis,r=a.queryKpiWeekEmployeeDataAnalysis,l=a.queryKpiWeekJobTypeDataAnalysis,i=a.queryKpiWeekKpiWholeDataAnalysis;switch(e){case"turnoverRate":n();break;case"manpower":r();break;case"workType":l();break;case"wholeKpi":i()}},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){return d.a.createElement("div",{className:"analusis-kpi-weekly"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,null,d.a.createElement(Sl.a,{accordion:!0,onChange:this.handChangeCollapse,bordered:!1,defaultActiveKey:["turnoverRate"],expandIcon:function(e){var a=e.isActive;return d.a.createElement(On.a,{type:"caret-right",rotate:a?90:0})}},d.a.createElement(Fl,{header:"\u8f6f\u901a\u963f\u91cc\u5b9e\u65bd\u90e8 -- \u79bb\u804c\u7387",key:"turnoverRate",style:Al},d.a.createElement(Ol,null)),d.a.createElement(Fl,{header:"\u8f6f\u901a\u963f\u91cc\u5b9e\u65bd\u90e8 -- \u4eba\u529b\u7ed3\u6784",key:"manpower",style:Al},d.a.createElement(Tl,null)),d.a.createElement(Fl,{header:"\u8f6f\u901a\u963f\u91cc\u5b9e\u65bd\u90e8 -- \u5de5\u79cd\u5206\u5e03",key:"workType",style:Al},d.a.createElement(xl,null)),d.a.createElement(Fl,{header:"\u8f6f\u901a\u963f\u91ccITO -- KPI\u6574\u4f53\u8fdb\u5c55",key:"wholeKpi",style:Al},d.a.createElement(Nl,null))))))}}]),a}(u.Component))||Xr,Rl=Object(g.b)((function(e){return e.analysis}),o)(Zr=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).onChangeTurnoverRate=function(e,a){t.setState({endDate:a})},t.handleSearchTurnoverRate=function(){var e=t.state.endDate;(0,t.props.queryEmployeeCountByDept)({endDate:e})},t.handleTableChange=function(e){var a={currentPage:e,pageSize:10,endDate:t.state.endDate};(0,t.props.queryEmployeeCountByDept)(a),t.setState({currentPage:e})},t.state={endDate:"",currentPage:1},t.columns=[{title:"\u5e8f\u53f7",dataIndex:"serial"},{title:"\u90e8\u95e8",dataIndex:"ipsaDeptName"},{title:"\u4eba\u6570",dataIndex:"subtotal"}],t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this,a=this.columns,t=this.state.currentPage,n=this.props,r=n.weeklyDataList,l=n.weeklyTotal;return d.a.createElement("div",{className:"turnover-rate"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:24},d.a.createElement("span",null,"\u65f6\u95f4\u7b5b\u9009\uff1a"),d.a.createElement(Bn.a,{showToday:!1,onChange:this.onChangeTurnoverRate,placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f"}),d.a.createElement(dn.a,{onClick:this.handleSearchTurnoverRate.bind(this),type:"primary",className:"turnover-rate-search-btn"},"\u67e5\u8be2")),d.a.createElement(_t.a,{className:"turnover-rate-content-table",span:24},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:a,dataSource:r,scroll:{x:"100%"},pagination:!1})),d.a.createElement(_t.a,{className:"general-paging",span:24},d.a.createElement($t.a,{total:l,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")},current:t,onChange:function(a){e.handleTableChange(a)}}))))}}]),a}(u.Component))||Zr,Vl=Object(g.b)((function(e){return e.analysis}),o)(el=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).onChangeTurnoverRate=function(e,a){t.setState({endDate:a})},t.handleSearchTurnoverRate=function(){var e=t.state.endDate;(0,t.props.queryEmployeeCountByWorkCity)({currentPage:1,endDate:e}),t.setState({currentPage:1})},t.handleTableChange=function(e){var a={currentPage:e,pageSize:10,endDate:t.state.endDate};(0,t.props.queryEmployeeCountByWorkCity)(a),t.setState({currentPage:e})},t.state={currentPage:1,endDate:""},t.columns=[{title:"\u5e8f\u53f7",dataIndex:"serial"},{title:"\u5de5\u4f5c\u5730\u70b9",dataIndex:"workCityName"},{title:"\u4e1a\u52a1\u7ebf",dataIndex:"businessLine"},{title:"\u5c0f\u8ba1",dataIndex:"subtotal"}],t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this,a=this.columns,t=this.state.currentPage,n=this.props,r=n.weeklyCityDataList,l=n.weeklyCityTotal;return d.a.createElement("div",{className:"turnover-rate"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:24},d.a.createElement("span",null,"\u65f6\u95f4\u7b5b\u9009\uff1a"),d.a.createElement(Bn.a,{showToday:!1,onChange:this.onChangeTurnoverRate,placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f"}),d.a.createElement(dn.a,{onClick:this.handleSearchTurnoverRate.bind(this),type:"primary",className:"turnover-rate-search-btn"},"\u67e5\u8be2")),d.a.createElement(_t.a,{className:"turnover-rate-content-table",span:24},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:a,dataSource:r,scroll:{x:"100%"},pagination:!1})),d.a.createElement(_t.a,{className:"general-paging",span:24},d.a.createElement($t.a,{total:l,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")},current:t,onChange:function(a){e.handleTableChange(a)}}))))}}]),a}(u.Component))||el,Gl=Object(g.b)((function(e){return e.analysis}),o)(al=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).onChangeTurnoverRate=function(e,a){t.setState({endDate:a})},t.handleSearchTurnoverRate=function(){var e=t.state.endDate;(0,t.props.queryEmployeeCountByJobClass)({currentPage:1,endDate:e}),t.setState({currentPage:1})},t.handleTableChange=function(e){var a={currentPage:e,pageSize:10,endDate:t.state.endDate};(0,t.props.queryEmployeeCountByJobClass)(a),t.setState({currentPage:e})},t.state={endDate:"",currentPage:1},t.columns=[{title:"\u5e8f\u53f7",dataIndex:"serial"},{title:"\u5458\u5de5\u7c7b\u522b",dataIndex:"thirdJobName"},{title:"\u5c0f\u8ba1",dataIndex:"subtotal"}],t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this,a=this.columns,t=this.state.currentPage,n=this.props,r=n.weeklyJobClassList,l=n.weeklyJobClassTotal;return d.a.createElement("div",{className:"turnover-rate"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{span:24},d.a.createElement("span",null,"\u65f6\u95f4\u7b5b\u9009\uff1a"),d.a.createElement(Bn.a,{showToday:!1,onChange:this.onChangeTurnoverRate,placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f"}),d.a.createElement(dn.a,{onClick:this.handleSearchTurnoverRate.bind(this),type:"primary",className:"turnover-rate-search-btn"},"\u67e5\u8be2")),d.a.createElement(_t.a,{className:"turnover-rate-content-table",span:24},d.a.createElement(Ut.a,{rowKey:function(e,a){return a},columns:a,dataSource:r,scroll:{x:"100%"},pagination:!1})),d.a.createElement(_t.a,{className:"general-paging",span:24},d.a.createElement($t.a,{total:l,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")},current:t,onChange:function(a){e.handleTableChange(a)}}))))}}]),a}(u.Component))||al,Ml=Sl.a.Panel,_l={background:"#f0f5ff",borderRadius:4,marginBottom:24,border:0,overflow:"hidden"},Bl=Object(g.b)((function(e){return e.analysis}),o)(tl=function(e){function a(){var e,t;Object(xt.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(Nt.a)(this,(e=Object(Ft.a)(a)).call.apply(e,[this].concat(r)))).handChangeCollapse=function(e){var a=t.props,n=a.queryEmployeeCountByDept,r=a.queryEmployeeCountByWorkCity,l=a.queryEmployeeCountByJobClass;switch(e){case"weeklyBu-department":n();break;case"weeklyBu-line":r();break;case"workType-employee":l()}},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props,a=e.weeklyJobClassYear,t=e.weeklyCityYear,n=e.weeklyYear;return d.a.createElement("div",{className:"analusis-weekly"},d.a.createElement(Gt.a,null,d.a.createElement(_t.a,null,d.a.createElement(Sl.a,{accordion:!0,onChange:this.handChangeCollapse,bordered:!1,defaultActiveKey:["turnoverRate"],expandIcon:function(e){var a=e.isActive;return d.a.createElement(On.a,{type:"caret-right",rotate:a?90:0})}},d.a.createElement(Ml,{header:"".concat(n.year,"\u7b2c").concat(n.week,"\u5468\u4eba\u5458\u5206\u5e03\u4e00\u89c8 -- \u963f\u91cc\u5b9e\u65bd + \u5e73\u53f0"),key:"weeklyBu-department",style:_l},d.a.createElement(Rl,null)),d.a.createElement(Ml,{header:"".concat(t.year,"\u7b2c").concat(t.week,"\u5468\u9879\u76ee\u7ec4\u4eba\u5458\u5206\u5e03 -- \u963f\u91cc\u5b9e\u65bd"),key:"weeklyBu-line",style:_l},d.a.createElement(Vl,null)),d.a.createElement(Ml,{header:"".concat(a.year,"\u7b2c").concat(a.week,"\u5468\u5458\u5de5\u7c7b\u522b\u5206\u5e03 -- \u963f\u91cc\u5b9e\u65bd"),key:"workType-employee",style:_l},d.a.createElement(Gl,null))))))}}]),a}(u.Component))||tl,Yl=(t(664),bl.a.TabPane),ql=f()().format("E"),Hl={startTimeFormat:f()().subtract(ql-1,"days").format("YYYY-MM-DD"),endTimeFormat:f()().add(7-ql,"days").format("YYYY-MM-DD")},Ul=Object(g.b)((function(e){return e.analysis}),o)(nl=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleChangeTabs=function(e){t.setState({activeKye:e},(function(){var e=t.state.activeKye,a=t.props,n=a.queryKpiWeekLeaveDataAnalysis,r=a.queryEmployeeCountByDept;switch(e){case"week":t.queryEmployeeWeekDataAnalysis(Hl);break;case"weekly":r();break;case"general":t.queryAllEmployeeInfoList();break;case"kpiWeekly":n()}}))},t.queryEmployeeWeekDataAnalysis=function(e){H.get("/api/analysis/queryEmployeeWeekDataAnalysis.json",{params:e}).then((function(e){e.success&&e.data?t.setState({weekData:e.data}):C.a.error(e.message)})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))},t.queryAllEmployeeInfoList=function(e){H.post("/api/analysis/queryAllEmployeeInfoList.json",e).then((function(e){if(e.success&&e.data){var a=e.data,n=a.data,r=void 0===n?[]:n,l=a.total;t.setState({generalData:r,generalTotal:l})}else C.a.error(e.message)})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))},t.state={weekData:null,activeKye:"weekly",generalTotal:null,generalData:[]},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.activeKye,a=this.props.queryKpiWeekLeaveDataAnalysis;switch(e){case"week":this.queryEmployeeWeekDataAnalysis(Hl);break;case"general":this.queryAllEmployeeInfoList({currentPage:1,pageSize:10});break;case"kpiWeekly":a()}}},{key:"render",value:function(){var e=this.state,a=e.activeKye,t=e.weekData,n=e.generalData,r=e.generalTotal;return d.a.createElement("div",{className:"analysis"},d.a.createElement(Gt.a,{className:"analysis-content"},d.a.createElement(_t.a,null,d.a.createElement(bl.a,{animated:!1,rowKey:function(e,a){return a},defaultActiveKey:a,onChange:this.handleChangeTabs,pagination:!1},d.a.createElement(Yl,{tab:"\u5468\u5206\u6790",key:"week"},d.a.createElement(wl,{weekData:t,queryEmployeeWeekDataAnalysis:this.queryEmployeeWeekDataAnalysis})),d.a.createElement(Yl,{tab:"\u5468\u62a5",key:"weekly"},d.a.createElement(Bl,null)),d.a.createElement(Yl,{tab:"KPI\u53cc\u5468\u62a5",key:"kpiWeekly"},d.a.createElement(Pl,null)),d.a.createElement(Yl,{tab:"\u4e00\u89c8\u8868",key:"general"},d.a.createElement(kl,{generalData:n,generalTotal:r,queryAllEmployeeInfoList:this.queryAllEmployeeInfoList}))))))}}]),a}(u.Component))||nl,Wl=Nn.a.Option,Kl=Object(g.b)((function(e){return e.personnel}),s)(rl=function(e){function a(){var e,t;Object(xt.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(Nt.a)(this,(e=Object(Ft.a)(a)).call.apply(e,[this].concat(r)))).handleCancel=function(){(0,t.props.changeAssignModalVisible)({assignModalVisible:!1})},t.handleGetDicInfo=function(e){(0,t.props.dictInfo)(e)},t.handleAssignSubmit=function(){t.props.form.validateFields((function(e,a){if(!e){var n=t.props,r=n.assignInterview,l=n.selectedRowKeys,i=a.interviewEndTimeFormat?f()(a.interviewEndTimeFormat).format("YYYY-MM-DD"):"";r({ids:l,userIds:a.userIds,projectId:a.projectId,interviewEndTimeFormat:i})}}))},t.disabledDate=function(e){return e&&e<f()().subtract(1,"days")},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props,a=e.assignModalVisible,t=e.interviewerList,n=void 0===t?[]:t,r=e.projectList,l=void 0===r?[]:r,i=this.props.form.getFieldDecorator;return d.a.createElement("div",null,d.a.createElement(qn.a,{title:"\u7b80\u5386\u5206\u914d",visible:a,onOk:this.handleAssignSubmit,onCancel:this.handleCancel,destroyOnClose:!0,className:"basic-add-modal",okText:"\u63d0\u4ea4",cancelText:"\u53d6\u6d88"},d.a.createElement(jn.a,{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},d.a.createElement(jn.a.Item,{label:"\u9879\u76ee",hasFeedback:!0},i("projectId",{rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{onFocus:this.handleGetDicInfo.bind(this,"project_list"),placeholder:"\u8bf7\u9009\u62e9\u9879\u76ee",showSearch:!0,optionFilterProp:"children"},l.map((function(e){return d.a.createElement(Wl,{key:e.id,value:e.id},e.label)}))))),d.a.createElement(jn.a.Item,{label:"\u9762\u8bd5\u5b98",hasFeedback:!0},i("userIds",{rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{mode:"multiple",tokenSeparators:[","],placeholder:"\u8bf7\u9009\u62e9\u9762\u8bd5\u5b98"},n.length&&n.map((function(e){return d.a.createElement(Wl,{key:e.id,value:e.id},e.empName)}))))),d.a.createElement(jn.a.Item,{label:"\u9762\u8bd5\u622a\u6b62\u65f6\u95f4",hasFeedback:!0},i("interviewEndTimeFormat",{rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Bn.a,{showToday:!1,disabledDate:this.disabledDate,placeholder:"\u8bf7\u9009\u62e9\u622a\u6b62\u65f6\u95f4"}))))))}}]),a}(u.Component))||rl,Jl=jn.a.create()(Kl),zl=Nn.a.Option,Ql=Dn.a.TextArea,$l=Object(g.b)((function(e){return e.personnel}),s)(ll=function(e){function a(){var e,t;Object(xt.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(Nt.a)(this,(e=Object(Ft.a)(a)).call.apply(e,[this].concat(r)))).handleCancel=function(){(0,t.props.changeEditModalVisible)({editModalVisible:!1})},t.handleEditSubmit=function(){var e=t.props,a=e.updataId,n=e.queryInterviewList,r=e.changeEditModalVisible;t.props.form.validateFields((function(e,t){e||(t.id=a,H.post("/api/interview/updateInterviewResultById.json",t).then((function(e){if(e&&e.success){C.a.success("\u7f16\u8f91\u6210\u529f"),n({currentPage:1,pageSize:10}),r({editModalVisible:!1})}else C.a.error("\u7f16\u8f91\u5931\u8d25\uff1a"+e.message)})).catch((function(e){e&&e.data&&e.data.message?C.a.error("\u7f16\u8f91\u5931\u8d25\uff1a"+e.data.message):C.a.error("\u7f16\u8f91\u5931\u8d25")})))}))},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props,a=e.editModalVisible,t=e.leveList,n=void 0===t?[]:t,r=e.editRecord,l=this.props.form.getFieldDecorator;return d.a.createElement("div",null,d.a.createElement(qn.a,{title:"\u66f4\u65b0\u9762\u8bd5\u7ed3\u679c",visible:a,onOk:this.handleEditSubmit,onCancel:this.handleCancel,destroyOnClose:!0,className:"basic-add-modal",okText:"\u63d0\u4ea4",cancelText:"\u53d6\u6d88"},d.a.createElement(jn.a,{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},d.a.createElement(jn.a.Item,{label:"\u5efa\u8bae\u7ea7\u522b",hasFeedback:!0},l("interviewLevel",{rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:r&&r.interviewLevel?r.interviewLevel:""})(d.a.createElement(Nn.a,{allowClear:!0,placeholder:"\u8bf7\u9009\u62e9"},n.map((function(e){return d.a.createElement(zl,{key:e.id,value:e.label},e.label)}))))),d.a.createElement(jn.a.Item,{label:"\u662f\u5426\u901a\u8fc7",hasFeedback:!0},l("initialInterviewResult",{rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:r&&r.initialInterviewResult?r.initialInterviewResult:""})(d.a.createElement(Nn.a,{placeholder:"\u8bf7\u9009\u62e9"},d.a.createElement(zl,{value:1},"\u901a\u8fc7"),d.a.createElement(zl,{value:2},"\u4e0d\u901a\u8fc7")))),d.a.createElement(jn.a.Item,{label:"\u9762\u8bd5\u8bc4\u4ef7",hasFeedback:!0},l("interviewComment",{rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"},{pattern:/^(?!(\s+$))/,message:"\u7981\u6b62\u5185\u5bb9\u5168\u90e8\u4e3a\u7a7a\u683c"}],initialValue:r&&r.interviewComment?r.interviewComment:""})(d.a.createElement(Ql,{placeholder:"\u8bf7\u8f93\u5165\u8bc4\u4ef7"}))))))}}]),a}(u.Component))||ll,Xl=jn.a.create()($l),Zl=(t(674),Dn.a.TextArea),ei=Object(g.b)((function(e){return e.personnel}),s)(il=function(e){function a(){var e,t;Object(xt.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(Nt.a)(this,(e=Object(Ft.a)(a)).call.apply(e,[this].concat(r)))).handleCancel=function(){(0,t.props.changeDetailsModalVisible)({detailsVisible:!1})},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.props,t=a.detailsVisible,n=a.detailsList;return d.a.createElement("div",null,d.a.createElement(Gt.a,null,d.a.createElement(qn.a,{title:"\u8be6\u60c5",visible:t,onOk:this.handleEducationSubmit,destroyOnClose:!0,className:"personnel-details-modal",width:"55%",onCancel:this.handleCancel,footer:d.a.createElement(dn.a,{onClick:this.handleCancel},"\u53d6\u6d88")},d.a.createElement(jn.a,{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},d.a.createElement("h3",{className:"personnel-details-title"},"\u7b80\u5386\u4fe1\u606f"),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u59d3\u540d",hasFeedback:!0},e("resumeUserName",{initialValue:n.resumeUserName?n.resumeUserName:""})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u624b\u673a\u53f7",hasFeedback:!0},e("resumeUserPhone",{initialValue:n.resumeUserPhone?n.resumeUserPhone:""})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement("h3",{className:"personnel-details-title"},"\u9762\u8bd5\u57fa\u672c\u4fe1\u606f"),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u8d44\u6e90\u7ecf\u7406",hasFeedback:!0},e("resourceManagerUserName",{initialValue:n.resourceManagerUserName?n.resourceManagerUserName:""})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u7b80\u5386\u72b6\u6001",hasFeedback:!0},e("resumeStatus",{initialValue:n.resumeStatus?$n[n.resumeStatus-1].label:""})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u62db\u8058\u7ea7\u522b",hasFeedback:!0},e("recruitmentLevel",{initialValue:n.recruitmentLevel?n.recruitmentLevel:""})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u7b80\u5386\u6765\u6e90",hasFeedback:!0},e("resumeSource",{initialValue:n.resumeSource?n.resumeSource:""})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u5de5\u4f5c\u5730\u70b9",hasFeedback:!0},e("workAddress",{initialValue:n.workAddress?n.workAddress:""})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u7b80\u5386\u5206\u914d\u65f6\u95f4",hasFeedback:!0},e("distributionTime",{initialValue:n.distributionTime?f()(n.distributionTime).format("YYYY-MM-DD"):null})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u9762\u8bd5\u5b8c\u6210\u65f6\u95f4 ",hasFeedback:!0},e("interviewCompleteTime",{initialValue:n.interviewCompleteTime?f()(n.interviewCompleteTime).format("YYYY-MM-DD"):null})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u5efa\u8bae\u7ea7\u522b",hasFeedback:!0},e("interviewLevel",{initialValue:n.interviewLevel?n.interviewLevel:""})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u521d\u9762\u7ed3\u679c",hasFeedback:!0},e("initialInterviewResult",{initialValue:n.initialInterviewResult?Xn[n.initialInterviewResult-1].label:""})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u7ec8\u9762\u7ed3\u679c",hasFeedback:!0},e("finalInterviewResult",{initialValue:n.finalInterviewResult?Zn[n.finalInterviewResult-1].label:""})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u804c\u4f4d\u7c7b\u578b",hasFeedback:!0},e("positionType",{initialValue:n.positionType?n.positionType:""})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u9879\u76ee\u540d\u79f0",hasFeedback:!0},e("projectName",{initialValue:n.projectName?n.projectName:""})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u9762\u8bd5\u5b98\u540d\u5b57",hasFeedback:!0},e("interviewUserName",{initialValue:n.interviewUserName?n.interviewUserName:""})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement(_t.a,{span:12},d.a.createElement(jn.a.Item,{label:"\u7b80\u5386\u8fc7\u671f\u65f6\u95f4",hasFeedback:!0},e("expireTime",{initialValue:n.expireTime?f()(n.expireTime).format("YYYY-MM-DD"):null})(d.a.createElement(Dn.a,{disabled:!0})))),d.a.createElement("h3",{className:"personnel-details-title"},"\u9762\u8bd5\u8bc4\u4ef7\u4fe1\u606f"),d.a.createElement(_t.a,{span:24},d.a.createElement(jn.a.Item,{labelCol:{span:3},wrapperCol:{span:20},label:"\u9762\u8bd5\u8bc4\u4ef7",hasFeedback:!0},e("interviewComment",{initialValue:n.interviewComment?n.interviewComment:""})(d.a.createElement(Zl,{autoSize:{minRows:3,maxRows:6},disabled:!0}))))))))}}]),a}(u.Component))||il,ai=jn.a.create()(ei),ti=(t(675),Object(g.b)((function(e){return e.personnel}),s)(ol=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleOpenAssignModal=function(){var e=t.props,a=e.changeAssignModalVisible,n=e.queryUserListInfoByRolePermission;a({assignModalVisible:!0}),n({key:"assign",value:"interviewPerson"})},t.handleOpenDetailsModal=function(e){var a=e.id,n=t.props,r=n.changeDetailsModalVisible,l=n.queryInterviewInfoById;r({detailsVisible:!0}),l(a)},t.onSelectChange=function(e,a){(0,t.props.changeSelectedRowKeys)(e)},t.handleTableChange=function(e){var a=t.props,n=a.queryAssignInterviewList,r=a.distriSearchValue,l=a.changeCurrentPage,i=Object(E.a)({currentPage:e,pageSize:10},r);l({interCurrentPage:1,dispCurrentPage:e}),n(i)},t.getCheckboxPropsStatus=function(e){return 1===e.resumeStatus?null:{disabled:!0}},t.state={selectedRowKeys:[],currentPage:1},t.columns=[{title:"\u59d3\u540d",dataIndex:"resumeUserName",width:"7%"},{title:"\u7535\u8bdd",dataIndex:"resumeUserPhone",width:"10%"},{title:"\u9879\u76ee\u540d\u79f0",dataIndex:"projectName",width:"10%",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u622a\u6b62\u65f6\u95f4",dataIndex:"interviewEndTime",width:"10%",render:function(e,a){return e?f()(e).format("YYYY-MM-DD"):""}},{title:"\u804c\u4f4d\u7c7b\u578b",dataIndex:"positionType",width:"10%"},{title:"\u62db\u8058\u7ea7\u522b",dataIndex:"recruitmentLevel",width:"8%"},{title:"\u7b80\u5386\u72b6\u6001",dataIndex:"resumeStatus",width:"8%",render:function(e,a){switch(e){case 1:return d.a.createElement("span",null,"\u5f85\u5206\u914d");case 2:return d.a.createElement("span",null,"\u5df2\u5206\u914d");case 3:return d.a.createElement("span",null,"\u5f85\u9762\u8bd5");case 4:return d.a.createElement("span",null,"\u5df2\u9762\u8bd5")}}},{title:"\u521d\u9762\u7ed3\u679c",dataIndex:"initialInterviewResult",width:"8%",render:function(e,a){switch(e){case 1:return d.a.createElement("span",null,"\u901a\u8fc7");case 2:return d.a.createElement("span",null,"\u4e0d\u901a\u8fc7")}}},{title:"\u7ec8\u9762\u7ed3\u679c",dataIndex:"finalInterviewResult",width:"8%",render:function(e,a){switch(e){case 1:return d.a.createElement("span",null,"\u901a\u8fc7");case 2:return d.a.createElement("span",null,"\u4e0d\u901a\u8fc7")}}},{title:"\u5efa\u8bae\u7ea7\u522b",dataIndex:"interviewLevel",width:"8%"},{title:"\u64cd\u4f5c",dataIndex:"buttons",width:"27%",render:function(e,a){return e&&e.length&&e.map((function(e){if("detail"===e)return d.a.createElement(dn.a,{key:e,onClick:t.handleOpenDetailsModal.bind(Object(Mn.a)(t),a),className:"action-buttons"},"\u8be6\u60c5")}))}}],t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentWillUnmount",value:function(){(0,this.props.changeAssignInterviewList)([])}},{key:"render",value:function(){var e=this,a=this.columns,t=this.props,n=t.assignList,r=void 0===n?[]:n,l=t.selectedRowKeys,i=t.assignTotal,o=t.dispCurrentPage,s={selectedRowKeys:l,onChange:this.onSelectChange,getCheckboxProps:this.getCheckboxPropsStatus};return d.a.createElement("div",null,d.a.createElement(Gt.a,{className:"distribution-table"},d.a.createElement(_t.a,{style:{marginBottom:"20px"}},d.a.createElement(rn.a,{title:l&&l.length?"":"\u8bf7\u5148\u9009\u62e9\u5206\u914d\u9879"},d.a.createElement(dn.a,{style:{marginRight:"20px"},disabled:!l||!l.length,onClick:this.handleOpenAssignModal,type:"primary"},"\u5206\u914d\u7b80\u5386"))),d.a.createElement(_t.a,{className:"distribution-table-data"},d.a.createElement(Ut.a,{rowKey:function(e,a){return e.id},columns:a,rowSelection:s,dataSource:r,pagination:!1})),d.a.createElement(_t.a,{className:"distribution-paging"},d.a.createElement($t.a,{total:i,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")},current:o,onChange:function(a){e.handleTableChange(a)}})),d.a.createElement(Jl,{selectedRowKeys:l}),d.a.createElement(ai,null)))}}]),a}(u.Component))||ol),ni=(t(676),Object(g.b)((function(e){return e.personnel}),s)(sl=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleDownload=function(e){var a=e.resumeDownloadUrl;console.log("url",a),window.location.href=a},t.handleOpenEditModal=function(e){var a=e.id,n=t.props,r=n.changeEditModalVisible,l=n.dictInfo;r({editModalVisible:!0,editRecord:e}),l("wutong_position_level"),t.setState({updataId:a})},t.handleOpenDetailsModal=function(e){var a=e.id,n=t.props,r=n.changeDetailsModalVisible,l=n.queryInterviewInfoById;r({detailsVisible:!0}),l(a)},t.handleAcquireInterview=function(e){var a=e.id,n=t.props.queryInterviewList;H.get("/api/interview/acquireInterview.json",{params:{id:a}}).then((function(e){e&&e.success?(C.a.success("\u64cd\u4f5c\u6210\u529f"),n()):C.a.error(e.message)})).catch((function(e){e&&e.data&&e.data.message?C.a.error(e.data.message):C.a.error("\u51fa\u9519\u4e86")}))},t.handleTableChange=function(e){var a=t.props,n=a.queryInterviewList,r=a.interviewSearchValue,l=a.changeCurrentPage,i=Object(E.a)({currentPage:e,pageSize:10},r);l({interCurrentPage:e,dispCurrentPage:1}),n(i)},t.state={selectedRowKeys:[],updataId:"",currentPage:1},t.columns=[{title:"\u59d3\u540d",dataIndex:"resumeUserName",width:"7%"},{title:"\u7535\u8bdd",dataIndex:"resumeUserPhone",width:"10%"},{title:"\u9879\u76ee\u540d\u79f0",dataIndex:"projectName",width:"7%",onCell:function(){return{style:{maxWidth:100,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return d.a.createElement(rn.a,{placement:"topLeft",title:e},e)}},{title:"\u622a\u6b62\u65f6\u95f4",dataIndex:"interviewEndTime",width:"10%",render:function(e,a){return e?f()(e).format("YYYY-MM-DD"):""}},{title:"\u804c\u4f4d\u7c7b\u578b",dataIndex:"positionType",width:"10%"},{title:"\u62db\u8058\u7ea7\u522b",dataIndex:"recruitmentLevel",width:"8%"},{title:"\u7b80\u5386\u72b6\u6001",dataIndex:"resumeStatus",width:"7%",render:function(e,a){switch(e){case 1:return d.a.createElement("span",null,"\u5f85\u5206\u914d");case 2:return d.a.createElement("span",null,"\u5df2\u5206\u914d");case 3:return d.a.createElement("span",null,"\u5f85\u9762\u8bd5");case 4:return d.a.createElement("span",null,"\u5df2\u9762\u8bd5")}}},{title:"\u521d\u9762\u7ed3\u679c",dataIndex:"initialInterviewResult",width:"7%",render:function(e,a){switch(e){case 1:return d.a.createElement("span",null,"\u901a\u8fc7");case 2:return d.a.createElement("span",null,"\u4e0d\u901a\u8fc7")}}},{title:"\u7ec8\u9762\u7ed3\u679c",dataIndex:"finalInterviewResult",width:"7%",render:function(e,a){switch(e){case 1:return d.a.createElement("span",null,"\u901a\u8fc7");case 2:return d.a.createElement("span",null,"\u4e0d\u901a\u8fc7")}}},{title:"\u5efa\u8bae\u7ea7\u522b",dataIndex:"interviewLevel",width:"7%"},{title:"\u64cd\u4f5c",dataIndex:"buttons",width:"30%",render:function(e,a){return e&&e.length&&e.map((function(e){return"edit"===e?d.a.createElement(dn.a,{key:e,onClick:t.handleOpenEditModal.bind(Object(Mn.a)(t),a),className:"action-buttons"},"\u7f16\u8f91"):"detail"===e?d.a.createElement(dn.a,{key:e,onClick:t.handleOpenDetailsModal.bind(Object(Mn.a)(t),a),className:"action-buttons"},"\u8be6\u60c5"):"interview"===e?d.a.createElement(dn.a,{key:e,onClick:t.handleAcquireInterview.bind(Object(Mn.a)(t),a),className:"action-buttons"},"\u9762\u8bd5"):"download"===e?d.a.createElement(dn.a,{key:e,onClick:t.handleDownload.bind(Object(Mn.a)(t),a),className:"action-buttons"},"\u4e0b\u8f7d"):void 0}))}}],t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentWillUnmount",value:function(){(0,this.props.changeQueryInterviewList)([])}},{key:"render",value:function(){var e=this,a=this.columns,t=this.props,n=t.interviewList,r=void 0===n?[]:n,l=t.interviewotal,i=t.interCurrentPage,o=this.state.updataId;return d.a.createElement("div",null,d.a.createElement(Gt.a,{className:"interview-table"},d.a.createElement(_t.a,{className:"interview-table-data"},d.a.createElement(Ut.a,{rowKey:function(e,a){return e.id},columns:a,dataSource:r,pagination:!1})),d.a.createElement(_t.a,{className:"interview-paging"},d.a.createElement($t.a,{total:l,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")},current:i,onChange:function(a){e.handleTableChange(a)}})),d.a.createElement(Xl,{updataId:o}),d.a.createElement(ai,null)))}}]),a}(u.Component))||sl),ri=t(185),li=(t(677),Nn.a.Option),ii=Object(g.b)((function(e){return e.personnel}),s)(cl=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleCancel=function(){(0,t.props.changeAddModalVisible)({addModalvisible:!1})},t.handleGetDicInfo=function(e){(0,t.props.dictInfo)(e)},t.handleAddSubmit=function(){t.props.form.validateFields((function(e,a){if(!e){var n=t.props.addInterview,r=t.state.fileList;if(r&&r.length>0){var l="";r.forEach((function(e){e.response&&e.response.data&&e.response.data.fileId&&(l=e.response.data.fileId)})),a.fileId=l,n(a)}else C.a.error("\u8bf7\u4e0a\u4f20\u7b80\u5386")}}))},t.handleChangeFile=function(e){var a=e.file,n=e.fileList;a&&"done"===a.status&&a.response.success&&(a.response.data?n.length>1&&(n.splice(0,1),t.setState({fileList:Object(ri.a)(n)})):C.a.error(a.response.message)),a&&"done"===a.status&&!a.response.success&&C.a.error(a.response.message),a&&"error"===a.status&&401===a.error.status&&C.a.error("\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"),t.setState({fileList:Object(ri.a)(n)})},t.afterClose=function(){t.setState({fileList:[]})},t.handleChangeSource=function(e,a){console.log("key",e,"e",a),(0,t.props.queryUserListInfoByRolePermission)({key:e,value:"resourceMange",source:a})},t.state={fileList:[]},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){var e=this.props,a=e.addModalvisible,t=e.resourceMangeList,n=void 0===t?[]:t,r=e.ownerList,l=void 0===r?[]:r,i=e.leveList,o=void 0===i?[]:i,s=e.typeList,c=void 0===s?[]:s,u=this.state.fileList,p=localStorage.getItem("token"),m=this.props.form.getFieldDecorator;return d.a.createElement("div",null,d.a.createElement(qn.a,{title:"\u65b0\u5efa\u7b80\u5386",visible:a,onOk:this.handleAddSubmit,onCancel:this.handleCancel,destroyOnClose:!0,afterClose:this.afterClose,className:"personnel-add-modal",okText:"\u63d0\u4ea4",cancelText:"\u53d6\u6d88"},d.a.createElement(jn.a,{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},d.a.createElement(jn.a.Item,{label:"\u59d3\u540d",hasFeedback:!0},m("resumeUserName",{rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Dn.a,null))),d.a.createElement(jn.a.Item,{label:"\u7535\u8bdd",hasFeedback:!0},m("resumeUserPhone",{rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"},{pattern:new RegExp(/^[1-9]\d*$/,"g"),message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7535\u8bdd"}]})(d.a.createElement(Dn.a,null))),d.a.createElement(jn.a.Item,{label:"\u7b80\u5386\u6765\u6e90",hasFeedback:!0},m("resumeSource",{rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{onFocus:this.handleGetDicInfo.bind(this,"owner_range"),onChange:this.handleChangeSource.bind(this,"add"),placeholder:"\u8bf7\u9009\u62e9\u7b80\u5386\u6765\u6e90"},l.map((function(e){return d.a.createElement(li,{key:e.id,value:e.value},e.label)}))))),d.a.createElement(jn.a.Item,{label:"\u8d44\u6e90\u7ecf\u7406",hasFeedback:!0},m("resourceManagerId",{rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{placeholder:"\u8bf7\u9009\u62e9\u9762\u8bd5\u5b98"},n.map((function(e){return d.a.createElement(li,{key:e.id,value:e.id},e.empName)}))))),d.a.createElement(jn.a.Item,{label:"\u62db\u8058\u7ea7\u522b",hasFeedback:!0},m("recruitmentLevel",{rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{onFocus:this.handleGetDicInfo.bind(this,"wutong_position_level"),placeholder:"\u8bf7\u9009\u62e9\u62db\u8058\u7ea7\u522b"},o.map((function(e){return d.a.createElement(li,{key:e.id,value:e.label},e.label)}))))),d.a.createElement(jn.a.Item,{label:"\u5de5\u4f5c\u5730\u70b9",hasFeedback:!0},m("workAddress",{rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Dn.a,{placeholder:"\u8bf7\u8f93\u5165\u5de5\u4f5c\u5730\u70b9"}))),d.a.createElement(jn.a.Item,{label:"\u804c\u4f4d\u7c7b\u578b",hasFeedback:!0},m("positionType",{rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(d.a.createElement(Nn.a,{onFocus:this.handleGetDicInfo.bind(this,"wutong_position_type"),placeholder:"\u8bf7\u9009\u62e9\u804c\u4f4d\u7c7b\u578b"},c.map((function(e){return d.a.createElement(li,{key:e.id,value:e.label},e.label)}))))),d.a.createElement(Gt.a,null,d.a.createElement(_t.a,{style:{marginRight:"10px",textAlign:"right"},span:6},"\u4e0a\u4f20\u7b80\u5386\uff1a"),d.a.createElement(_t.a,{span:16},d.a.createElement(Gn.a,{method:"post",headers:{Authorization:"Bearer "+p},listType:"personnel-card",className:"personnel-add-uploader",action:"/api/file/uploadLocalStorageFile.json",onChange:this.handleChangeFile.bind(this),fileList:u},d.a.createElement(On.a,{type:"upload"})," ",d.a.createElement("span",{className:"personnel-add-uploader-elect"},"\u9009\u62e9\u6587\u4ef6")))))))}}]),a}(u.Component))||cl,oi=jn.a.create()(ii),si=(t(678),["resourceMange","resourceMangeAdmin","admin"]),ci=Dn.a.Search,ui=Nn.a.Option,di=bl.a.TabPane,pi=Object(g.b)((function(e){return e.personnel}),s)(ul=function(e){function a(e){var t;return Object(xt.a)(this,a),(t=Object(Nt.a)(this,Object(Ft.a)(a).call(this,e))).handleOpenAddModal=function(){(0,t.props.changeAddModalVisible)({addModalvisible:!0})},t.queryUserPermission=function(){H.get("/api/user/queryUserPermission.json").then((function(e){if(e&&e.success){var a=e.data,n=[];a&&a.length&&a.forEach((function(e){n.push(e.permission)})),t.setState({permission:n})}else C.a.error("\u83b7\u53d6\u6743\u9650\u5931\u8d25")}))},t.handleChangeTabs=function(e){t.setState({activeKye:e,searchValue:""},(function(){var a=t.props,n=a.queryAssignInterviewList,r=a.queryInterviewList,l=a.changeCurrentPage,i=a.changeSelectedRowKeys;switch(e){case"distribution":n({currentPage:1,pageSize:10});break;case"interview":r({currentPage:1,pageSize:10})}i([]),l({interCurrentPage:1,dispCurrentPage:1})})),t.handleEmptyCheck()},t.handleSearchInput=function(e){var a=t.state.activeKye,n=t.props,r=n.queryAssignInterviewList,l=n.queryInterviewList,i=n.changeCurrentPage;"distribution"===a&&r({currentPage:1,pageSize:10,resumeUserPhone:e});"interview"===a&&l({currentPage:1,pageSize:10,resumeUserPhone:e});i({interCurrentPage:1,dispCurrentPage:1}),t.handleEmptyCheck()},t.handleEmptyCheck=function(){t.props.form.setFieldsValue({resumeStatus:"",initialInterviewResult:"",finalInterviewResult:"",interviewLevel:""}),t.setState({distriSearchValue:{},interviewSearchValue:{}})},t.handleChangeSearchInput=function(e){t.setState({searchValue:e.target.value})},t.handleSearchList=function(){t.props.form.validateFields((function(e,a){var n=t.state.activeKye,r=t.props,l=r.queryAssignInterviewList,i=r.queryInterviewList,o=r.changeCurrentPage;"distribution"===n&&(l(Object(E.a)({currentPage:1,pageSize:10},a)),t.setState({distriSearchValue:a}));"interview"===n&&(i(Object(E.a)({currentPage:1,pageSize:10},a)),t.setState({interviewSearchValue:a}));o({interCurrentPage:1,dispCurrentPage:1})})),t.setState({searchValue:""})},t.handleGetDicInfo=function(e){(0,t.props.dictInfo)(e)},t.state={activeKye:"interview",searchValue:"",distriSearchValue:{},interviewSearchValue:{},permission:[]},t}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentDidMount",value:function(){this.queryUserPermission();(0,this.props.queryInterviewList)({currentPage:1,pageSize:10})}},{key:"render",value:function(){var e=this,a=this.state,t=a.activeKye,n=a.searchValue,r=a.distriSearchValue,l=a.interviewSearchValue,i=a.permission,o=this.props.form.getFieldDecorator,s=this.props.leveList;return d.a.createElement("div",{className:"personnel-interview"},d.a.createElement(Gt.a,{className:"personnel-search"},d.a.createElement(_t.a,{span:12,className:"personnel-search-phone"},d.a.createElement(ci,{style:{width:"30%",marginLeft:"16px"},placeholder:"\u8f93\u5165\u7535\u8bdd\u53f7\u7801\u67e5\u8be2",enterButton:!0,onChange:function(a){return e.handleChangeSearchInput(a)},onSearch:function(a){return e.handleSearchInput(a)},value:n})),d.a.createElement(_t.a,{span:12,className:"personnel-add"},d.a.createElement(dn.a,{style:{marginRight:"20px"},disabled:!i.find((function(e){return si.includes(e)})),onClick:this.handleOpenAddModal.bind(this),type:"primary"},"\u65b0\u589e\u7b80\u5386"))),d.a.createElement(Gt.a,{className:"personnel-check"},d.a.createElement(jn.a,null,d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:6},wrapperCol:{span:16},label:"\u7b80\u5386\u72b6\u6001",hasFeedback:!0},o("resumeStatus",{})(d.a.createElement(Nn.a,{allowClear:!0},$n.map((function(e){return d.a.createElement(ui,{key:e.value,value:e.value},e.label)})))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:5},wrapperCol:{span:16},label:"\u521d\u9762\u7ed3\u679c",hasFeedback:!0},o("initialInterviewResult",{})(d.a.createElement(Nn.a,{allowClear:!0},Xn.map((function(e){return d.a.createElement(ui,{key:e.value,value:e.value},e.label)})))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:5},wrapperCol:{span:16},label:"\u7ec8\u9762\u7ed3\u679c",hasFeedback:!0},o("finalInterviewResult",{})(d.a.createElement(Nn.a,{allowClear:!0},Zn.map((function(e){return d.a.createElement(ui,{key:e.value,value:e.value},e.label)})))))),d.a.createElement(_t.a,{span:5},d.a.createElement(jn.a.Item,{labelCol:{span:5},wrapperCol:{span:16},label:"\u5efa\u8bae\u7ea7\u522b",hasFeedback:!0},o("interviewLevel",{})(d.a.createElement(Nn.a,{allowClear:!0,onFocus:this.handleGetDicInfo.bind(this,"wutong_position_level")},s.map((function(e){return d.a.createElement(ui,{key:e.id,value:e.label},e.label)})))))),d.a.createElement(_t.a,{span:4,style:{textAlign:"right"}},d.a.createElement(dn.a,{type:"primary",style:{width:"88px",marginTop:"3px",marginRight:"8%"},onClick:this.handleSearchList.bind(this)},"\u67e5\u8be2")))),d.a.createElement(Gt.a,{className:"personnel-content"},d.a.createElement(_t.a,{span:24},d.a.createElement(bl.a,{animated:!1,defaultActiveKey:t,onChange:this.handleChangeTabs},d.a.createElement(di,{tab:"\u7b80\u5386\u9762\u8bd5",key:"interview"},d.a.createElement(ni,{interviewSearchValue:l})),d.a.createElement(di,{tab:"\u7b80\u5386\u5206\u914d",key:"distribution"},d.a.createElement(ti,{distriSearchValue:r,activeKye:t}))))),d.a.createElement(oi,null))}}]),a}(u.Component))||ul,mi=jn.a.create()(pi),hi=["/interview/login","/interview/home","/interview/personnel"],fi=["/login","/register","/home","/basic","/education","/project","/leave","/analysis"],gi=function(e){function a(){return Object(xt.a)(this,a),Object(Nt.a)(this,Object(Ft.a)(a).apply(this,arguments))}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"componentWillReceiveProps",value:function(e){var a=e.history.location.pathname,t=localStorage.getItem("flag"),n=localStorage.getItem("token");"/register"!==a&&(t&&"false"!==t&&n&&("/login"===a&&this.props.history.push("/home"),"/interview/login"===a&&this.props.history.push("/interview/home")),null!==t&&"false"!==t||"/login"===a&&"/interview/login"===a||(fn.includes(a)&&this.props.history.push("/login"),gn.includes(a)&&this.props.history.push("/interview/login")))}},{key:"componentDidMount",value:function(){var e=this.props.location.pathname,a=localStorage.getItem("flag");localStorage.getItem("token");null!==a&&"false"!==a||"/login"===e&&"/interview/login"===e||(fn.includes(e)&&this.props.history.push("/login"),gn.includes(e)&&this.props.history.push("/interview/login"))}},{key:"render",value:function(){var e=this.props.location.pathname;return hi.includes(e)&&(document.title="\u5185\u9762\u7ba1\u7406\u7cfb\u7edf"),fi.includes(e)&&(document.title="\u5728\u804c\u4eba\u5458\u7ba1\u7406\u7cfb\u7edf"),null}}]),a}(u.Component),yi=Object(g.b)((function(e){return{state:e}}))(Object(Rt.f)(gi)),bi=function(e){function a(){return Object(xt.a)(this,a),Object(Nt.a)(this,Object(Ft.a)(a).apply(this,arguments))}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){localStorage.getItem("flag");var e=this.props.location.pathname;return d.a.createElement("div",{style:{minWidth:"1300px"}},d.a.createElement(yi,null),hn.includes(e)&&d.a.createElement(vn,null),d.a.createElement(Rt.c,null,d.a.createElement(Rt.a,{exact:!0,path:"/login",component:xn}),d.a.createElement(Rt.a,{exact:!0,path:"/interview/login",component:xn}),d.a.createElement(Rt.a,{exact:!0,path:"/register",component:Pn}),d.a.createElement(Rt.a,{exact:!0,path:"/home",component:cn}),d.a.createElement(Rt.a,{exact:!0,path:"/interview/home",component:cn}),d.a.createElement(Rt.a,{path:"/basic",component:dr}),d.a.createElement(Rt.a,{path:"/education",component:wr}),d.a.createElement(Rt.a,{path:"/project",component:Rr}),d.a.createElement(Rt.a,{path:"/leave",component:gl}),d.a.createElement(Rt.a,{path:"/analysis",component:Ul}),d.a.createElement(Rt.a,{path:"/interview/personnel",component:mi}),d.a.createElement(Rt.a,{component:Rn})))}}]),a}(u.Component),Ei=Object(Rt.f)(bi),vi=function(e){function a(){return Object(xt.a)(this,a),Object(Nt.a)(this,Object(Ft.a)(a).apply(this,arguments))}return Object(At.a)(a,e),Object(Lt.a)(a,[{key:"render",value:function(){return d.a.createElement(Pt.a,null,d.a.createElement(Ei,null))}}]),a}(u.Component);f.a.locale("zh-cn"),m.a.render(d.a.createElement(g.a,{store:Tt},d.a.createElement(vi,null)),document.getElementById("root"))}},[[281,1,2]]]);
//# sourceMappingURL=main.5ba7197b.chunk.js.map